(function($){var ver="2.99";if($.support==undefined){$.support={opacity:!($.browser.msie)}}function debug(s){$.fn.cycle.debug&&log(s)}function log(){window.console&&console.log&&console.log("[cycle] "+Array.prototype.join.call(arguments," "))}$.expr[":"].paused=function(el){return el.cyclePause};$.fn.cycle=function(options,arg2){var o={s:this.selector,c:this.context};if(this.length===0&&options!="stop"){if(!$.isReady&&o.s){log("DOM not ready, queuing slideshow");$(function(){$(o.s,o.c).cycle(options,arg2)});return this}log("terminating; zero elements found by selector"+($.isReady?"":" (DOM not ready)"));return this}return this.each(function(){var opts=handleArguments(this,options,arg2);if(opts===false){return}opts.updateActivePagerLink=opts.updateActivePagerLink||$.fn.cycle.updateActivePagerLink;if(this.cycleTimeout){clearTimeout(this.cycleTimeout)}this.cycleTimeout=this.cyclePause=0;var $cont=$(this);var $slides=opts.slideExpr?$(opts.slideExpr,this):$cont.children();var els=$slides.get();if(els.length<2){log("terminating; too few slides: "+els.length);return}var opts2=buildOptions($cont,$slides,els,opts,o);if(opts2===false){return}var startTime=opts2.continuous?10:getTimeout(els[opts2.currSlide],els[opts2.nextSlide],opts2,!opts2.backwards);if(startTime){startTime+=(opts2.delay||0);if(startTime<10){startTime=10}debug("first timeout: "+startTime);this.cycleTimeout=setTimeout(function(){go(els,opts2,0,!opts.backwards)},startTime)}})};function handleArguments(cont,options,arg2){if(cont.cycleStop==undefined){cont.cycleStop=0}if(options===undefined||options===null){options={}}if(options.constructor==String){switch(options){case"destroy":case"stop":var opts=$(cont).data("cycle.opts");if(!opts){return false}cont.cycleStop++;if(cont.cycleTimeout){clearTimeout(cont.cycleTimeout)}cont.cycleTimeout=0;$(cont).removeData("cycle.opts");if(options=="destroy"){destroy(opts)}return false;case"toggle":cont.cyclePause=(cont.cyclePause===1)?0:1;checkInstantResume(cont.cyclePause,arg2,cont);return false;case"pause":cont.cyclePause=1;return false;case"resume":cont.cyclePause=0;checkInstantResume(false,arg2,cont);return false;case"prev":case"next":var opts=$(cont).data("cycle.opts");if(!opts){log('options not found, "prev/next" ignored');return false}$.fn.cycle[options](opts);return false;default:options={fx:options}}return options}else{if(options.constructor==Number){var num=options;options=$(cont).data("cycle.opts");if(!options){log("options not found, can not advance slide");return false}if(num<0||num>=options.elements.length){log("invalid slide index: "+num);return false}options.nextSlide=num;if(cont.cycleTimeout){clearTimeout(cont.cycleTimeout);cont.cycleTimeout=0}if(typeof arg2=="string"){options.oneTimeFx=arg2}go(options.elements,options,1,num>=options.currSlide);return false}}return options;function checkInstantResume(isPaused,arg2,cont){if(!isPaused&&arg2===true){var options=$(cont).data("cycle.opts");if(!options){log("options not found, can not resume");return false}if(cont.cycleTimeout){clearTimeout(cont.cycleTimeout);cont.cycleTimeout=0}go(options.elements,options,1,!options.backwards)}}}function removeFilter(el,opts){if(!$.support.opacity&&opts.cleartype&&el.style.filter){try{el.style.removeAttribute("filter")}catch(smother){}}}function destroy(opts){if(opts.next){$(opts.next).unbind(opts.prevNextEvent)}if(opts.prev){$(opts.prev).unbind(opts.prevNextEvent)}if(opts.pager||opts.pagerAnchorBuilder){$.each(opts.pagerAnchors||[],function(){this.unbind().remove()})}opts.pagerAnchors=null;if(opts.destroy){opts.destroy(opts)}}function buildOptions($cont,$slides,els,options,o){var opts=$.extend({},$.fn.cycle.defaults,options||{},$.metadata?$cont.metadata():$.meta?$cont.data():{});if(opts.autostop){opts.countdown=opts.autostopCount||els.length}var cont=$cont[0];$cont.data("cycle.opts",opts);opts.$cont=$cont;opts.stopCount=cont.cycleStop;opts.elements=els;opts.before=opts.before?[opts.before]:[];opts.after=opts.after?[opts.after]:[];if(!$.support.opacity&&opts.cleartype){opts.after.push(function(){removeFilter(this,opts)})}if(opts.continuous){opts.after.push(function(){go(els,opts,0,!opts.backwards)})}saveOriginalOpts(opts);if(!$.support.opacity&&opts.cleartype&&!opts.cleartypeNoBg){clearTypeFix($slides)}if($cont.css("position")=="static"){$cont.css("position","relative")}if(opts.width){$cont.width(opts.width)}if(opts.height&&opts.height!="auto"){$cont.height(opts.height)}if(opts.startingSlide){opts.startingSlide=parseInt(opts.startingSlide)}else{if(opts.backwards){opts.startingSlide=els.length-1}}if(opts.random){opts.randomMap=[];for(var i=0;i<els.length;i++){opts.randomMap.push(i)}opts.randomMap.sort(function(a,b){return Math.random()-0.5});opts.randomIndex=1;opts.startingSlide=opts.randomMap[1]}else{if(opts.startingSlide>=els.length){opts.startingSlide=0}}opts.currSlide=opts.startingSlide||0;var first=opts.startingSlide;$slides.css({position:"absolute",top:0,left:0}).hide().each(function(i){var z;if(opts.backwards){z=first?i<=first?els.length+(i-first):first-i:els.length-i}else{z=first?i>=first?els.length-(i-first):first-i:els.length-i}$(this).css("z-index",z)});$(els[first]).css("opacity",1).show();removeFilter(els[first],opts);if(opts.fit&&opts.width){$slides.width(opts.width)}if(opts.fit&&opts.height&&opts.height!="auto"){$slides.height(opts.height)}var reshape=opts.containerResize&&!$cont.innerHeight();if(reshape){var maxw=0,maxh=0;for(var j=0;j<els.length;j++){var $e=$(els[j]),e=$e[0],w=$e.outerWidth(),h=$e.outerHeight();if(!w){w=e.offsetWidth||e.width||$e.attr("width")}if(!h){h=e.offsetHeight||e.height||$e.attr("height")}maxw=w>maxw?w:maxw;maxh=h>maxh?h:maxh}if(maxw>0&&maxh>0){$cont.css({width:maxw+"px",height:maxh+"px"})}}if(opts.pause){$cont.hover(function(){this.cyclePause++},function(){this.cyclePause--})}if(supportMultiTransitions(opts)===false){return false}var requeue=false;options.requeueAttempts=options.requeueAttempts||0;$slides.each(function(){var $el=$(this);this.cycleH=(opts.fit&&opts.height)?opts.height:($el.height()||this.offsetHeight||this.height||$el.attr("height")||0);this.cycleW=(opts.fit&&opts.width)?opts.width:($el.width()||this.offsetWidth||this.width||$el.attr("width")||0);if($el.is("img")){var loadingIE=($.browser.msie&&this.cycleW==28&&this.cycleH==30&&!this.complete);var loadingFF=($.browser.mozilla&&this.cycleW==34&&this.cycleH==19&&!this.complete);var loadingOp=($.browser.opera&&((this.cycleW==42&&this.cycleH==19)||(this.cycleW==37&&this.cycleH==17))&&!this.complete);var loadingOther=(this.cycleH==0&&this.cycleW==0&&!this.complete);if(loadingIE||loadingFF||loadingOp||loadingOther){if(o.s&&opts.requeueOnImageNotLoaded&&++options.requeueAttempts<100){log(options.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH);setTimeout(function(){$(o.s,o.c).cycle(options)},opts.requeueTimeout);requeue=true;return false}else{log("could not determine size of image: "+this.src,this.cycleW,this.cycleH)}}}return true});if(requeue){return false}opts.cssBefore=opts.cssBefore||{};opts.cssAfter=opts.cssAfter||{};opts.cssFirst=opts.cssFirst||{};opts.animIn=opts.animIn||{};opts.animOut=opts.animOut||{};$slides.not(":eq("+first+")").css(opts.cssBefore);$($slides[first]).css(opts.cssFirst);if(opts.timeout){opts.timeout=parseInt(opts.timeout);if(opts.speed.constructor==String){opts.speed=$.fx.speeds[opts.speed]||parseInt(opts.speed)}if(!opts.sync){opts.speed=opts.speed/2}var buffer=opts.fx=="none"?0:opts.fx=="shuffle"?500:250;while((opts.timeout-opts.speed)<buffer){opts.timeout+=opts.speed}}if(opts.easing){opts.easeIn=opts.easeOut=opts.easing}if(!opts.speedIn){opts.speedIn=opts.speed}if(!opts.speedOut){opts.speedOut=opts.speed}opts.slideCount=els.length;opts.currSlide=opts.lastSlide=first;if(opts.random){if(++opts.randomIndex==els.length){opts.randomIndex=0}opts.nextSlide=opts.randomMap[opts.randomIndex]}else{if(opts.backwards){opts.nextSlide=opts.startingSlide==0?(els.length-1):opts.startingSlide-1}else{opts.nextSlide=opts.startingSlide>=(els.length-1)?0:opts.startingSlide+1}}if(!opts.multiFx){var init=$.fn.cycle.transitions[opts.fx];if($.isFunction(init)){init($cont,$slides,opts)}else{if(opts.fx!="custom"&&!opts.multiFx){log("unknown transition: "+opts.fx,"; slideshow terminating");return false}}}var e0=$slides[first];if(opts.before.length){opts.before[0].apply(e0,[e0,e0,opts,true])}if(opts.after.length){opts.after[0].apply(e0,[e0,e0,opts,true])}if(opts.next){$(opts.next).bind(opts.prevNextEvent,function(){return advance(opts,1)})}if(opts.prev){$(opts.prev).bind(opts.prevNextEvent,function(){return advance(opts,0)})}if(opts.pager||opts.pagerAnchorBuilder){buildPager(els,opts)}exposeAddSlide(opts,els);return opts}function saveOriginalOpts(opts){opts.original={before:[],after:[]};opts.original.cssBefore=$.extend({},opts.cssBefore);opts.original.cssAfter=$.extend({},opts.cssAfter);opts.original.animIn=$.extend({},opts.animIn);opts.original.animOut=$.extend({},opts.animOut);$.each(opts.before,function(){opts.original.before.push(this)});$.each(opts.after,function(){opts.original.after.push(this)})}function supportMultiTransitions(opts){var i,tx,txs=$.fn.cycle.transitions;if(opts.fx.indexOf(",")>0){opts.multiFx=true;opts.fxs=opts.fx.replace(/\s*/g,"").split(",");for(i=0;i<opts.fxs.length;i++){var fx=opts.fxs[i];tx=txs[fx];if(!tx||!txs.hasOwnProperty(fx)||!$.isFunction(tx)){log("discarding unknown transition: ",fx);opts.fxs.splice(i,1);i--}}if(!opts.fxs.length){log("No valid transitions named; slideshow terminating.");return false}}else{if(opts.fx=="all"){opts.multiFx=true;opts.fxs=[];for(p in txs){tx=txs[p];if(txs.hasOwnProperty(p)&&$.isFunction(tx)){opts.fxs.push(p)}}}}if(opts.multiFx&&opts.randomizeEffects){var r1=Math.floor(Math.random()*20)+30;for(i=0;i<r1;i++){var r2=Math.floor(Math.random()*opts.fxs.length);opts.fxs.push(opts.fxs.splice(r2,1)[0])}debug("randomized fx sequence: ",opts.fxs)}return true}function exposeAddSlide(opts,els){opts.addSlide=function(newSlide,prepend){var $s=$(newSlide),s=$s[0];if(!opts.autostopCount){opts.countdown++}els[prepend?"unshift":"push"](s);if(opts.els){opts.els[prepend?"unshift":"push"](s)}opts.slideCount=els.length;$s.css("position","absolute");$s[prepend?"prependTo":"appendTo"](opts.$cont);if(prepend){opts.currSlide++;opts.nextSlide++}if(!$.support.opacity&&opts.cleartype&&!opts.cleartypeNoBg){clearTypeFix($s)}if(opts.fit&&opts.width){$s.width(opts.width)}if(opts.fit&&opts.height&&opts.height!="auto"){$s.height(opts.height)}s.cycleH=(opts.fit&&opts.height)?opts.height:$s.height();s.cycleW=(opts.fit&&opts.width)?opts.width:$s.width();$s.css(opts.cssBefore);if(opts.pager||opts.pagerAnchorBuilder){$.fn.cycle.createPagerAnchor(els.length-1,s,$(opts.pager),els,opts)}if($.isFunction(opts.onAddSlide)){opts.onAddSlide($s)}else{$s.hide()}}}$.fn.cycle.resetState=function(opts,fx){fx=fx||opts.fx;opts.before=[];opts.after=[];opts.cssBefore=$.extend({},opts.original.cssBefore);opts.cssAfter=$.extend({},opts.original.cssAfter);opts.animIn=$.extend({},opts.original.animIn);opts.animOut=$.extend({},opts.original.animOut);opts.fxFn=null;$.each(opts.original.before,function(){opts.before.push(this)});$.each(opts.original.after,function(){opts.after.push(this)});var init=$.fn.cycle.transitions[fx];if($.isFunction(init)){init(opts.$cont,$(opts.elements),opts)}};function go(els,opts,manual,fwd){if(manual&&opts.busy&&opts.manualTrump){debug("manualTrump in go(), stopping active transition");$(els).stop(true,true);opts.busy=0}if(opts.busy){debug("transition active, ignoring new tx request");return}var p=opts.$cont[0],curr=els[opts.currSlide],next=els[opts.nextSlide];if(p.cycleStop!=opts.stopCount||p.cycleTimeout===0&&!manual){return}if(!manual&&!p.cyclePause&&!opts.bounce&&((opts.autostop&&(--opts.countdown<=0))||(opts.nowrap&&!opts.random&&opts.nextSlide<opts.currSlide))){if(opts.end){opts.end(opts)}return}var changed=false;if((manual||!p.cyclePause)&&(opts.nextSlide!=opts.currSlide)){changed=true;var fx=opts.fx;curr.cycleH=curr.cycleH||$(curr).height();curr.cycleW=curr.cycleW||$(curr).width();next.cycleH=next.cycleH||$(next).height();next.cycleW=next.cycleW||$(next).width();if(opts.multiFx){if(opts.lastFx==undefined||++opts.lastFx>=opts.fxs.length){opts.lastFx=0}fx=opts.fxs[opts.lastFx];opts.currFx=fx}if(opts.oneTimeFx){fx=opts.oneTimeFx;opts.oneTimeFx=null}$.fn.cycle.resetState(opts,fx);if(opts.before.length){$.each(opts.before,function(i,o){if(p.cycleStop!=opts.stopCount){return}o.apply(next,[curr,next,opts,fwd])})}var after=function(){opts.busy=0;$.each(opts.after,function(i,o){if(p.cycleStop!=opts.stopCount){return}o.apply(next,[curr,next,opts,fwd])})};debug("tx firing("+fx+"); currSlide: "+opts.currSlide+"; nextSlide: "+opts.nextSlide);opts.busy=1;if(opts.fxFn){opts.fxFn(curr,next,opts,after,fwd,manual&&opts.fastOnEvent)}else{if($.isFunction($.fn.cycle[opts.fx])){$.fn.cycle[opts.fx](curr,next,opts,after,fwd,manual&&opts.fastOnEvent)}else{$.fn.cycle.custom(curr,next,opts,after,fwd,manual&&opts.fastOnEvent)}}}if(changed||opts.nextSlide==opts.currSlide){opts.lastSlide=opts.currSlide;if(opts.random){opts.currSlide=opts.nextSlide;if(++opts.randomIndex==els.length){opts.randomIndex=0}opts.nextSlide=opts.randomMap[opts.randomIndex];if(opts.nextSlide==opts.currSlide){opts.nextSlide=(opts.currSlide==opts.slideCount-1)?0:opts.currSlide+1}}else{if(opts.backwards){var roll=(opts.nextSlide-1)<0;if(roll&&opts.bounce){opts.backwards=!opts.backwards;opts.nextSlide=1;opts.currSlide=0}else{opts.nextSlide=roll?(els.length-1):opts.nextSlide-1;opts.currSlide=roll?0:opts.nextSlide+1}}else{var roll=(opts.nextSlide+1)==els.length;if(roll&&opts.bounce){opts.backwards=!opts.backwards;opts.nextSlide=els.length-2;opts.currSlide=els.length-1}else{opts.nextSlide=roll?0:opts.nextSlide+1;opts.currSlide=roll?els.length-1:opts.nextSlide-1}}}}if(changed&&opts.pager){opts.updateActivePagerLink(opts.pager,opts.currSlide,opts.activePagerClass)}var ms=0;if(opts.timeout&&!opts.continuous){ms=getTimeout(els[opts.currSlide],els[opts.nextSlide],opts,fwd)}else{if(opts.continuous&&p.cyclePause){ms=10}}if(ms>0){p.cycleTimeout=setTimeout(function(){go(els,opts,0,!opts.backwards)},ms)}}$.fn.cycle.updateActivePagerLink=function(pager,currSlide,clsName){$(pager).each(function(){$(this).children().removeClass(clsName).eq(currSlide).addClass(clsName)})};function getTimeout(curr,next,opts,fwd){if(opts.timeoutFn){var t=opts.timeoutFn.call(curr,curr,next,opts,fwd);while(opts.fx!="none"&&(t-opts.speed)<250){t+=opts.speed}debug("calculated timeout: "+t+"; speed: "+opts.speed);if(t!==false){return t}}return opts.timeout}$.fn.cycle.next=function(opts){advance(opts,1)};$.fn.cycle.prev=function(opts){advance(opts,0)};function advance(opts,moveForward){var val=moveForward?1:-1;var els=opts.elements;var p=opts.$cont[0],timeout=p.cycleTimeout;if(timeout){clearTimeout(timeout);p.cycleTimeout=0}if(opts.random&&val<0){opts.randomIndex--;if(--opts.randomIndex==-2){opts.randomIndex=els.length-2}else{if(opts.randomIndex==-1){opts.randomIndex=els.length-1}}opts.nextSlide=opts.randomMap[opts.randomIndex]}else{if(opts.random){opts.nextSlide=opts.randomMap[opts.randomIndex]}else{opts.nextSlide=opts.currSlide+val;if(opts.nextSlide<0){if(opts.nowrap){return false}opts.nextSlide=els.length-1}else{if(opts.nextSlide>=els.length){if(opts.nowrap){return false}opts.nextSlide=0}}}}var cb=opts.onPrevNextEvent||opts.prevNextClick;if($.isFunction(cb)){cb(val>0,opts.nextSlide,els[opts.nextSlide])}go(els,opts,1,moveForward);return false}function buildPager(els,opts){var $p=$(opts.pager);$.each(els,function(i,o){$.fn.cycle.createPagerAnchor(i,o,$p,els,opts)});opts.updateActivePagerLink(opts.pager,opts.startingSlide,opts.activePagerClass)}$.fn.cycle.createPagerAnchor=function(i,el,$p,els,opts){var a;if($.isFunction(opts.pagerAnchorBuilder)){a=opts.pagerAnchorBuilder(i,el);debug("pagerAnchorBuilder("+i+", el) returned: "+a)}else{a='<a href="#">'+(i+1)+"</a>"}if(!a){return}var $a=$(a);if($a.parents("body").length===0){var arr=[];if($p.length>1){$p.each(function(){var $clone=$a.clone(true);$(this).append($clone);arr.push($clone[0])});$a=$(arr)}else{$a.appendTo($p)}}opts.pagerAnchors=opts.pagerAnchors||[];opts.pagerAnchors.push($a);$a.bind(opts.pagerEvent,function(e){e.preventDefault();opts.nextSlide=i;var p=opts.$cont[0],timeout=p.cycleTimeout;if(timeout){clearTimeout(timeout);p.cycleTimeout=0}var cb=opts.onPagerEvent||opts.pagerClick;if($.isFunction(cb)){cb(opts.nextSlide,els[opts.nextSlide])}go(els,opts,1,opts.currSlide<i)});if(!/^click/.test(opts.pagerEvent)&&!opts.allowPagerClickBubble){$a.bind("click.cycle",function(){return false})}if(opts.pauseOnPagerHover){$a.hover(function(){opts.$cont[0].cyclePause++},function(){opts.$cont[0].cyclePause--})}};$.fn.cycle.hopsFromLast=function(opts,fwd){var hops,l=opts.lastSlide,c=opts.currSlide;if(fwd){hops=c>l?c-l:opts.slideCount-l}else{hops=c<l?l-c:l+opts.slideCount-c}return hops};function clearTypeFix($slides){debug("applying clearType background-color hack");function hex(s){s=parseInt(s).toString(16);return s.length<2?"0"+s:s}function getBg(e){return"transparent";for(;e&&e.nodeName.toLowerCase()!="html";e=e.parentNode){var v=$.css(e,"background-color");if(v&&v.indexOf("rgb")>=0){var rgb=v.match(/\d+/g);return"#"+hex(rgb[0])+hex(rgb[1])+hex(rgb[2])}if(v&&v!="transparent"){return v}}return"#ffffff"}$slides.each(function(){$(this).css("background-color",getBg(this))})}$.fn.cycle.commonReset=function(curr,next,opts,w,h,rev){$(opts.elements).not(curr).hide();if(typeof opts.cssBefore.opacity=="undefined"){opts.cssBefore.opacity=1}opts.cssBefore.display="block";if(opts.slideResize&&w!==false&&next.cycleW>0){opts.cssBefore.width=next.cycleW}if(opts.slideResize&&h!==false&&next.cycleH>0){opts.cssBefore.height=next.cycleH}opts.cssAfter=opts.cssAfter||{};opts.cssAfter.display="none";$(curr).css("zIndex",opts.slideCount+(rev===true?1:0));$(next).css("zIndex",opts.slideCount+(rev===true?0:1))};$.fn.cycle.custom=function(curr,next,opts,cb,fwd,speedOverride){var $l=$(curr),$n=$(next);var speedIn=opts.speedIn,speedOut=opts.speedOut,easeIn=opts.easeIn,easeOut=opts.easeOut;$n.css(opts.cssBefore);if(speedOverride){if(typeof speedOverride=="number"){speedIn=speedOut=speedOverride}else{speedIn=speedOut=1}easeIn=easeOut=null}var fn=function(){$n.animate(opts.animIn,speedIn,easeIn,function(){cb()})};$l.animate(opts.animOut,speedOut,easeOut,function(){$l.css(opts.cssAfter);if(!opts.sync){fn()}});if(opts.sync){fn()}};$.fn.cycle.transitions={fade:function($cont,$slides,opts){$slides.not(":eq("+opts.currSlide+")").css("opacity",0);opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts);opts.cssBefore.opacity=0});opts.animIn={opacity:1};opts.animOut={opacity:0};opts.cssBefore={top:0,left:0}}};$.fn.cycle.ver=function(){return ver};$.fn.cycle.defaults={activePagerClass:"activeSlide",after:null,allowPagerClickBubble:false,animIn:null,animOut:null,autostop:0,autostopCount:0,backwards:false,before:null,cleartype:!$.support.opacity,cleartypeNoBg:false,containerResize:1,continuous:0,cssAfter:null,cssBefore:null,delay:0,easeIn:null,easeOut:null,easing:null,end:null,fastOnEvent:0,fit:0,fx:"fade",fxFn:null,height:"auto",manualTrump:true,next:null,nowrap:0,onPagerEvent:null,onPrevNextEvent:null,pager:null,pagerAnchorBuilder:null,pagerEvent:"click.cycle",pause:0,pauseOnPagerHover:0,prev:null,prevNextEvent:"click.cycle",random:0,randomizeEffects:1,requeueOnImageNotLoaded:true,requeueTimeout:250,rev:0,shuffle:null,slideExpr:null,slideResize:1,speed:1000,speedIn:null,speedOut:null,startingSlide:0,sync:1,timeout:4000,timeoutFn:null,updateActivePagerLink:null}})(jQuery);(function($){$.fn.cycle.transitions.none=function($cont,$slides,opts){opts.fxFn=function(curr,next,opts,after){$(next).show();$(curr).hide();after()}};$.fn.cycle.transitions.fadeout=function($cont,$slides,opts){$slides.not(":eq("+opts.currSlide+")").css({display:"block",opacity:1});opts.before.push(function(curr,next,opts,w,h,rev){$(curr).css("zIndex",opts.slideCount+(!rev===true?1:0));$(next).css("zIndex",opts.slideCount+(!rev===true?0:1))});opts.animIn.opacity=1;opts.animOut.opacity=0;opts.cssBefore.opacity=1;opts.cssBefore.display="block";opts.cssAfter.zIndex=0};$.fn.cycle.transitions.scrollUp=function($cont,$slides,opts){$cont.css("overflow","hidden");opts.before.push($.fn.cycle.commonReset);var h=$cont.height();opts.cssBefore.top=h;opts.cssBefore.left=0;opts.cssFirst.top=0;opts.animIn.top=0;opts.animOut.top=-h};$.fn.cycle.transitions.scrollDown=function($cont,$slides,opts){$cont.css("overflow","hidden");opts.before.push($.fn.cycle.commonReset);var h=$cont.height();opts.cssFirst.top=0;opts.cssBefore.top=-h;opts.cssBefore.left=0;opts.animIn.top=0;opts.animOut.top=h};$.fn.cycle.transitions.scrollLeft=function($cont,$slides,opts){$cont.css("overflow","hidden");opts.before.push($.fn.cycle.commonReset);var w=$cont.width();opts.cssFirst.left=0;opts.cssBefore.left=w;opts.cssBefore.top=0;opts.animIn.left=0;opts.animOut.left=0-w};$.fn.cycle.transitions.scrollRight=function($cont,$slides,opts){$cont.css("overflow","hidden");opts.before.push($.fn.cycle.commonReset);var w=$cont.width();opts.cssFirst.left=0;opts.cssBefore.left=-w;opts.cssBefore.top=0;opts.animIn.left=0;opts.animOut.left=w};$.fn.cycle.transitions.scrollHorz=function($cont,$slides,opts){$cont.css("overflow","hidden").width();opts.before.push(function(curr,next,opts,fwd){if(opts.rev){fwd=!fwd}$.fn.cycle.commonReset(curr,next,opts);opts.cssBefore.left=fwd?(next.cycleW-1):(1-next.cycleW);opts.animOut.left=fwd?-curr.cycleW:curr.cycleW});opts.cssFirst.left=0;opts.cssBefore.top=0;opts.animIn.left=0;opts.animOut.top=0};$.fn.cycle.transitions.scrollVert=function($cont,$slides,opts){$cont.css("overflow","hidden");opts.before.push(function(curr,next,opts,fwd){if(opts.rev){fwd=!fwd}$.fn.cycle.commonReset(curr,next,opts);opts.cssBefore.top=fwd?(1-next.cycleH):(next.cycleH-1);opts.animOut.top=fwd?curr.cycleH:-curr.cycleH});opts.cssFirst.top=0;opts.cssBefore.left=0;opts.animIn.top=0;opts.animOut.left=0};$.fn.cycle.transitions.slideX=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$(opts.elements).not(curr).hide();$.fn.cycle.commonReset(curr,next,opts,false,true);opts.animIn.width=next.cycleW});opts.cssBefore.left=0;opts.cssBefore.top=0;opts.cssBefore.width=0;opts.animIn.width="show";opts.animOut.width=0};$.fn.cycle.transitions.slideY=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$(opts.elements).not(curr).hide();$.fn.cycle.commonReset(curr,next,opts,true,false);opts.animIn.height=next.cycleH});opts.cssBefore.left=0;opts.cssBefore.top=0;opts.cssBefore.height=0;opts.animIn.height="show";opts.animOut.height=0};$.fn.cycle.transitions.shuffle=function($cont,$slides,opts){var i,w=$cont.css("overflow","visible").width();$slides.css({left:0,top:0});opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,true,true)});if(!opts.speedAdjusted){opts.speed=opts.speed/2;opts.speedAdjusted=true}opts.random=0;opts.shuffle=opts.shuffle||{left:-w,top:15};opts.els=[];for(i=0;i<$slides.length;i++){opts.els.push($slides[i])}for(i=0;i<opts.currSlide;i++){opts.els.push(opts.els.shift())}opts.fxFn=function(curr,next,opts,cb,fwd){if(opts.rev){fwd=!fwd}var $el=fwd?$(curr):$(next);$(next).css(opts.cssBefore);var count=opts.slideCount;$el.animate(opts.shuffle,opts.speedIn,opts.easeIn,function(){var hops=$.fn.cycle.hopsFromLast(opts,fwd);for(var k=0;k<hops;k++){fwd?opts.els.push(opts.els.shift()):opts.els.unshift(opts.els.pop())}if(fwd){for(var i=0,len=opts.els.length;i<len;i++){$(opts.els[i]).css("z-index",len-i+count)}}else{var z=$(curr).css("z-index");$el.css("z-index",parseInt(z)+1+count)}$el.animate({left:0,top:0},opts.speedOut,opts.easeOut,function(){$(fwd?this:curr).hide();if(cb){cb()}})})};$.extend(opts.cssBefore,{display:"block",opacity:1,top:0,left:0})};$.fn.cycle.transitions.turnUp=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,false);opts.cssBefore.top=next.cycleH;opts.animIn.height=next.cycleH;opts.animOut.width=next.cycleW});opts.cssFirst.top=0;opts.cssBefore.left=0;opts.cssBefore.height=0;opts.animIn.top=0;opts.animOut.height=0};$.fn.cycle.transitions.turnDown=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,false);opts.animIn.height=next.cycleH;opts.animOut.top=curr.cycleH});opts.cssFirst.top=0;opts.cssBefore.left=0;opts.cssBefore.top=0;opts.cssBefore.height=0;opts.animOut.height=0};$.fn.cycle.transitions.turnLeft=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,false,true);opts.cssBefore.left=next.cycleW;opts.animIn.width=next.cycleW});opts.cssBefore.top=0;opts.cssBefore.width=0;opts.animIn.left=0;opts.animOut.width=0};$.fn.cycle.transitions.turnRight=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,false,true);opts.animIn.width=next.cycleW;opts.animOut.left=curr.cycleW});$.extend(opts.cssBefore,{top:0,left:0,width:0});opts.animIn.left=0;opts.animOut.width=0};$.fn.cycle.transitions.zoom=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,false,false,true);opts.cssBefore.top=next.cycleH/2;opts.cssBefore.left=next.cycleW/2;$.extend(opts.animIn,{top:0,left:0,width:next.cycleW,height:next.cycleH});$.extend(opts.animOut,{width:0,height:0,top:curr.cycleH/2,left:curr.cycleW/2})});opts.cssFirst.top=0;opts.cssFirst.left=0;opts.cssBefore.width=0;opts.cssBefore.height=0};$.fn.cycle.transitions.fadeZoom=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,false,false);opts.cssBefore.left=next.cycleW/2;opts.cssBefore.top=next.cycleH/2;$.extend(opts.animIn,{top:0,left:0,width:next.cycleW,height:next.cycleH})});opts.cssBefore.width=0;opts.cssBefore.height=0;opts.animOut.opacity=0};$.fn.cycle.transitions.blindX=function($cont,$slides,opts){var w=$cont.css("overflow","hidden").width();opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts);opts.animIn.width=next.cycleW;opts.animOut.left=curr.cycleW});opts.cssBefore.left=w;opts.cssBefore.top=0;opts.animIn.left=0;opts.animOut.left=w};$.fn.cycle.transitions.blindY=function($cont,$slides,opts){var h=$cont.css("overflow","hidden").height();opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts);opts.animIn.height=next.cycleH;opts.animOut.top=curr.cycleH});opts.cssBefore.top=h;opts.cssBefore.left=0;opts.animIn.top=0;opts.animOut.top=h};$.fn.cycle.transitions.blindZ=function($cont,$slides,opts){var h=$cont.css("overflow","hidden").height();var w=$cont.width();opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts);opts.animIn.height=next.cycleH;opts.animOut.top=curr.cycleH});opts.cssBefore.top=h;opts.cssBefore.left=w;opts.animIn.top=0;opts.animIn.left=0;opts.animOut.top=h;opts.animOut.left=w};$.fn.cycle.transitions.growX=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,false,true);opts.cssBefore.left=this.cycleW/2;opts.animIn.left=0;opts.animIn.width=this.cycleW;opts.animOut.left=0});opts.cssBefore.top=0;opts.cssBefore.width=0};$.fn.cycle.transitions.growY=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,false);opts.cssBefore.top=this.cycleH/2;opts.animIn.top=0;opts.animIn.height=this.cycleH;opts.animOut.top=0});opts.cssBefore.height=0;opts.cssBefore.left=0};$.fn.cycle.transitions.curtainX=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,false,true,true);opts.cssBefore.left=next.cycleW/2;opts.animIn.left=0;opts.animIn.width=this.cycleW;opts.animOut.left=curr.cycleW/2;opts.animOut.width=0});opts.cssBefore.top=0;opts.cssBefore.width=0};$.fn.cycle.transitions.curtainY=function($cont,$slides,opts){opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,false,true);opts.cssBefore.top=next.cycleH/2;opts.animIn.top=0;opts.animIn.height=next.cycleH;opts.animOut.top=curr.cycleH/2;opts.animOut.height=0});opts.cssBefore.height=0;opts.cssBefore.left=0};$.fn.cycle.transitions.cover=function($cont,$slides,opts){var d=opts.direction||"left";var w=$cont.css("overflow","hidden").width();var h=$cont.height();opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts);if(d=="right"){opts.cssBefore.left=-w}else{if(d=="up"){opts.cssBefore.top=h}else{if(d=="down"){opts.cssBefore.top=-h}else{opts.cssBefore.left=w}}}});opts.animIn.left=0;opts.animIn.top=0;opts.cssBefore.top=0;opts.cssBefore.left=0};$.fn.cycle.transitions.uncover=function($cont,$slides,opts){var d=opts.direction||"left";var w=$cont.css("overflow","hidden").width();var h=$cont.height();opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,true,true);if(d=="right"){opts.animOut.left=w}else{if(d=="up"){opts.animOut.top=-h}else{if(d=="down"){opts.animOut.top=h}else{opts.animOut.left=-w}}}});opts.animIn.left=0;opts.animIn.top=0;opts.cssBefore.top=0;opts.cssBefore.left=0};$.fn.cycle.transitions.toss=function($cont,$slides,opts){var w=$cont.css("overflow","visible").width();var h=$cont.height();opts.before.push(function(curr,next,opts){$.fn.cycle.commonReset(curr,next,opts,true,true,true);if(!opts.animOut.left&&!opts.animOut.top){$.extend(opts.animOut,{left:w*2,top:-h/2,opacity:0})}else{opts.animOut.opacity=0}});opts.cssBefore.left=0;opts.cssBefore.top=0;opts.animIn.left=0};$.fn.cycle.transitions.wipe=function($cont,$slides,opts){var w=$cont.css("overflow","hidden").width();var h=$cont.height();opts.cssBefore=opts.cssBefore||{};var clip;if(opts.clip){if(/l2r/.test(opts.clip)){clip="rect(0px 0px "+h+"px 0px)"}else{if(/r2l/.test(opts.clip)){clip="rect(0px "+w+"px "+h+"px "+w+"px)"}else{if(/t2b/.test(opts.clip)){clip="rect(0px "+w+"px 0px 0px)"}else{if(/b2t/.test(opts.clip)){clip="rect("+h+"px "+w+"px "+h+"px 0px)"}else{if(/zoom/.test(opts.clip)){var top=parseInt(h/2);var left=parseInt(w/2);clip="rect("+top+"px "+left+"px "+top+"px "+left+"px)"}}}}}}opts.cssBefore.clip=opts.cssBefore.clip||clip||"rect(0px 0px 0px 0px)";var d=opts.cssBefore.clip.match(/(\d+)/g);var t=parseInt(d[0]),r=parseInt(d[1]),b=parseInt(d[2]),l=parseInt(d[3]);opts.before.push(function(curr,next,opts){if(curr==next){return}var $curr=$(curr),$next=$(next);$.fn.cycle.commonReset(curr,next,opts,true,true,false);opts.cssAfter.display="block";var step=1,count=parseInt((opts.speedIn/13))-1;(function f(){var tt=t?t-parseInt(step*(t/count)):0;var ll=l?l-parseInt(step*(l/count)):0;var bb=b<h?b+parseInt(step*((h-b)/count||1)):h;var rr=r<w?r+parseInt(step*((w-r)/count||1)):w;$next.css({clip:"rect("+tt+"px "+rr+"px "+bb+"px "+ll+"px)"});(step++<=count)?setTimeout(f,13):$curr.css("display","none")})()});$.extend(opts.cssBefore,{display:"block",opacity:1,top:0,left:0});opts.animIn={left:0};opts.animOut={left:0}}})(jQuery);
/*!
 * jQuery Cookie Plugin v1.3
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
(function($,document,undefined){var pluses=/\+/g;function raw(s){return s}function decoded(s){return decodeURIComponent(s.replace(pluses," "))}var config=$.cookie=function(key,value,options){if(value!==undefined){options=$.extend({},config.defaults,options);if(value===null){options.expires=-1}if(typeof options.expires==="number"){var days=options.expires,t=options.expires=new Date();t.setDate(t.getDate()+days)}value=config.json?JSON.stringify(value):String(value);return(document.cookie=[encodeURIComponent(key),"=",config.raw?value:encodeURIComponent(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join(""))}var decode=config.raw?raw:decoded;var cookies=document.cookie.split("; ");for(var i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split("=");if(decode(parts.shift())===key){var cookie=decode(parts.join("="));return config.json?JSON.parse(cookie):cookie}}return null};config.defaults={};$.removeCookie=function(key,options){if($.cookie(key)!==null){$.cookie(key,null,options);return true}return false}})(jQuery,document);(function($){$.fn.getHiddenDimensions=function(includeMargin){var $item=this,props={position:"absolute",visibility:"hidden",display:"block"},dim={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},$hiddenParents=$item.parents().andSelf().not(":visible"),includeMargin=(includeMargin==null)?false:includeMargin;var oldProps=[];$hiddenParents.each(function(){var old={};for(var name in props){old[name]=this.style[name];this.style[name]=props[name]}oldProps.push(old)});dim.width=$item.width();dim.outerWidth=$item.outerWidth(includeMargin);dim.innerWidth=$item.innerWidth();dim.height=$item.height();dim.innerHeight=$item.innerHeight();dim.outerHeight=$item.outerHeight(includeMargin);$hiddenParents.each(function(i){var old=oldProps[i];for(var name in props){this.style[name]=old[name]}});return dim}}(jQuery));
/*!
 * fancyBox - jQuery Plugin
 * version: 2.1.1 (Mon, 01 Oct 2012)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
(function(window,document,$,undefined){var W=$(window),D=$(document),F=$.fancybox=function(){F.open.apply(this,arguments)},didUpdate=null,isTouch=document.createTouch!==undefined,isQuery=function(obj){return obj&&obj.hasOwnProperty&&obj instanceof $},isString=function(str){return str&&$.type(str)==="string"},isPercentage=function(str){return isString(str)&&str.indexOf("%")>0},isScrollable=function(el){return(el&&!(el.style.overflow&&el.style.overflow==="hidden")&&((el.clientWidth&&el.scrollWidth>el.clientWidth)||(el.clientHeight&&el.scrollHeight>el.clientHeight)))},getScalar=function(orig,dim){var value=parseInt(orig,10)||0;if(dim&&isPercentage(orig)){value=F.getViewport()[dim]/100*value}return Math.ceil(value)},getValue=function(value,dim){return getScalar(value,dim)+"px"};$.extend(F,{version:"2.1.1",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:true,autoHeight:false,autoWidth:false,autoResize:!isTouch,autoCenter:!isTouch,fitToView:true,aspectRatio:false,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3000,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:true,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0"'+($.browser.msie?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:true,title:true},onCancel:$.noop,beforeLoad:$.noop,afterLoad:$.noop,beforeShow:$.noop,afterShow:$.noop,beforeChange:$.noop,beforeClose:$.noop,afterClose:$.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(group,opts){if(!group){return}if(!$.isPlainObject(opts)){opts={}}if(false===F.close(true)){return}if(!$.isArray(group)){group=isQuery(group)?$(group).get():[group]}$.each(group,function(i,element){var obj={},href,title,content,type,rez,hrefParts,selector;if($.type(element)==="object"){if(element.nodeType){element=$(element)}if(isQuery(element)){obj={href:element.data("fancybox-href")||element.attr("href"),title:element.data("fancybox-title")||element.attr("title"),isDom:true,element:element};if($.metadata){$.extend(true,obj,element.metadata())}}else{obj=element}}href=opts.href||obj.href||(isString(element)?element:null);title=opts.title!==undefined?opts.title:obj.title||"";content=opts.content||obj.content;type=content?"html":(opts.type||obj.type);if(!type&&obj.isDom){type=element.data("fancybox-type");if(!type){rez=element.prop("class").match(/fancybox\.(\w+)/);type=rez?rez[1]:null}}if(isString(href)){if(!type){if(F.isImage(href)){type="image"}else{if(F.isSWF(href)){type="swf"}else{if(href.charAt(0)==="#"){type="inline"}else{if(isString(element)){type="html";content=element}}}}}if(type==="ajax"){hrefParts=href.split(/\s+/,2);href=hrefParts.shift();selector=hrefParts.shift()}}if(!content){if(type==="inline"){if(href){content=$(isString(href)?href.replace(/.*(?=#[^\s]+$)/,""):href)}else{if(obj.isDom){content=element}}}else{if(type==="html"){content=href}else{if(!type&&!href&&obj.isDom){type="inline";content=element}}}}$.extend(obj,{href:href,type:type,content:content,title:title,selector:selector});group[i]=obj});F.opts=$.extend(true,{},F.defaults,opts);if(opts.keys!==undefined){F.opts.keys=opts.keys?$.extend({},F.defaults.keys,opts.keys):false}F.group=group;return F._start(F.opts.index)},cancel:function(){var coming=F.coming;if(!coming||false===F.trigger("onCancel")){return}F.hideLoading();if(F.ajaxLoad){F.ajaxLoad.abort()}F.ajaxLoad=null;if(F.imgPreload){F.imgPreload.onload=F.imgPreload.onerror=null}if(coming.wrap){coming.wrap.stop(true).trigger("onReset").remove()}if(!F.current){F.trigger("afterClose")}F.coming=null},close:function(immediately){F.cancel();if(false===F.trigger("beforeClose")){return}F.unbindEvents();if(!F.isOpen||immediately===true){$(".fancybox-wrap").stop(true).trigger("onReset").remove();F._afterZoomOut()}else{F.isOpen=F.isOpened=false;F.isClosing=true;$(".fancybox-item, .fancybox-nav").remove();F.wrap.stop(true,true).removeClass("fancybox-opened");if(F.wrap.css("position")==="fixed"){F.wrap.css(F._getPosition(true))}F.transitions[F.current.closeMethod]()}},play:function(action){var clear=function(){clearTimeout(F.player.timer)},set=function(){clear();if(F.current&&F.player.isActive){F.player.timer=setTimeout(F.next,F.current.playSpeed)}},stop=function(){clear();$("body").unbind(".player");F.player.isActive=false;F.trigger("onPlayEnd")},start=function(){if(F.current&&(F.current.loop||F.current.index<F.group.length-1)){F.player.isActive=true;$("body").bind({"afterShow.player onUpdate.player":set,"onCancel.player beforeClose.player":stop,"beforeLoad.player":clear});set();F.trigger("onPlayStart")}};if(action===true||(!F.player.isActive&&action!==false)){start()}else{stop()}},next:function(direction){var current=F.current;if(current){if(!isString(direction)){direction=current.direction.next}F.jumpto(current.index+1,direction,"next")}},prev:function(direction){var current=F.current;if(current){if(!isString(direction)){direction=current.direction.prev}F.jumpto(current.index-1,direction,"prev")}},jumpto:function(index,direction,router){var current=F.current;if(!current){return}index=getScalar(index);F.direction=direction||current.direction[(index>=current.index?"next":"prev")];F.router=router||"jumpto";if(current.loop){if(index<0){index=current.group.length+(index%current.group.length)}index=index%current.group.length}if(current.group[index]!==undefined){F.cancel();F._start(index)}},reposition:function(e,onlyAbsolute){var pos;if(F.isOpen){pos=F._getPosition(onlyAbsolute);if(e&&e.type==="scroll"){delete pos.position;F.wrap.stop(true,true).animate(pos,200)}else{F.wrap.css(pos)}}},update:function(e){var type=(e&&e.type),anyway=!type||type==="orientationchange";if(anyway){clearTimeout(didUpdate);didUpdate=null}if(!F.isOpen||didUpdate){return}if(anyway||isTouch){F.wrap.removeAttr("style").addClass("fancybox-tmp");F.trigger("onUpdate")}didUpdate=setTimeout(function(){var current=F.current;if(!current){return}F.wrap.removeClass("fancybox-tmp");if(type!=="scroll"){F._setDimension()}if(!(type==="scroll"&&current.canShrink)){F.reposition(e)}F.trigger("onUpdate");didUpdate=null},(isTouch?500:(anyway?20:300)))},toggle:function(action){if(F.isOpen){F.current.fitToView=$.type(action)==="boolean"?action:!F.current.fitToView;F.update()}},hideLoading:function(){D.unbind("keypress.fb");$("#fancybox-loading").remove()},showLoading:function(){var el,viewport;F.hideLoading();D.bind("keypress.fb",function(e){if((e.which||e.keyCode)===27){e.preventDefault();F.cancel()}});el=$('<div id="fancybox-loading"><div></div></div>').click(F.cancel).appendTo("body");if(!F.defaults.fixed){viewport=F.getViewport();el.css({position:"absolute",top:(viewport.h*0.5)+viewport.y,left:(viewport.w*0.5)+viewport.x})}},getViewport:function(){var locked=(F.current&&F.current.locked)||false,rez={x:W.scrollLeft(),y:W.scrollTop()};if(locked){rez.w=locked[0].clientWidth;rez.h=locked[0].clientHeight}else{rez.w=isTouch&&window.innerWidth?window.innerWidth:W.width();rez.h=isTouch&&window.innerHeight?window.innerHeight:W.height()}return rez},unbindEvents:function(){if(F.wrap&&isQuery(F.wrap)){F.wrap.unbind(".fb")}D.unbind(".fb");W.unbind(".fb")},bindEvents:function(){var current=F.current,keys;if(!current){return}W.bind("orientationchange.fb"+(current.autoResize?" resize.fb":"")+(current.autoCenter&&!current.locked?" scroll.fb":""),F.update);keys=current.keys;if(keys){D.bind("keydown.fb",function(e){var code=e.which||e.keyCode,target=e.target||e.srcElement;if(!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&!(target&&(target.type||$(target).is("[contenteditable]")))){$.each(keys,function(i,val){if(current.group.length>1&&val[code]!==undefined){F[i](val[code]);e.preventDefault();return false}if($.inArray(code,val)>-1){F[i]();e.preventDefault();return false}})}})}if($.fn.mousewheel&&current.mouseWheel){F.wrap.bind("mousewheel.fb",function(e,delta,deltaX,deltaY){var target=e.target||null,parent=$(target),canScroll=false;while(parent.length){if(canScroll||parent.is(".fancybox-skin")||parent.is(".fancybox-wrap")){break}canScroll=isScrollable(parent[0]);parent=$(parent).parent()}if(delta!==0&&!canScroll){if(F.group.length>1&&!current.canShrink){if(deltaY>0||deltaX>0){F.prev(deltaY>0?"down":"left")}else{if(deltaY<0||deltaX<0){F.next(deltaY<0?"up":"right")}}e.preventDefault()}}})}},trigger:function(event,o){var ret,obj=o||F.coming||F.current;if(!obj){return}if($.isFunction(obj[event])){ret=obj[event].apply(obj,Array.prototype.slice.call(arguments,1))}if(ret===false){return false}if(event==="onCancel"&&!F.isOpened){F.isActive=false}if(obj.helpers){$.each(obj.helpers,function(helper,opts){if(opts&&F.helpers[helper]&&$.isFunction(F.helpers[helper][event])){opts=$.extend(true,{},F.helpers[helper].defaults,opts);F.helpers[helper][event](opts,obj)}})}$.event.trigger(event+".fb")},isImage:function(str){return isString(str)&&str.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(str){return isString(str)&&str.match(/\.(swf)((\?|#).*)?$/i)},_start:function(index){var coming={},obj,href,type,margin,padding;index=getScalar(index);obj=F.group[index]||null;if(!obj){return false}coming=$.extend(true,{},F.opts,obj);margin=coming.margin;padding=coming.padding;if($.type(margin)==="number"){coming.margin=[margin,margin,margin,margin]}if($.type(padding)==="number"){coming.padding=[padding,padding,padding,padding]}if(coming.modal){$.extend(true,coming,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{closeClick:false}}})}if(coming.autoSize){coming.autoWidth=coming.autoHeight=true}if(coming.width==="auto"){coming.autoWidth=true}if(coming.height==="auto"){coming.autoHeight=true}coming.group=F.group;coming.index=index;F.coming=coming;if(false===F.trigger("beforeLoad")){F.coming=null;return}type=coming.type;href=coming.href;if(!type){F.coming=null;if(F.current&&F.router&&F.router!=="jumpto"){F.current.index=index;return F[F.router](F.direction)}return false}F.isActive=true;if(type==="image"||type==="swf"){coming.autoHeight=coming.autoWidth=false;coming.scrolling="visible"}if(type==="image"){coming.aspectRatio=true}if(type==="iframe"&&isTouch){coming.scrolling="scroll"}coming.wrap=$(coming.tpl.wrap).addClass("fancybox-"+(isTouch?"mobile":"desktop")+" fancybox-type-"+type+" fancybox-tmp "+coming.wrapCSS).appendTo(coming.parent||"body");$.extend(coming,{skin:$(".fancybox-skin",coming.wrap),outer:$(".fancybox-outer",coming.wrap),inner:$(".fancybox-inner",coming.wrap)});$.each(["Top","Right","Bottom","Left"],function(i,v){coming.skin.css("padding"+v,getValue(coming.padding[i]))});F.trigger("onReady");if(type==="inline"||type==="html"){if(!coming.content||!coming.content.length){return F._error("content")}}else{if(!href){return F._error("href")}}if(type==="image"){F._loadImage()}else{if(type==="ajax"){F._loadAjax()}else{if(type==="iframe"){F._loadIframe()}else{F._afterLoad()}}}},_error:function(type){$.extend(F.coming,{type:"html",autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:"no",hasError:type,content:F.coming.tpl.error});F._afterLoad()},_loadImage:function(){var img=F.imgPreload=new Image();img.onload=function(){this.onload=this.onerror=null;F.coming.width=this.width;F.coming.height=this.height;F._afterLoad()};img.onerror=function(){this.onload=this.onerror=null;F._error("image")};img.src=F.coming.href;if(img.complete===undefined||!img.complete){F.showLoading()}},_loadAjax:function(){var coming=F.coming;F.showLoading();F.ajaxLoad=$.ajax($.extend({},coming.ajax,{url:coming.href,error:function(jqXHR,textStatus){if(F.coming&&textStatus!=="abort"){F._error("ajax",jqXHR)}else{F.hideLoading()}},success:function(data,textStatus){if(textStatus==="success"){coming.content=data;F._afterLoad()}}}))},_loadIframe:function(){var coming=F.coming,iframe=$(coming.tpl.iframe.replace(/\{rnd\}/g,new Date().getTime())).attr("scrolling",isTouch?"auto":coming.iframe.scrolling).attr("src",coming.href);$(coming.wrap).bind("onReset",function(){try{$(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}});if(coming.iframe.preload){F.showLoading();iframe.one("load",function(){$(this).data("ready",1);if(!isTouch){$(this).bind("load.fb",F.update)}$(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();F._afterLoad()})}coming.content=iframe.appendTo(coming.inner);if(!coming.iframe.preload){F._afterLoad()}},_preloadImages:function(){var group=F.group,current=F.current,len=group.length,cnt=current.preload?Math.min(current.preload,len-1):0,item,i;for(i=1;i<=cnt;i+=1){item=group[(current.index+i)%len];if(item.type==="image"&&item.href){new Image().src=item.href}}},_afterLoad:function(){var coming=F.coming,previous=F.current,placeholder="fancybox-placeholder",current,content,type,scrolling,href,embed;F.hideLoading();if(!coming||F.isActive===false){return}if(false===F.trigger("afterLoad",coming,previous)){coming.wrap.stop(true).trigger("onReset").remove();F.coming=null;return}if(previous){F.trigger("beforeChange",previous);previous.wrap.stop(true).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove();if(previous.wrap.css("position")==="fixed"){previous.wrap.css(F._getPosition(true))}}F.unbindEvents();current=coming;content=coming.content;type=coming.type;scrolling=coming.scrolling;$.extend(F,{wrap:current.wrap,skin:current.skin,outer:current.outer,inner:current.inner,current:current,previous:previous});href=current.href;switch(type){case"inline":case"ajax":case"html":if(current.selector){content=$("<div>").html(content).find(current.selector)}else{if(isQuery(content)){if(!content.data(placeholder)){content.data(placeholder,$('<div class="'+placeholder+'"></div>').insertAfter(content).hide())}content=content.show().detach();current.wrap.bind("onReset",function(){if($(this).find(content).length){content.hide().replaceAll(content.data(placeholder)).data(placeholder,false)}})}}break;case"image":content=current.tpl.image.replace("{href}",href);break;case"swf":content='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+href+'"></param>';embed="";$.each(current.swf,function(name,val){content+='<param name="'+name+'" value="'+val+'"></param>';embed+=" "+name+'="'+val+'"'});content+='<embed src="'+href+'" type="application/x-shockwave-flash" width="100%" height="100%"'+embed+"></embed></object>";break}if(!(isQuery(content)&&content.parent().is(current.inner))){current.inner.append(content)}F.trigger("beforeShow");current.inner.css("overflow",scrolling==="yes"?"scroll":(scrolling==="no"?"hidden":scrolling));F._setDimension();current.wrap.removeClass("fancybox-tmp");current.pos=$.extend({},current.dim,F._getPosition(true));F.isOpen=false;F.coming=null;F.bindEvents();if(!F.isOpened){$(".fancybox-wrap").not(current.wrap).stop(true).trigger("onReset").remove()}else{if(previous.prevMethod){F.transitions[previous.prevMethod]()}}F.transitions[F.isOpened?current.nextMethod:current.openMethod]();F._preloadImages()},_setDimension:function(){var viewport=F.getViewport(),steps=0,canShrink=false,canExpand=false,wrap=F.wrap,skin=F.skin,inner=F.inner,current=F.current,width=current.width,height=current.height,minWidth=current.minWidth,minHeight=current.minHeight,maxWidth=current.maxWidth,maxHeight=current.maxHeight,scrolling=current.scrolling,scrollOut=current.scrollOutside?current.scrollbarWidth:0,margin=current.margin,wMargin=margin[1]+margin[3],hMargin=margin[0]+margin[2],wPadding,hPadding,wSpace,hSpace,origWidth,origHeight,origMaxWidth,origMaxHeight,ratio,width_,height_,maxWidth_,maxHeight_,iframe,body;wrap.add(skin).add(inner).width("auto").height("auto");wPadding=skin.outerWidth(true)-skin.width();hPadding=skin.outerHeight(true)-skin.height();wSpace=wMargin+wPadding;hSpace=hMargin+hPadding;origWidth=isPercentage(width)?(viewport.w-wSpace)*getScalar(width)/100:width;origHeight=isPercentage(height)?(viewport.h-hSpace)*getScalar(height)/100:height;if(current.type==="iframe"){iframe=current.content;if(current.autoHeight&&iframe.data("ready")===1){try{if(iframe[0].contentWindow.document.location){inner.width(origWidth).height(9999);body=iframe.contents().find("body");if(scrollOut){body.css("overflow-x","hidden")}origHeight=body.height()}}catch(e){}}}else{if(current.autoWidth||current.autoHeight){inner.addClass("fancybox-tmp");if(!current.autoWidth){inner.width(origWidth)}if(!current.autoHeight){inner.height(origHeight)}if(current.autoWidth){origWidth=inner.width()}if(current.autoHeight){origHeight=inner.height()}inner.removeClass("fancybox-tmp")}}width=getScalar(origWidth);height=getScalar(origHeight);ratio=origWidth/origHeight;minWidth=getScalar(isPercentage(minWidth)?getScalar(minWidth,"w")-wSpace:minWidth);maxWidth=getScalar(isPercentage(maxWidth)?getScalar(maxWidth,"w")-wSpace:maxWidth);minHeight=getScalar(isPercentage(minHeight)?getScalar(minHeight,"h")-hSpace:minHeight);maxHeight=getScalar(isPercentage(maxHeight)?getScalar(maxHeight,"h")-hSpace:maxHeight);origMaxWidth=maxWidth;origMaxHeight=maxHeight;maxWidth_=viewport.w-wMargin;maxHeight_=viewport.h-hMargin;if(current.aspectRatio){if(width>maxWidth){width=maxWidth;height=width/ratio}if(height>maxHeight){height=maxHeight;width=height*ratio}if(width<minWidth){width=minWidth;height=width/ratio}if(height<minHeight){height=minHeight;width=height*ratio}}else{width=Math.max(minWidth,Math.min(width,maxWidth));height=Math.max(minHeight,Math.min(height,maxHeight))}if(current.fitToView){maxWidth=Math.min(viewport.w-wSpace,maxWidth);maxHeight=Math.min(viewport.h-hSpace,maxHeight);inner.width(getScalar(width)).height(getScalar(height));wrap.width(getScalar(width+wPadding));width_=wrap.width();height_=wrap.height();if(current.aspectRatio){while((width_>maxWidth_||height_>maxHeight_)&&width>minWidth&&height>minHeight){if(steps++>19){break}height=Math.max(minHeight,Math.min(maxHeight,height-10));width=height*ratio;if(width<minWidth){width=minWidth;height=width/ratio}if(width>maxWidth){width=maxWidth;height=width/ratio}inner.width(getScalar(width)).height(getScalar(height));wrap.width(getScalar(width+wPadding));width_=wrap.width();height_=wrap.height()}}else{width=Math.max(minWidth,Math.min(width,width-(width_-maxWidth_)));height=Math.max(minHeight,Math.min(height,height-(height_-maxHeight_)))}}if(scrollOut&&scrolling==="auto"&&height<origHeight&&(width+wPadding+scrollOut)<maxWidth_){width+=scrollOut}inner.width(getScalar(width)).height(getScalar(height));wrap.width(getScalar(width+wPadding));width_=wrap.width();height_=wrap.height();canShrink=(width_>maxWidth_||height_>maxHeight_)&&width>minWidth&&height>minHeight;canExpand=current.aspectRatio?(width<origMaxWidth&&height<origMaxHeight&&width<origWidth&&height<origHeight):((width<origMaxWidth||height<origMaxHeight)&&(width<origWidth||height<origHeight));$.extend(current,{dim:{width:getValue(width_),height:getValue(height_)},origWidth:origWidth,origHeight:origHeight,canShrink:canShrink,canExpand:canExpand,wPadding:wPadding,hPadding:hPadding,wrapSpace:height_-skin.outerHeight(true),skinSpace:skin.height()-height});if(!iframe&&current.autoHeight&&height>minHeight&&height<maxHeight&&!canExpand){inner.height("auto")}},_getPosition:function(onlyAbsolute){var current=F.current,viewport=F.getViewport(),margin=current.margin,width=F.wrap.width()+margin[1]+margin[3],height=F.wrap.height()+margin[0]+margin[2],rez={position:"absolute",top:margin[0],left:margin[3]};if(current.autoCenter&&current.fixed&&!onlyAbsolute&&height<=viewport.h&&width<=viewport.w){rez.position="fixed"}else{if(!current.locked){rez.top+=viewport.y;rez.left+=viewport.x}}rez.top=getValue(Math.max(rez.top,rez.top+((viewport.h-height)*current.topRatio)));rez.left=getValue(Math.max(rez.left,rez.left+((viewport.w-width)*current.leftRatio)));return rez},_afterZoomIn:function(){var current=F.current;if(!current){return}F.isOpen=F.isOpened=true;F.wrap.addClass("fancybox-opened").css("overflow","visible");F.reposition();if(current.closeClick||current.nextClick){F.inner.css("cursor","pointer").bind("click.fb",function(e){if(!$(e.target).is("a")&&!$(e.target).parent().is("a")){F[current.closeClick?"close":"next"]()}})}if(current.closeBtn){$(current.tpl.closeBtn).appendTo(F.skin).bind("click.fb",F.close)}if(current.arrows&&F.group.length>1){if(current.loop||current.index>0){$(current.tpl.prev).appendTo(F.outer).bind("click.fb",F.prev)}if(current.loop||current.index<F.group.length-1){$(current.tpl.next).appendTo(F.outer).bind("click.fb",F.next)}}F.trigger("afterShow");if(!current.loop&&current.index===current.group.length-1){F.play(false)}else{if(F.opts.autoPlay&&!F.player.isActive){F.opts.autoPlay=false;F.play()}}},_afterZoomOut:function(){var current=F.current;$(".fancybox-wrap").stop(true).trigger("onReset").remove();$.extend(F,{group:{},opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});F.trigger("afterClose",current)}});F.transitions={getOrigPosition:function(){var current=F.current,element=current.element,orig=current.orig,pos={},width=50,height=50,hPadding=current.hPadding,wPadding=current.wPadding,viewport=F.getViewport();if(!orig&&current.isDom&&element.is(":visible")){orig=element.find("img:first");if(!orig.length){orig=element}}if(isQuery(orig)){pos=orig.offset();if(orig.is("img")){width=orig.outerWidth();height=orig.outerHeight()}}else{pos.top=viewport.y+(viewport.h-height)*current.topRatio;pos.left=viewport.x+(viewport.w-width)*current.leftRatio}if(current.locked){pos.top-=viewport.y;pos.left-=viewport.x}pos={top:getValue(pos.top-hPadding*current.topRatio),left:getValue(pos.left-wPadding*current.leftRatio),width:getValue(width+wPadding),height:getValue(height+hPadding)};return pos},step:function(now,fx){var ratio,padding,value,prop=fx.prop,current=F.current,wrapSpace=current.wrapSpace,skinSpace=current.skinSpace;if(prop==="width"||prop==="height"){ratio=fx.end===fx.start?1:(now-fx.start)/(fx.end-fx.start);if(F.isClosing){ratio=1-ratio}padding=prop==="width"?current.wPadding:current.hPadding;value=now-padding;F.skin[prop](getScalar(prop==="width"?value:value-(wrapSpace*ratio)));F.inner[prop](getScalar(prop==="width"?value:value-(wrapSpace*ratio)-(skinSpace*ratio)))}},zoomIn:function(){var current=F.current,startPos=current.pos,effect=current.openEffect,elastic=effect==="elastic",endPos=$.extend({opacity:1},startPos);delete endPos.position;if(elastic){startPos=this.getOrigPosition();if(current.openOpacity){startPos.opacity=0.1}}else{if(effect==="fade"){startPos.opacity=0.1}}F.wrap.css(startPos).animate(endPos,{duration:effect==="none"?0:current.openSpeed,easing:current.openEasing,step:elastic?this.step:null,complete:F._afterZoomIn})},zoomOut:function(){var current=F.current,effect=current.closeEffect,elastic=effect==="elastic",endPos={opacity:0.1};if(elastic){endPos=this.getOrigPosition();if(current.closeOpacity){endPos.opacity=0.1}}F.wrap.animate(endPos,{duration:effect==="none"?0:current.closeSpeed,easing:current.closeEasing,step:elastic?this.step:null,complete:F._afterZoomOut})},changeIn:function(){var current=F.current,effect=current.nextEffect,startPos=current.pos,endPos={opacity:1},direction=F.direction,distance=200,field;startPos.opacity=0.1;if(effect==="elastic"){field=direction==="down"||direction==="up"?"top":"left";if(direction==="down"||direction==="right"){startPos[field]=getValue(getScalar(startPos[field])-distance);endPos[field]="+="+distance+"px"}else{startPos[field]=getValue(getScalar(startPos[field])+distance);endPos[field]="-="+distance+"px"}}if(effect==="none"){F._afterZoomIn()}else{F.wrap.css(startPos).animate(endPos,{duration:current.nextSpeed,easing:current.nextEasing,complete:F._afterZoomIn})}},changeOut:function(){var previous=F.previous,effect=previous.prevEffect,endPos={opacity:0.1},direction=F.direction,distance=200;if(effect==="elastic"){endPos[direction==="down"||direction==="up"?"top":"left"]=(direction==="up"||direction==="left"?"-":"+")+"="+distance+"px"}previous.wrap.animate(endPos,{duration:effect==="none"?0:previous.prevSpeed,easing:previous.prevEasing,complete:function(){$(this).trigger("onReset").remove()}})}};F.helpers.overlay={defaults:{closeClick:true,speedOut:200,showEarly:true,css:{},locked:true},overlay:null,update:function(){var width="100%",offsetWidth;this.overlay.width(width).height("100%");if($.browser.msie){offsetWidth=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(D.width()>offsetWidth){width=D.width()}}else{if(D.width()>W.width()){width=D.width()}}this.overlay.width(width).height(D.height())},onReady:function(opts,obj){$(".fancybox-overlay").stop(true,true);if(!this.overlay){$.extend(this,{overlay:$('<div class="fancybox-overlay"></div>').appendTo(obj.parent||"body"),margin:D.height()>W.height()||$("body").css("overflow-y")==="scroll"?$("body").css("margin-right"):false,el:document.all&&!document.querySelector?$("html"):$("body")})}if(obj.fixed&&!isTouch){this.overlay.addClass("fancybox-overlay-fixed");if(obj.autoCenter&&opts.locked){obj.locked=this.overlay.append(obj.wrap)}}if(opts.showEarly===true){this.beforeShow.apply(this,arguments)}},beforeShow:function(opts,obj){var overlay=this.overlay.unbind(".fb").width("auto").height("auto").css(opts.css);if(opts.closeClick){overlay.bind("click.fb",function(e){if($(e.target).hasClass("fancybox-overlay")){F.close()}})}if(obj.fixed&&!isTouch){if(obj.locked){this.el.addClass("fancybox-lock");if(this.margin!==false){$("body").css("margin-right",getScalar(this.margin)+obj.scrollbarWidth)}}}else{this.update()}overlay.show()},onUpdate:function(opts,obj){if(!obj.fixed||isTouch){this.update()}},afterClose:function(opts){var that=this,speed=opts.speedOut||0;if(that.overlay&&!F.isActive){that.overlay.fadeOut(speed||0,function(){$("body").css("margin-right",that.margin);that.el.removeClass("fancybox-lock");that.overlay.remove();that.overlay=null})}}};F.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(opts){var current=F.current,text=current.title,type=opts.type,title,target;if($.isFunction(text)){text=text.call(current.element,current)}if(!isString(text)||$.trim(text)===""){return}title=$('<div class="fancybox-title fancybox-title-'+type+'-wrap">'+text+"</div>");switch(type){case"inside":target=F.skin;break;case"outside":target=F.wrap;break;case"over":target=F.inner;break;default:target=F.skin;title.appendTo("body");if($.browser.msie){title.width(title.width())}title.wrapInner('<span class="child"></span>');F.current.margin[2]+=Math.abs(getScalar(title.css("margin-bottom")));break}title[(opts.position==="top"?"prependTo":"appendTo")](target)}};$.fn.fancybox=function(options){var index,that=$(this),selector=this.selector||"",run=function(e){var what=$(this).blur(),idx=index,relType,relVal;if(!(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&!what.is(".fancybox-wrap")){relType=options.groupAttr||"data-fancybox-group";relVal=what.attr(relType);if(!relVal){relType="rel";relVal=what.get(0)[relType]}if(relVal&&relVal!==""&&relVal!=="nofollow"){what=selector.length?$(selector):that;what=what.filter("["+relType+'="'+relVal+'"]');idx=what.index(this)}options.index=idx;if(F.open(what,options)!==false){e.preventDefault()}}};options=options||{};index=options.index||0;if(!selector||options.live===false){that.unbind("click.fb-start").bind("click.fb-start",run)}else{D.undelegate(selector,"click.fb-start").delegate(selector+":not('.fancybox-item, .fancybox-nav')","click.fb-start",run)}return this};D.ready(function(){if($.scrollbarWidth===undefined){$.scrollbarWidth=function(){var parent=$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),child=parent.children(),width=child.innerWidth()-child.height(99).innerWidth();parent.remove();return width}}if($.support.fixedPosition===undefined){$.support.fixedPosition=(function(){var elem=$('<div style="position:fixed;top:20px;"></div>').appendTo("body"),fixed=(elem[0].offsetTop===20||elem[0].offsetTop===15);elem.remove();return fixed}())}$.extend(F.defaults,{scrollbarWidth:$.scrollbarWidth(),fixed:$.support.fixedPosition,parent:$("body")})})}(window,document,jQuery));
/*!
 * Media helper for fancyBox
 * version: 1.0.0
 * @requires fancyBox v2.0 or later
 *
 * Usage:
 *     $(".fancybox").fancybox({
 *         media: {}
 *     });
 *
 *  Supports:
 *      Youtube
 *          http://www.youtube.com/watch?v=opj24KnzrWo
 *          http://youtu.be/opj24KnzrWo
 *      Vimeo
 *          http://vimeo.com/25634903
 *      Metacafe
 *          http://www.metacafe.com/watch/7635964/dr_seuss_the_lorax_movie_trailer/
 *          http://www.metacafe.com/watch/7635964/
 *      Dailymotion
 *          http://www.dailymotion.com/video/xoytqh_dr-seuss-the-lorax-premiere_people
 *      Twitvid
 *          http://twitvid.com/QY7MD
 *      Twitpic
 *          http://twitpic.com/7p93st
 *      Instagram
 *          http://instagr.am/p/IejkuUGxQn/
 *          http://instagram.com/p/IejkuUGxQn/
 *      Google maps
 *          http://maps.google.com/maps?q=Eiffel+Tower,+Avenue+Gustave+Eiffel,+Paris,+France&t=h&z=17
 *          http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16
 *          http://maps.google.com/?ll=48.859463,2.292626&spn=0.000965,0.002642&t=m&z=19&layer=c&cbll=48.859524,2.292532&panoid=YJ0lq28OOy3VT2IqIuVY0g&cbp=12,151.58,,0,-15.56
 */
(function($){var F=$.fancybox;F.helpers.media={beforeLoad:function(opts,obj){var href=obj.href||"",type=false,rez;if((rez=href.match(/(youtube\.com|youtu\.be)\/(v\/|u\/|embed\/|watch\?v=)?([^#\&\?]*).*/i))){href="//www.youtube.com/embed/"+rez[3]+"?autoplay=1&autohide=1&fs=1&rel=0&enablejsapi=1";type="iframe"}else{if((rez=href.match(/vimeo.com\/(\d+)\/?(.*)/))){href="//player.vimeo.com/video/"+rez[1]+"?hd=1&autoplay=1&show_title=1&show_byline=1&show_portrait=0&color=&fullscreen=1";type="iframe"}else{if((rez=href.match(/metacafe.com\/watch\/(\d+)\/?(.*)/))){href="//www.metacafe.com/fplayer/"+rez[1]+"/.swf?playerVars=autoPlay=yes";type="swf"}else{if((rez=href.match(/dailymotion.com\/video\/(.*)\/?(.*)/))){href="//www.dailymotion.com/swf/video/"+rez[1]+"?additionalInfos=0&autoStart=1";type="swf"}else{if((rez=href.match(/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i))){href="//www.twitvid.com/embed.php?autoplay=0&guid="+rez[1];type="iframe"}else{if((rez=href.match(/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i))){href="//twitpic.com/show/full/"+rez[1];type="image"}else{if((rez=href.match(/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i))){href="//"+rez[1]+"/p/"+rez[2]+"/media/?size=l";type="image"}else{if((rez=href.match(/maps\.google\.com\/(\?ll=|maps\/?\?q=)(.*)/i))){href="//maps.google.com/"+rez[1]+""+rez[2]+"&output="+(rez[2].indexOf("layer=c")?"svembed":"embed");type="iframe"}}}}}}}}if(type){obj.href=href;obj.type=type}}}}(jQuery));function inforDataApiDebug(msg){if($("#debug-inforDataApi")!=null){$("#debug-inforDataApi").append("<p>"+msg+"</p>")}else{$("body").append("<div id='debug-inforDataApi' style='display:none'><p>"+msg+"</p></div>")}}var inforDataApi=new function(){this.pendingVideoIndex=-2;this.pendingType="";this.pendingSecureResourceLink="";this.pendingSecureDocument="";this.pendingWidth=0;this.pendingHeight=0;this.pendingDocumentCode="";this.pendingDcsUri="";this.pendingResourceElement=null;this.getNews=function(){return[{imagePath:"/furniture/design2012/images/newsThumbs1.png",alternateImageText:"News",headerText:"14 pt Regular #515359",bodyText:"12 Pt regular #515359",redirectUrl:"#",newsDate:"10:50 AM on Tue, Jun 26, 2012 10pt Regular #aaabae"},{imagePath:"/furniture/design2012/images/newsThumbs2.png",alternateImageText:"News",headerText:"14 pt Regular #515359",bodyText:"12 Pt regular #515359",redirectUrl:"#",newsDate:"10:50 AM on Tue, Jun 26, 2012 10pt Regular #aaabae"}]};this.getLatestNews=function(news,countryName,branch){var latestNews=null;$.ajax({url:"/ajaxwrapper",type:"GET",data:"method=getLatestNews&countryName="+countryName+"&Branch="+branch,dataType:"json",timeout:120000,success:function(data,textStatus,xhr){latestNews=data;if(latestNews.length>0){news.showLatestPressRelease(latestNews)}},error:function(xhr,msg){inforDataApiDebug("getLatestNews error: "+msg);latestNews=null;$("body").unmask()}});return latestNews};this.getMoreNews=function(news,countryName,newsCount,branch,includeHidden){var morePressRelease=null;var params="method=getMoreNews&countryName="+countryName+"&subsetStart="+(newsCount+1)+"&subsetEnd="+(newsCount+10)+"&Branch="+branch;$.ajax({url:"/ajaxwrapper",type:"GET",data:""+params,dataType:"json",timeout:120000,success:function(data,textStatus,xhr){morePressRelease=data;if(morePressRelease.length>0){news.populatePressReleases(morePressRelease);try{evaluateLinks()}catch(exception){}}},error:function(xhr,msg){inforDataApiDebug("getMoreNews error: "+msg);morePressRelease=null;$("body").unmask()}});return morePressRelease};this.getMediaCoverage=function(news,countryName,newsCount,branch){var moreMedia=null;$.ajax({url:"/ajaxwrapper",type:"GET",data:"method=getMediaCoverage&countryName="+countryName+"&subsetStart="+(newsCount+1)+"&subsetEnd="+(newsCount+10)+"&Branch="+branch,dataType:"json",timeout:120000,success:function(data,textStatus,xhr){moreMedia=data;if(moreMedia.length>0){news.populateMediaCoverage(moreMedia);try{evaluateLinks()}catch(exception){}}},error:function(xhr,msg){inforDataApiDebug("getMediaCoverage error: "+msg);moreMedia=null;$("body").unmask()}});return moreMedia};this.doPagedSearch=function(recommendedLinksBranch,nonRecursiveBranch,searchCriteria){$.ajax({url:"/ajaxwrapper",type:"GET",data:removeBranchCriterion(searchCriteria.searchData)+"&branch="+recommendedLinksBranch+"&nrBranch="+nonRecursiveBranch+"&search_branch="+searchCriteria.basicSearchBranch+"&page="+searchCriteria.pageIndex+"&pagesize="+searchCriteria.pageSize+"&fmt=pagedsearch&sourceUrl="+document.referrer,dataType:"json",timeout:120000,success:function(data,textStatus,xhr){searchCriteria.recommendedLinks=data.recommendedLinks;searchCriteria.setSearchRecommendedLinks();searchCriteria.isPagedResult=true;searchCriteria.resultContent=data.searchResults;searchCriteria.totalRecordCount=data.searchResultCount;searchCriteria.setSearchResultContent();searchCriteria.setResultCount();searchCriteria.setPager();try{evaluateLinks()}catch(exception){}},error:function(xhr,msg){inforDataApiDebug("doPagedSearch: "+msg);searchCriteria.status="1"}});return searchCriteria};this.getSearchData=function(branch,searchCriteria){$.ajax({url:"/ajaxwrapper",type:"GET",data:removeBranchCriterion(searchCriteria.searchData)+"&branch="+branch+"&fmt=search&sourceUrl="+document.referrer+"&page="+searchCriteria.pageIndex+"&pagesize="+searchCriteria.pageSize,dataType:"json",timeout:1200000,success:function(data,textStatus,xhr){if(data!=null&&data!=undefined&&data.length>0){data=filterRecommendedLinks(data);if(data.length==0){searchCriteria.showNoResultsText="0"}}searchCriteria.resultContent=data;searchCriteria.setSearchResultContent();searchCriteria.totalRecordCount=data.length;searchCriteria.setResultCount();searchCriteria.setPager();try{evaluateLinks()}catch(exception){}},error:function(xhr,msg){inforDataApiDebug("getSearchData error: "+msg);$("body").unmask()}});return searchCriteria};this.getRecommendedLinks=function(branch,nonRecursiveBranch,searchCriteria){$.ajax({url:"/ajaxwrapper",type:"GET",data:removeBranchCriterion(searchCriteria.searchData)+"&branch="+branch+"&nrBranch="+nonRecursiveBranch+"&type=Product+Summary;Section&maxresults=5&fmt=recommendedlinks",dataType:"json",timeout:120000,success:function(psData,textStatus,xhr){searchCriteria.recommendedLinks=psData;searchCriteria.setSearchRecommendedLinks();searchCriteria.status="1"},error:function(xhr,msg){inforDataApiDebug("getRecommendedLinksError: "+msg);searchCriteria.status="1"}}).done(function(){setTimeout(function(){searchCriteria=inforDataApi.getSearchData(searchCriteria.basicSearchBranch,searchCriteria)},1000)});return searchCriteria};this.getContactRequest=function(){return[{text:"Request information about Infor software",value:1,selected:true},{text:"B-Request information about Infor software",value:2,selected:false},{text:"C-Request information about Infor software",value:3,selected:false},{text:"D-Request information about Infor software",value:4,selected:false}]};this.getCountryList=function(){return this.getDynamicCountryList()};this.getDynamicCountryList=function(){var count=0;var countryList=new Array();$("#country-list-options > li").each(function(){var text=$(this).text();var obj={text:""+text,value:count+1,selected:false};countryList[count]=obj;count++});return countryList};this.reloadEventData=function(branch,eventSearch,passUrlParameters){var indexParameters="";if(passUrlParameters){indexParameters=location.search;if(indexParameters!=""){indexParameters="&"+indexParameters.substring(1)}}else{indexParameters=getEventIndexParameters()}$.ajax({url:"/ajaxwrapper",type:"GET",data:"method=events&Branch="+branch+indexParameters+getDateParameter(),dataType:"json",timeout:240000,success:function(data,textStatus,xhr){eventSearch.resultContent=data;eventSearch.setSearchResultContent();eventSearch.totalRecordCount=data.length;addPagerObj(eventSearch)},error:function(xhr,msg){inforDataApiDebug("reloadEventData error: "+msg);$("body").unmask()}});return eventSearch};this.getEventData=function(branch,eventSearch,passUrlParameters){var indexParameters="";if(passUrlParameters){indexParameters=location.search;if(indexParameters!=""){indexParameters="&"+indexParameters.substring(1)}}else{indexParameters=getEventIndexParameters()}$.ajax({url:"/ajaxwrapper",type:"GET",data:"method=events&Branch="+branch+indexParameters+getDateParameter(),dataType:"json",timeout:960000,success:function(data,textStatus,xhr){eventSearch.resultContent=data;eventSearch.setSearchResultContent();eventSearch.totalRecordCount=data.length;inforDataApiDebug("getEventData: loaded "+data.length+" events");addPagerObj(eventSearch)},error:function(xhr,msg){}});return eventSearch};this.getRecordedWebinars=function(webinars,webinarsFilterCriteria,branch){var indexParm="";if(webinarsFilterCriteria.category!=null&&webinarsFilterCriteria!=""){indexParm="&Index="+webinarsFilterCriteria.category}else{indexParm=""}$.ajax({url:"/ajaxwrapper",type:"GET",data:"method=webinars&branch="+branch+indexParm,dataType:"json",timeout:360000,success:function(data,textStatus,xhr){webinarsFilterCriteria.webinarsData=data;webinarsFilterCriteria.totalRecordCount=data.length;webinars.displayWebinarRecords(webinarsFilterCriteria);try{evaluateLinks()}catch(exception){}},error:function(xhr,msg){inforDataApiDebug("getRecordedWebinars error: "+msg)}});return webinarsFilterCriteria};this.getResourceLibraryData=function(resourceLibraryPage,resourceLibraryFilterCriteria,passUrlParameters){var indexParameters="";var resourceLibraryParameters="method=resourceLibrary";if(passUrlParameters){indexParameters=location.search;if(indexParameters!=""){indexParameters="&"+indexParameters.substring(1)}}else{var productType=resourceLibraryFilterCriteria.productType;var industryType=resourceLibraryFilterCriteria.industryType;var documentType=resourceLibraryFilterCriteria.documentType;var productTypeIndexKey=resourceLibraryFilterCriteria.productTypeIndexKey;var industryTypeIndexKey=resourceLibraryFilterCriteria.industryTypeIndexKey;var documentTypeIndexKey=resourceLibraryFilterCriteria.documentTypeIndexKey;if(productType!=""){indexParameters="item_index_"+productTypeIndexKey+"="+productType}if(industryType!=""){if(indexParameters!=""){indexParameters=indexParameters+"&"}indexParameters=indexParameters+"item_index_"+industryTypeIndexKey+"="+industryType}if(documentType!=""){if(indexParameters!=""){indexParameters=indexParameters+"&"}indexParameters=indexParameters+"item_index_"+documentTypeIndexKey+"="+documentType}if(indexParameters!=""){indexParameters="&"+indexParameters}}resourceLibraryParameters=resourceLibraryParameters+indexParameters;var branch=$("#branch").text();if(branch!=undefined&&branch!=""){resourceLibraryParameters=resourceLibraryParameters+"&Branch="+branch}resourceLibraryParameters+="&sortorder=updatedate&sortdirection=descending";$.ajax({url:"/ajaxwrapper",type:"GET",data:""+resourceLibraryParameters,dataType:"json",timeout:960000,success:function(data,textStatus,xhr){if(data.length==0){resourceLibraryFilterCriteria.resultContent=[{type:"Resource Library",title:"No results found",redirectUrl:"#",description:"No results found for your criteria."}]}resourceLibraryFilterCriteria.resultContent=data;resourceLibraryFilterCriteria.totalRecordCount=data.length;resourceLibraryPage.showSearchResults(resourceLibraryFilterCriteria);try{evaluateLinks()}catch(exception){}},error:function(xhr,msg){inforDataApiDebug("resourceLibraryParameters error: "+msg)}});return resourceLibraryFilterCriteria}};function ii_AnimObj(){this.moveTimer=null;this.hideTimer=null;this.prx=0;this.pry=0;this.flx=10;this.fly=10;this.flw=0;this.flh=0;this.flpos=0;this.flopac=0;this.flfade=0}function ii_getIEel(){if(document.compatMode&&document.compatMode=="BackCompat"){return(document.body)}else{return((document.documentElement&&typeof document.documentElement.scrollTop!="undefined")?document.documentElement:document.body)}}function ii_reset(){var A=ii_getIEel();ii_Anim.prx=((ii_Var.MZ)?window.pageXOffset:A.scrollLeft)+ii_Anim.flx;ii_Anim.pry=((ii_Var.MZ)?window.pageYOffset:A.scrollTop)+ii_Anim.fly}function ii_mark(){var E=ii_Var;var D=ii_Anim;if(!E.MZ&&!E.IE){return}var B=ii_getIEel();var A=(E.MZ)?window.innerWidth:B.offsetWidth;var C=(E.MZ)?window.innerHeight:B.offsetHeight;if((D.flpos%3)==0){D.flx=A-D.flw-30}if((D.flpos%3)==1){D.flx=10}if((D.flpos%3)==2){D.flx=Math.round(((A-20)/2)-(D.flw/2))}if(D.flpos<4){D.fly=10}else{if(D.flpos<7){D.fly=Math.round(((C-20)/2)-(D.flh/2))}else{if(D.flpos<10){D.fly=C-40-D.flh}}}}function ii_move(){var C=ii_Var;var D=ii_Anim;var A=ii_getIEel();var B=((C.MZ)?window.pageXOffset:A.scrollLeft)+D.flx;var H=((C.MZ)?window.pageYOffset:A.scrollTop)+D.fly;var J=Math.abs(B-D.prx);var I=Math.abs(H-D.pry);var E=Math.sqrt(J*J+I*I);var F=Math.round(E/20)+2;if(B>D.prx){D.prx=D.prx+F}if(B<D.prx){D.prx=D.prx-F}if(H>D.pry){D.pry=D.pry+F}if(H<D.pry){D.pry=D.pry-F}var G=document.getElementById("invitelayer");(C.MZ)?G.style.left=D.prx+"px":G.style.posLeft=D.prx;(C.MZ)?G.style.top=D.pry+"px":G.style.posTop=D.pry;if(!ii_Anim.islteIE6){(C.MZ)?G.style.MozOpacity=D.flopac/100:G.style.filter="alpha(opacity="+D.flopac+")";D.flopac+=D.flfade;if(D.flopac<0){D.flopac=0}if(D.flopac>100){D.flopac=100}}}function ii_getDomain(){var B=document.domain;if(ii_matchRegExp(B,"^[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}$")){return(B)}var A=B.split(".");if(A.length==3){B=A[1]+"."+A[2]}else{if(A.length>3){B=A[A.length-3]+"."+A[A.length-2]+"."+A[A.length-1]}}return(B)}function ii_callServer(F,E){var D=(ii_callServer.arguments.length==3)?ii_callServer.arguments[2]:window;var C=D.document.getElementsByTagName("head").item(0);var A=D.document.getElementById(F);if(A){C.removeChild(A)}var B=document.createElement("script");B.src=E;B.type="text/javascript";B.defer=true;B.id=F;void (C.appendChild(B))}function ii_getProtocol(){return((document.location.href.toLowerCase().indexOf("https")==0)?"https":"http")}function ii_getCookie(D){var B=D+"=";var G=B.length;var A=document.cookie.length;var E=0;while(E<A){var C=E+G;if(document.cookie.substring(E,C)==B){var F=document.cookie.indexOf(";",C);if(F==-1){F=document.cookie.length}return unescape(document.cookie.substring(C,F))}E=document.cookie.indexOf(" ",E)+1;if(E==0){break}}return(null)}function ii_setCookie(C,D){var A=ii_setCookie.arguments;var E=ii_setCookie.arguments.length;var B=(E>2)?A[2]:null;document.cookie=C+"="+escape(D)+((B==null)?"":("; expires="+B.toGMTString()))+"; path=/"+((ii_Var.domain==null||ii_Var.domain=="")?"":("; domain="+ii_Var.domain))}function ii_upGSV(C,F){var A=false;var B="";var E=ii_getCookie(ii_Var.GSV_COOKIE);E=(E==null)?[]:E.split("_");if(typeof(F)=="string"){F=F.replace(/\-/g,"%2D");F=F.replace(/\_/g,"%5F")}for(var D=0;D<E.length;D++){if((E[D].split("-"))[0]==C){E[D]=C+"-"+F;A=true;break}}if(!A){E[E.length]=C+"-"+F}for(D=0;D<E.length;D++){B+=E[D];if(D<E.length-1){B+="_"}}ii_setCookie(ii_Var.GSV_COOKIE,B,null)}function ii_getGSV(A){var D=ii_getCookie(ii_Var.GSV_COOKIE);D=(D==null)?[]:D.split("_");for(var B=0;B<D.length;B++){if((D[B].split("-"))[0]==A){var C=(D[B].split("-"))[1];C=C.replace(/\%2D/g,"-");C=C.replace(/\%5F/g,"_");return(C)}}return("")}function ii_upHLArr(C,E,B){var A=false;for(var D=0;D<C.length;D++){if(C[D][0]==E){if(B==1||B==2||B==3){if(C[D][B]==""){C[D][B]=1}else{C[D][B]=parseInt(C[D][B],10)+1}}if(B==4){C[D][B]=parseInt(new Date().getTime()/1000)}A=true;break}}if(!A){C[C.length]=[E,"","","",""];if(B==1||B==2||B==3){C[C.length-1][B]=1}if(B==4){C[C.length-1][B]=parseInt(new Date().getTime()/1000)}}}function ii_getHLArr(B,E,A){var D=null;for(var C=0;C<B.length;C++){if(B[C][0]==E){D=parseInt(B[C][A],10);if(isNaN(D)){D=null}break}}return(D)}function ii_wrapHL(){var C=ii_Var;var B=C.publ+"-"+C.pgvis+"-"+C.randid+"_";for(var A=0;A<C.phl.length;A++){B+=C.phl[A][0]+"-"+C.phl[A][1]+"-"+C.phl[A][2];if(A<C.phl.length-1){B+="+"}}B+="_";for(var A=0;A<C.ihl.length;A++){B+=C.ihl[A][0]+"-"+C.ihl[A][1]+"-"+C.ihl[A][2]+"-"+C.ihl[A][3]+"-"+C.ihl[A][4];if(A<C.ihl.length-1){B+="+"}}B+="_";for(var A=0;A<C.cpml.length;A++){B+=C.cpml[A];if(A<C.cpml.length-1){B+="-"}}B+="_";for(var A=0;A<C.ppml.length;A++){B+=C.ppml[A];if(A<C.ppml.length-1){B+="-"}}ii_setCookie(C.HIST_COOKIE,B,C.HIST_COOKIE_EXP)}function ii_unwrapHL(){var F=ii_Var;var C=ii_getCookie(F.HIST_COOKIE);C=(C!=null)?C.split("_"):[];if(C.length==0){return}var B=C[0].split("-");F.publ=B[0];F.pgvis=B[1];F.randid=parseInt(B[2],10);F.phl=[];if(C[1].length>0){B=C[1].split("+");for(var D=0;D<B.length;D++){var E=B[D].split("-");F.phl[F.phl.length]=[E[0],E[1],E[2]]}}F.ihl=[];if(C[2].length>0){B=C[2].split("+");for(var D=0;D<B.length;D++){var A=B[D].split("-");F.ihl[F.ihl.length]=[A[0],A[1],A[2],A[3],A[4]]}}F.cpml=[];if(C[3].length>0){B=C[3].split("-");for(var D=0;D<B.length;D++){F.cpml[F.cpml.length]=B[D]}}F.ppml=[];if(C[4].length>0){B=C[4].split("-");for(var D=0;D<B.length;D++){F.ppml[F.ppml.length]=B[D]}}}function ii_resetHistCookie(){ii_setCookie(ii_Var.HIST_COOKIE,"0-0-0____",ii_Var.HIST_COOKIE_EXP)}function ii_resetGSVCookie(){ii_upGSV("DPL",0);ii_upGSV("TES",parseInt(new Date().getTime()/1000));ii_upGSV("PCT",parseInt(new Date().getTime()/1000));ii_upGSV("GeoIP","*");ii_upGSV("GeoCo","");ii_upGSV("GeoRg","");ii_upGSV("GeoCt","");ii_upGSV("GeoNs","");ii_upGSV("GeoDm","")}function ii_initGeoIP(){var A=ii_Var;if(ii_getGSV("GeoIP")!="*"&&A.gsvr.length>0){A.geoinit=1}if(window.isgeoipapi_ip_addr!=undefined&&A.geoinit==0){A.geoinit=1;ii_upGSV("GeoIP",window.isgeoipapi_ip_addr);ii_upGSV("GeoCo",(window.isgeoipapi_country_code!=undefined)?window.isgeoipapi_country_code:"");ii_upGSV("GeoRg",(window.isgeoipapi_region!=undefined)?window.isgeoipapi_region:"");ii_upGSV("GeoCt",(window.isgeoipapi_city!=undefined)?window.isgeoipapi_city:"");ii_upGSV("GeoNs",(window.isgeoipapi_netspeed!=undefined)?window.isgeoipapi_netspeed:"");ii_upGSV("GeoDm",(window.isgeoipapi_domain!=undefined)?window.isgeoipapi_domain:"")}if(A.geoip==null&&A.geoinit==1){A.geoip=ii_getGSV("GeoIP");A.geoco=ii_getGSV("GeoCo");A.georg=ii_getGSV("GeoRg");A.geoct=ii_getGSV("GeoCt");A.geons=ii_getGSV("GeoNs");A.geodm=ii_getGSV("GeoDm")}}function ii_getIPRange(C){var B=null;var A=ii_matchRegExp(C,"^([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})(\\/([0-1]?[0-9]?|[1-2][0-9]|3[0-2]))?$");if(A!=null){var D=ii_matchRegExp(A[1],"^(\\d+)\\.(\\d+)\\.(\\d+)\\.(\\d+)$");if(D[1]!=null&&D[1]<=255&&D[2]<=255&&D[3]<=255&&D[4]<=255){B=[A[1],(A[2]==undefined||A[2]=="")?"32":A[3]]}}return(B)}function ii_ipCheck(G,E,C){var D=G.split(".");var A=(D[0]*16777216)+(D[1]*65536)+(D[2]*256)+(D[3]*1);var F=E.split(".");var H=(F[0]*16777216)+(F[1]*65536)+(F[2]*256)+(F[3]*1);var B=((4294967295<<(32-C))&4294967295);return((A&B)==(H&B))}function ii_doAvailCheck(C,B,A,H){var D=ii_Var;var F=(H?D.abavailImg:D.availImg);if(C==1){D.checkDeptID=A;if(A==-2){A="Default"}}else{if(typeof(window[A])!="undefined"){D.checkDeptID=window[A];A=window[A];if(A=="-2"){A="Default"}}else{ii_noshow();return}}D.checkState=B;for(var E=0;E<D.deptavail.length;E++){if(D.deptavail[E][0]==D.checkDeptID){if(D.deptavail[E][1]==D.checkState){setTimeout("availOnLoad(null)",500)}else{setTimeout("availOnError(null)",500)}return}}var G=parseInt(new Date().getTime()/1000);var I=(D.checkState==2?"un":"")+"available.gif";F.src=ii_getProtocol()+"://"+D.rsvr+"/resources/smartbutton/"+D.accountid+"/"+A+"/"+I+"?src=ii3&ts="+G}function availOnLoad(A){var D=ii_Var;var C=false;for(var B=0;B<D.deptavail.length;B++){if(D.deptavail[B][0]==D.checkDeptID){D.deptavail[B][1]=D.checkState;C=true;break}}if(!C){D.deptavail[D.deptavail.length]=[D.checkDeptID,D.checkState]}D.checkDeptID=0;D.checkState=0;if(A==null||this==D.availImg){ii_show()}}function availOnError(A){var D=ii_Var;var C=false;for(var B=0;B<D.deptavail.length;B++){if(D.deptavail[B][0]==D.checkDeptID){D.deptavail[B][1]=(D.checkState==2?1:2);C=true;break}}if(!C){D.deptavail[D.deptavail.length]=[D.checkDeptID,(D.checkState==2?1:2)]}D.checkDeptID=0;D.checkState=0;if(A==null||this==D.availImg){ii_noshow()}}function ii_noshow(){var B=ii_Var;if(B.trigru>0){var A=ii_getRuleOrInv(ii_Rules,B.trigru);if(A[9]==1){ii_executeRuleTriggeredEvent(A[10],A[11],A[12],A[0],A[4])}if(A[3]>=2){if(window.ISVT_onInviteNotOffered&&A[2]!=0){ISVT_onInviteNotOffered(B.trigru,A[2])}ii_stop()}else{ii_continue(B.evalidx,100)}}}function ii_show(){var F=ii_Var;if(F.trigru>0){var E=ii_getRuleOrInv(ii_Rules,F.trigru);var A=ii_getRuleOrInv(ii_Inv,E[2]);if(E[9]==1){ii_executeRuleTriggeredEvent(E[10],E[11],E[12],E[0],E[4])}if(A!=null){F.invtoshow=A[0];if(A[2]==3){ii_display()}else{var D=null;var C=null;var B=null;if(navigator.appName.indexOf("Microsoft")!=-1&&navigator.platform.indexOf("Mac")!=-1){D=document.createElement("IMG");C=document.createElement("IMG");B=document.createElement("IMG")}else{D=new Image();C=new Image();B=new Image()}if(A[15].length>0){C.src=A[15]}if(A[23].length>0){B.src=A[23]}D.onload=function(G){this.onload=null;ii_display()};D.src=A[10]}}else{if(E[3]==1||E[1]==3){ii_continue(F.evalidx,100)}else{ii_stop()}}}}function ii_display(){var c="ii_div_hide(\u0027[%0]\u0027,\u0027[%1]\u0027,[%2],[%3],[%4]);";var T="self.close();";var d="var ii_IE=!!(document.all&&document.getElementById);var ii_MZ=(!ii_IE)?!!(document.getElementById):false;var ii_gpop = true;function ii_callServer(id,scr) {  var win = (ii_callServer.arguments.length==3) ? ii_callServer.arguments[2] : window;var head = win.document.getElementsByTagName(\u0027head\u0027).item(0); var old = win.document.getElementById(id);  if (old) head.removeChild(old);  script = document.createElement(\u0027script\u0027);  script.src = scr;  script.type = \u0027text/javascript\u0027;  script.defer = true;  script.id = id;  void(head.appendChild(script));}\r\n";var b="function ii_executeInvitationAcceptedEvent(param1,param2,param3){var js=ii_invTokenReplace(ii_custacc,ii_inv[0],ii_inv[1]);eval(js);}\r\n";var a="function ii_executeInvitationDeclinedEvent(param1,param2,param3){var js=ii_invTokenReplace(ii_custdecl,ii_inv[0],ii_inv[1]);eval(js);}\r\n";var Y="function ii_invTokenReplace(js,arg3,arg4) { arg4 = arg4.replace(/\\u0027/g,\u0027\\\\\\'\u0027);js=js.replace(/\\[\\%INVITATIONID\\%\\]/g,arg3);js=js.replace(/\\[\\%INVITATIONNAME\\%\\]/g,arg4);return(js);}\r\n";var X="var ii_inv;var ii_custacc;var ii_custdecl;";var V="ii_executeInvitationAcceptedEvent(\u0027[%0]\u0027,\u0027[%1]\u0027,\u0027[%2]\u0027,\u0027[%3]\u0027,\u0027[%4]\u0027);\r\n";var R="ii_executeInvitationDeclinedEvent(\u0027[%0]\u0027,\u0027[%1]\u0027,\u0027[%2]\u0027,\u0027[%3]\u0027,\u0027[%4]\u0027);\r\n";var e="var op=window;if (window.ii_gpop) { if (window.opener&amp;&amp;!window.opener.closed)op=window.opener;else op=null; }";var N="if (op!=null&amp;&amp;op.ISVT_onInviteAccepted) op.ISVT_onInviteAccepted(\u0027[%0]\u0027,\u0027[%1]\u0027);";var K="if (op!=null&amp;&amp;op.ISVT_onInviteDeclined) op.ISVT_onInviteDeclined(\u0027[%0]\u0027,\u0027[%1]\u0027);";var M="if (op!=null) {op.ii_upHLArr(op.ii_Var.ihl,op.ii_Var.invtoshow,2); op.ii_wrapHL(); }";var B="if (op!=null) {op.ii_upHLArr(op.ii_Var.ihl,op.ii_Var.invtoshow,3); op.ii_wrapHL(); }";var g='\u003cimg src=\u0022[%0]\u0022 alt="" style=\u0022left:0px;top:0px;width:[%1]px;height:[%2]px;\u0022/\u003e';var D="\u003cdiv id=\u0022[%0]\u0022 style=\u0022position:absolute;left:[%1]px;top:[%2]px;\u0022\u003e";var Q='\u003cimg src=\u0022[%0]\u0022 alt="" style=\u0022top:0px;left:0px;\u0022 onclick=\u0022[%1][%2][%3][%4]\u0022 onmouseover=\u0022this.style.cursor=\u0027pointer\u0027\u0022 onmouseout=\u0022this.style.cursor=\u0027\u0027\u0022/\u003e';var O="\u003cform name=\u0022[%0]\u0022 method=\u0022post\u0022 action=\u0022\u0022\u003e\u003cinput style=\u0022font:normal 11px Arial, Helvetica, sans-serif;text-align:center;background-color:#E4E4E4;color:#000000;\u0022 type=\u0022button\u0022 name=\u0022[%1]\u0022 value=\u0022[%2]\u0022 onclick=\u0022[%3][%4][%5][%6]\u0022/\u003e\u003c/form\u003e";var J="window.open(\u0027[%0]\u0027,\u0027chatclient\u0027,\u0027width=[%1],height=[%2],scrollbars=0\u0027);";var F="if (op!=null) op.document.location=\u0027[%0]\u0027;";var G=ii_Var;var U="";var f="";var A=ii_getRuleOrInv(ii_Inv,G.invtoshow);var H=ii_getRuleOrInv(ii_Rules,G.trigru);ii_upHLArr(G.ihl,A[0],1);ii_upHLArr(G.ihl,A[0],4);ii_wrapHL();ii_executeInvitationOfferedEvent(A[25],A[26],A[27],A[0],A[1]);if(window.ISVT_onInviteOffered){ISVT_onInviteOffered(G.trigru,G.invtoshow)}G.evalru[ii_getRuleOrInvIdx(ii_Rules,G.trigru)][4]=ii_getRuleOrInvIdx(ii_Inv,G.invtoshow);if(A[2]==1||A[2]==2){U+='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n';U+='<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">\r\n';U+="<head>\r\n<title></title>\r\n";if(A[2]==2){U+=G.scrinc+"\r\n";U+='<script type="text/javascript">\r\n//<![CDATA[\r\n';U+=d+b+a+Y+X;U+="\r\n//]]>\r\n<\/script>\r\n"}U+='</head>\r\n<body style="margin-left:0px;margin-top:0px;"><div id="iibody" style="position:relative;">\r\n';U+=ii_rt(g,A,[ii_encodeHTML(A[10],0),11,12],1);U+=ii_rt(D,A,["iiacc",13,14],1);var S=ii_rt(V,A,[ii_encodeHTML(A[28],1),ii_encodeHTML(A[29],1),ii_encodeHTML(A[30],1),0,ii_encodeHTML(A[1],1)],1);var P=e+ii_rt(N,A,[0,""+H[8]],1);var L="";if(A[2]==1){L=ii_rt(c,A,[4,"aclk",7,(A[9]==1?"-3":"0"),0],1)}else{L=M+T}var Z=ii_encodeHTML(ii_parsejs(A[17]),0);if(A[18]==1){f=ii_rt(J,A,[Z,19,20],1)}else{if(A[18]==2){f=ii_rt(F,A,[Z],1)}}if(A[15].length>0){U+=ii_rt(Q,A,[15,S,P,f,L],0)}else{if(A[16].length>0){U+=ii_rt(O,A,["iiaccfrm","iiaccbtn",ii_encodeHTML(A[16],0),S,P,f,L],0)}}U+="</div>";U+=ii_rt(D,A,["iidecl",21,22],1);S=ii_rt(R,A,[ii_encodeHTML(A[31],1),ii_encodeHTML(A[32],1),ii_encodeHTML(A[33],1),0,ii_encodeHTML(A[1],1)],1);P=e+ii_rt(K,A,[0,""+H[8]],1);var L="";if(A[2]==1){L=ii_rt(c,A,[4,"dclk",8,(A[9]==1?"-3":"0"),0],1)}else{L=B+T}if(A[23].length>0){U+=ii_rt(Q,A,[23,S,P,L,""],0)}else{if(A[24].length>0){U+=ii_rt(O,A,["iideclfrm","iideclbtn",ii_encodeHTML(A[24],0),S,P,L,""],0)}}U+="</div></div></body></html>";if(A[2]==1){if(A[4]=="invitelayer"){var W=document.getElementById(A[4]);var C=document.getElementById("invitelayercontent");var I=document.getElementById("divshim");ii_Anim=new ii_AnimObj();ii_Anim.islteIE6=(I==null?false:true);ii_Anim.flx=10;ii_Anim.fly=10;ii_Anim.flw=A[11];ii_Anim.flh=A[12];ii_Anim.flpos=A[5];ii_Anim.flopac=(A[9]==1?0:100);ii_Anim.flfade=(A[9]==1?3:0);W.style.width=ii_Anim.flw;W.style.height=ii_Anim.flh;C.style.display="block";C.innerHTML=U;C.childNodes[0].data="";if(ii_Anim.islteIE6){I.style.display="block";I.style.width=ii_Anim.flw+"px";I.style.height=ii_Anim.flh+"px";I.style.top="0px";I.style.left="0px";I.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)";I.style.zIndex=C.style.zIndex-1}else{W.style.filter="alpha(opacity=0);-moz-opacity:0.0;"}ii_mark();window.onresize=ii_mark;ii_reset();ii_Anim.moveTimer=setInterval("ii_move();",25);setTimeout("document.getElementById('"+A[4]+"').style.visibility='visible'",40);ii_Anim.flpos=A[6];ii_mark();ii_Anim.hideTimer=setTimeout("ii_div_hide('"+A[4]+"','auto',"+A[8]+","+(A[9]==1?-3:0)+","+A[0]+");",(A[7]*1000))}else{C=document.getElementById(A[4]);if(C){C.innerHTML=U;C.style.visibility="visible"}}}else{if(A[2]==2){var E=window.open("","InstantInvite","width="+A[11]+",height="+A[12]);if(E){E.document.close();E.document.write(U);E.document.close();E.ii_inv=A;E.ii_custacc=G.CustomAcceptedJS;E.ii_custdecl=G.CustomDeclinedJS;E.focus()}}}}if(A[2]==3){if(confirm(A[3])){ii_executeInvitationAcceptedEvent(A[28],A[29],A[30],A[0],A[1]);if(window.ISVT_onInviteAccepted){ISVT_onInviteAccepted(G.invtoshow,H[8])}ii_upHLArr(G.ihl,G.invtoshow,2);ii_wrapHL();var Z=ii_parsejs(A[17]);if(A[18]==1){window.open(Z,"InstantInvite","width="+A[19]+",height="+A[20]+"")}else{if(A[18]==2){document.location=Z}}}else{ii_executeInvitationDeclinedEvent(A[31],A[32],A[33],A[0],A[1]);if(window.ISVT_onInviteDeclined){ISVT_onInviteDeclined(G.invtoshow,H[8])}ii_upHLArr(G.ihl,G.invtoshow,3);ii_wrapHL()}}if(H[3]==1||H[3]==3){ii_continue(G.evalidx,100)}else{ii_stop()}}function ii_rt(D,A,E,B){for(var C=0;C<E.length;C++){if(typeof(E[C])=="number"){if(B==1){D=D.replace("[%"+C+"]",(""+A[E[C]]).replace(/\u0027/g,"\\'"))}else{D=D.replace("[%"+C+"]",A[E[C]])}}else{if(B==1){D=D.replace("[%"+C+"]",E[C].replace(/\u0027/g,"\\'"))}else{D=D.replace("[%"+C+"]",E[C])}}}return(D)}function ii_parsejs(s){var regexp=/\[\%jsvar\:([a-zA-Z_\.]*)\%\]/;var match=regexp.exec(s);while(match!=null){result=eval("'"+window.ii_jsvar[match[1]]+"'");s=s.replace(/\[\%jsvar\:([a-zA-Z_\.]*)\%\]/,result);match=regexp.exec(s)}return(s)}function ii_div_hide(B,C,G,E,A){var F=ii_Var;if(A==F.lastinvhid){return}F.lastinvhid=A;var D=(B=="invitelayer");if(D){clearTimeout(ii_Anim.hideTimer)}if(C=="auto"||C=="aclk"||C=="dclk"){if(C=="aclk"){ii_upHLArr(F.ihl,A,2);ii_wrapHL()}if(C=="dclk"){ii_upHLArr(F.ihl,A,3);ii_wrapHL()}if(D&&G>0){ii_Anim.flpos=G;ii_Anim.flfade=E;ii_mark()}if(D){setTimeout("ii_div_clear('"+B+"');",(C=="auto")?1000:500)}}}function ii_div_clear(A){document.getElementById(A).style.visibility="hidden";clearInterval(ii_Anim.moveTimer)}function ii_trap(){var B=ii_Var;B.abshown=true;this.onbeforeunload=null;if(B.abdeptcheck!=0){for(var A=0;A<B.deptavail.length;A++){if(B.deptavail[A][0]==B.abdeptcheck){if(B.deptavail[A][1]==B.abcheckstate){return B.abmsg}}}return}return B.abmsg}function ii_delay_abandon(D){window.onbeforeunload=null;var C=setTimeout("window.onbeforeunload=ii_trap;",2000);var A=null;if(!D){var D=window.event}if(D.target){A=D.target}else{if(D.srcElement){A=D.srcElement}}if(A.nodeType==3){A=A.parentNode}if(A!=null){var B=A.tagName;if(B!=null){B=B.toLowerCase();if(B=="a"||B=="area"||B=="img"){clearTimeout(C)}else{if(B=="input"){if(A.getAttribute){var E=A.getAttribute("type");if(E!=null){E=E.toLowerCase();if(E=="image"||E=="submit"||E=="button"){clearTimeout(C)}}}}}}}return true}function ii_checkRules(L){var J=ii_Var;if(L==0){J.runcnt++}if(J.abshown==true&&J.abflag!=9999){J.trigru=ii_Rules[parseInt(J.abflag,10)][0];J.evalru[parseInt(J.abflag,10)][2]=2;J.evalru[parseInt(J.abflag,10)][3]=J.trigrucnt++;J.abflag=9999;window.onbeforeunload=null;J.abmsg=null;J.abdeptcheck=0;J.abcheckstate=0;document.onclick=null;return}var V=0;for(var O=L;O<ii_Rules.length;O++){J.evalidx=O;if(J.evalru[O][2]==0||J.evalru[O][3]>0){V++;continue}else{J.evalru[O][2]=2}var P=true;var U=ii_Rules[O][5];for(var R=0;R<U.length;R++){var N=2;var W=U[R].split("`");switch(W[0]){case"1":if(J.pgvis==1){N=1}break;case"2":if(!J.abshown){J.abmsg=W[1];window.onbeforeunload=ii_trap;if(J.IE){document.onclick=ii_delay_abandon}else{if(J.MZ){window.captureEvents(Event.CLICK)}}window.onclick=ii_delay_abandon;J.abflag=O;N=3;if(J.runcnt==1&&ii_Rules[O][6]==1){J.abdeptcheck=ii_Rules[O][8];J.abcheckstate=ii_Rules[O][7];ii_doAvailCheck(1,ii_Rules[O][7],ii_Rules[O][8],true)}}break;case"3":if(ii_compOp(J.pgvis,W[1],W[2],W[3],0)){N=1}break;case"4":if((W[2]==7||W[2]==9)&&ii_contains(J.cpml,W[1])&&!ii_contains(J.stringNoContain,W[1])&&ii_compOp(ii_getHLArr(J.phl,W[1],1),W[4],W[5],W[6],0)){N=1}else{if(W[2]==8&&ii_contains(J.cpml,W[1])&&ii_contains(J.stringNoContain,W[1])&&ii_compOp(ii_getHLArr(J.phl,W[1],2),W[4],W[5],W[6],0)){N=1}}break;case"5":if(ii_compOp(J.randid,W[1],W[2],W[3],0)&&ii_compOp(J.randid,W[4],W[5],W[6],0)){N=1}break;case"10":if((W[2]==7||W[2]==9)&&ii_contains(J.ppml,W[1])&&!ii_contains(J.stringNoContain,W[1])){N=1}else{if(W[2]==8&&ii_contains(J.ppml,W[1])&&ii_contains(J.stringNoContain,W[1])){N=1}}break;case"11":if((W[2]==7||W[2]==9)&&!ii_contains(J.stringNoContain,W[1])&&ii_compOp(J.referrer,J.urlStrings[W[1]],W[2],W[3],1)){N=1}else{if(W[2]==8&&ii_contains(J.stringNoContain,W[1])&&ii_compOp(J.referrer,J.urlStrings[W[1]],W[2],W[3],1)){N=1}}break;case"12":if((W[2]==7||W[2]==9)&&!ii_contains(J.stringNoContain,W[1])){for(var Q=0;Q<J.phl.length;Q++){var S=ii_getHLArr(J.phl,W[1],1);if(S!=null&&S>0){if(!ii_contains(J.cpml,W[1])||S>1){N=1}break}}}else{if(W[2]==8&&ii_contains(J.stringNoContain,W[1])){for(var Q=0;Q<J.phl.length;Q++){var S=ii_getHLArr(J.phl,W[1],2);if(S!=null&&S>0){if(!ii_contains(J.cpml,W[1])||S>1){N=1}break}}}}break;case"30":if(J.geoinit==1){if((W[2]==9&&ii_matchRegExp(J.geoip,W[1]))||((W[2]==7||W[2]==8)&&ii_compOp(J.geoip,W[1],W[2],0,1))){N=1}else{if(W[2]==1||W[2]==2){var M=false;var T=ii_extractStrings(W[1]);for(var Q=0;Q<T.length;Q++){var H=ii_getIPRange(T[Q]);if(H!=null){if(ii_ipCheck(J.geoip,H[0],H[1])){M=true}}}if(W[2]==1&&M){N=1}else{if(W[2]==2&&!M){N=1}}}}}else{if(J.gsvr.length==0){N=1}}break;case"31":case"32":case"33":case"34":case"35":if(J.geoinit==1){var C="";if(W[0]=="31"){C=J.geoco}else{if(W[0]=="32"){C=J.georg}else{if(W[0]=="33"){C=J.geoct}else{if(W[0]=="34"){C=J.geons}else{if(W[0]=="35"){C=J.geodm}}}}}if(ii_compOp(C,W[1],W[2],0,1)){N=1;break}}else{if(J.gsvr.length==0){N=1}}break;case"50":case"51":var E=parseInt(new Date().getTime()/1000);var K=(W[0]=="50"?J.tmentpg:parseInt(J.tmes,10));var G=parseInt(W[1],10);if(ii_compOp(E-K,G,W[2],W[3],0)){N=1}break;case"70":var D=ii_getHLArr(J.ihl,ii_Rules[O][2],3);if(D==null||D==0){N=1}break;case"71":var D=0;for(var Q=0;Q<J.ihl.length;Q++){if(!isNaN(parseInt(J.ihl[Q][3],10))){D+=parseInt(J.ihl[Q][3],10)}}if(D==0){N=1}break;case"72":var X=ii_getHLArr(J.ihl,ii_Rules[O][2],1);if(X==null){X=0}if(ii_compOp(X,W[1],W[2],W[3],0)){N=1}break;case"73":var X=0;for(var Q=0;Q<J.ihl.length;Q++){if(!isNaN(parseInt(J.ihl[Q][1],10))){X+=parseInt(J.ihl[Q][1],10)}}if(ii_compOp(X,W[1],W[2],W[3],0)){N=1}break;case"74":var E=parseInt(new Date().getTime()/1000);var G=parseInt(W[1],10);var A=ii_getHLArr(J.ihl,ii_Rules[O][2],4);if(A==null||ii_compOp(G,E-A,W[2],W[3],0)){N=1}break;case"75":var E=parseInt(new Date().getTime()/1000);var G=parseInt(W[1],10);var N=1;for(var Q=0;Q<J.ihl.length;Q++){var A=J.ihl[Q][4];if(A!=null&&ii_compOp(E-A,G,W[2],W[3],0)){N=2;break}}break;case"76":var I=ii_getHLArr(J.ihl,ii_Rules[O][2],2);if(I==null||I==0){N=1}break;case"77":var I=0;for(var Q=0;Q<J.ihl.length;Q++){if(!isNaN(parseInt(J.ihl[Q][2],10))){I+=parseInt(J.ihl[Q][2],10)}}if(I==0){N=1}break;case"80":case"81":case"82":var F=ii_getCookie(W[1]);if(W[0]=="80"&&(F==null?(W[4]==0?1:0):(W[4]==1?1:0))){N=1}if(F!=null){if((W[0]=="81"&&ii_compOp(F,W[4],W[5],W[6],1))||(W[0]=="82"&&!isNaN(F)&&ii_compOp(parseFloat(F),W[4],W[5],W[6],1))){N=1;break}}break;case"90":case"91":case"92":var B=ii_validateParam(0,W[1]);if(B!=null){if((W[0]=="90"&&typeof(B)=="string")||(W[0]=="91"&&typeof(B)=="number")){if((W[0]=="90"&&typeof(B)=="string"&&ii_compOp(B,W[4],W[5],W[6],1))||(W[0]=="91"&&typeof(B)=="number"&&ii_compOp(B,W[4],W[5],W[6],1))){N=1;break}}else{if((W[0]=="92")&&typeof(B)=="boolean"){if(ii_compOp(B,(W[4]==0?false:true),1,W[6])){N=1}}}}break;case"100":case"101":case"102":case"103":case"104":case"105":case"106":case"107":var B=null;if(W[0]=="100"||W[0]=="101"||W[0]=="102"||W[0]=="103"){B=ii_validateParam(1,W[1])}else{B=ii_validateParam(2,W[1])}if(B!=null){if(((W[0]=="100"||W[0]=="104")&&ii_compOp(B.value,W[4],W[5],W[6],1))||((W[0]=="101"||W[0]=="105")&&!isNaN(B.value)&&ii_compOp(parseFloat(B.value),W[4],W[5],W[6],1))||((W[0]=="102"||W[0]=="106")&&ii_compOp((B.checked==true?1:0),W[4],1,W[6],0))||((W[0]=="103"||W[0]=="107")&&ii_compOp(B.selectedIndex,W[4],W[5],W[6],1))){N=1}}break;default:}J.evalru[O][1][R]=N;if(N>1){P=false;break}}if(P){J.trigru=ii_Rules[O][0];J.evalru[O][3]=++J.trigrucnt;J.abflag=9999;window.onbeforeunload=null;J.abmsg=null;document.onclick=null;return}}if(V==ii_Rules.length){ii_stop()}else{ii_continue(0,2500)}}function ii_continue(B,A){setTimeout("ii_restart("+B+");",A)}function ii_stop(){ii_Var.run=false}function ii_getRuleOrInv(A,C){for(var B=0;B<A.length;B++){if(A[B][0]==C){return(A[B])}}return(null)}function ii_getRuleOrInvIdx(A,C){for(var B=0;B<A.length;B++){if(A[B][0]==C){return(B)}}return(-1)}function ii_compOp(I,H,E,F,J){var D=[];var A=false;if(J==1&&E!=9){D=ii_extractStrings(H)}else{D[0]=H}var G=(typeof I=="string");var B=(typeof H=="string");for(var C=0;C<D.length;C++){if(E==1&&F==0&&G&&B){if(D[C].toLowerCase()==I.toLowerCase()){A=true;break}}else{if(E==1){if(D[C]==I){A=true;break}}else{if(E==2&&F==0&&G&&B){if(D[C].toLowerCase()!=I.toLowerCase()){A=true}else{A=false;break}}else{if(E==2){if(D[C]!=I){A=true}else{A=false;break}}else{if(E==3){if(I>D[C]){A=true;break}}else{if(E==4){if(I<D[C]){A=true;break}}else{if(E==5){if(I<=D[C]){A=true;break}}else{if(E==6){if(I>=D[C]){A=true;break}}else{if(E==7&&F==0){if(I.toLowerCase().indexOf(D[C].toLowerCase())!=-1){A=true;break}}else{if(E==7&&F==1){if(I.indexOf(D[C])!=-1){A=true;break}}else{if(E==8&&F==0){if(I.toLowerCase().indexOf(D[C].toLowerCase())==-1){A=true}else{A=false;break}}else{if(E==8&&F==1){if(I.indexOf(D[C])==-1){A=true}else{A=false;break}}else{if(E==9){if(ii_matchRegExp(I,D[C])!=null){A=true;break}}}}}}}}}}}}}}}return(A)}function ii_validateParam(H,E){if(H==2){return(document.getElementById(E))}var J=(H==0?window:window.document);var B="";var C=E.split(".");for(var F=0;F<C.length;F++){var D=C[F];var G=ii_matchRegExp(D,"^([^\\]']*)\\['?([^']*)'?\\]$");if(G!=null){B+=G[1]+"`"+G[2]}else{B+=D}if(F<C.length-1){B+="`"}}var I=null;var A=B.split("`");for(var F=0;F<A.length;F++){if(F==0){if(typeof(J[A[0]])=="undefined"){I=null;break}else{I=J[A[0]]}}else{if(F==1){if(typeof(J[A[0]][A[1]])=="undefined"){I=null;break}else{I=J[A[0]][A[1]]}}else{if(F==2){if(typeof(J[A[0]][A[1]][A[2]])=="undefined"){I=null;break}else{I=J[A[0]][A[1]][A[2]]}}else{if(F==3){if(typeof(J[A[0]][A[1]][A[2]][A[3]])=="undefined"){I=null;break}else{I=J[A[0]][A[1]][A[2]][A[3]]}}}}}}return(I)}function ii_matchRegExp(C,A){var B=ii_Var.tokenizedexps[A];if(!B){B=ii_Var.tokenizedexps[A]=new RegExp(A)}return(B.exec(C))}function ii_contains(C,B){for(var A=0;A<C.length;A++){if(C[A]==B){return true}}return false}function ii_reverse(B){var A="";if(B.length>0){A=B.split("").reverse().join("")}return A}function ii_findMatches(D){var E=ii_Var;for(var B=0;B<E.urlStrings.length;B++){if(!ii_contains(E.stringNoContain,B)){var C=(E.stringTypes[B]==2)?[E.urlStrings[B]]:ii_extractStrings(E.urlStrings[B]);for(var A=0;A<C.length;A++){if((E.stringTypes[B]==0&&D.toLowerCase().indexOf(C[A].toLowerCase())!=-1)||(E.stringTypes[B]==1&&D.indexOf(C[A])!=-1)||(E.stringTypes[B]==2&&new RegExp(C[A]).exec(D)!=null)){E.cpml[E.cpml.length]=B;ii_upHLArr(E.phl,B,1);break}}}}}function ii_findNoMatches(E){var F=ii_Var;for(var B=0;B<F.urlStrings.length;B++){if(ii_contains(F.stringNoContain,B)){var C=true;var D=ii_extractStrings(F.urlStrings[B]);for(var A=0;A<D.length;A++){if((F.stringTypes[B]==0&&E.toLowerCase().indexOf(D[A].toLowerCase())!=-1)||(F.stringTypes[B]==1&&E.indexOf(D[A])!=-1)){C=false}}if(C){F.cpml[F.cpml.length]=B;ii_upHLArr(F.phl,B,2)}}}}function ii_extractStrings(A){var C=(ii_reverse(A).split(/[\s]*,(?!\\)[\s]*/).reverse());for(var B=0;B<C.length;B++){C[B]=ii_reverse(C[B]).replace(/\\,/g,",")}return(C)}function ii_decodeHTML(C){var B=/&#([0-9a-fA-F]*);/;var A=B.exec(C);while(A!=null){C=C.replace(/&#([0-9a-fA-F])*;/,String.fromCharCode(A[1]));var A=B.exec(C)}return(C)}function ii_encodeHTML(D,C){var A="";var E=0;for(var B=0;B<D.length;B++){E=D.charCodeAt(B);if(E==39&&C==1){A+="\\&#"+E+";"}else{A+="&#"+E+";"}}return(A)}function ii_invTokenReplace(C,B,A){A=A.replace(/\u0027/g,"\\'");C=C.replace(/\[\%INVITATIONID\%\]/g,B);C=C.replace(/\[\%INVITATIONNAME\%\]/g,A);return(C)}function ii_ruleTokenReplace(C,B,A){A=A.replace(/\u0027/g,"\\'");C=C.replace(/\[\%RULEID\%\]/g,B);C=C.replace(/\[\%RULENAME\%\]/g,A);return(C)}function ii_executeInvitationOfferedEvent(param1,param2,param3){var arg=ii_executeInvitationOfferedEvent.arguments;eval(ii_invTokenReplace(ii_Var.CustomOfferedJS,arg[3],arg[4]))}function ii_executeInvitationAcceptedEvent(param1,param2,param3){var arg=ii_executeInvitationAcceptedEvent.arguments;eval(ii_invTokenReplace(ii_Var.CustomAcceptedJS,arg[3],arg[4]))}function ii_executeInvitationDeclinedEvent(param1,param2,param3){var arg=ii_executeInvitationDeclinedEvent.arguments;eval(ii_invTokenReplace(ii_Var.CustomDeclinedJS,arg[3],arg[4]))}function ii_executeRuleTriggeredEvent(param1,param2,param3){var arg=ii_executeRuleTriggeredEvent.arguments;eval(ii_ruleTokenReplace(ii_Var.CustomTriggeredJS,arg[3],arg[4]))}function ii_loadDiag(){var A=ii_Var;ii_unwrapHL();A.diag=[A.run,A.runcnt,ii_getGSV("TES"),A.tmentpg,A.pgvis,A.randid,A.abflag,A.trigru,A.invtoshow,A.trigrucnt,A.phl,A.ihl,A.cpml,A.ppml,A.deptavail,A.evalru,ii_getGSV("GeoIP"),ii_getGSV("GeoCo"),ii_getGSV("GeoRg"),ii_getGSV("GeoCt"),ii_getGSV("GeoNs"),ii_getGSV("GeoDm"),A.publ,A.deploy,A.domain]}function ii_getDiag(A){return(ii_Var.diag[A])}function ii_restart(E){var D=ii_Var;D.trigru=0;ii_initGeoIP();if(E==0){for(var B=0;B<D.evalru.length;B++){if(D.evalru[B][2]>1){D.evalru[B][2]=1}for(var A=0;A<D.evalru[B][1].length;A++){D.evalru[B][1][A]=0}}}ii_checkRules(E);if(D.trigru>0){var C=ii_getRuleOrInv(ii_Rules,D.trigru);if(C[6]>=1){ii_doAvailCheck(C[6],C[7],C[8],false)}else{ii_show()}}}function ii_init(){var C=ii_Var;C.deploy=(window.ii_deployment?window.ii_deployment:ii_getGSV("DPL"));if(C.deploy>0&&C.jscalled==0){if(C.deploy==1){ii_callServer("II3_TestRules.js",ii_getProtocol()+"://"+C.rsvr+"/resources/smartbutton/"+C.accountid+"/II3_TestRules.js?src=ii3&ts="+C.pct)}if(C.deploy==2){ii_callServer("II3_Rules.js",ii_getProtocol()+"://"+C.rsvr+"/resources/smartbutton/"+C.accountid+"/II3_Rules.js?src=ii3&ts="+C.pct)}C.jscalled=1;ii_upGSV("DPL",C.deploy)}if(window.ii_Rules&&window.ii_Rules.length>0){if(C.vtscrloc.length>0){ii_callServer(C.vtscrname,ii_getProtocol()+"://"+C.vtscrloc)}ii_unwrapHL();if(C.publ!=C.publishversion){ii_resetHistCookie()}C.publ=C.publishversion;C.pgvis=parseInt(C.pgvis,10)+1;C.ppml=C.cpml;C.cpml=[];if(C.randid==0){C.randid=Math.floor(Math.random()*100+1)}C.tmes=ii_getGSV("TES");ii_findMatches(document.location.href);ii_findNoMatches(document.location.href);ii_wrapHL();for(var B=0;B<ii_Rules.length;B++){C.evalru[B]=[ii_Rules[B][0],new Array(ii_Rules[B][5].length),(ii_Rules[B][1]==0?0:1),0,-1];for(var A=0;A<ii_Rules[B][5].length;A++){C.evalru[B][1][A]=0}}C.run=true;ii_restart(0)}else{setTimeout("ii_init();",1000)}}function ii_start(){var B=ii_Var;if(B.IE||B.MZ){if(document.location.host.indexOf(B.domain)!=-1){if(B.ishosted){var A=(parseInt(new Date().getTime()/1000));B.pct=ii_getGSV("PCT");if((A-B.cachetimeout)>=B.pct){B.pct=A;ii_upGSV("PCT",B.pct)}if(ii_getGSV("DPL")==0){ii_callServer("II3_Servers.js",ii_getProtocol()+"://"+B.rsvr+"/resources/smartbutton/"+B.accountid+"/II3_Servers.js?src=ii3&ts="+A)}}if(ii_getGSV("GeoIP")=="*"&&B.gsvr.length>0){ii_callServer("geoipAPI.js",ii_getProtocol()+"://"+B.gsvr+"/geoipAPI.js?src=ii3&ts="+A)}ii_init()}}}function ii_VarObj(){this.IE=!!(document.all&&document.getElementById);this.MZ=(!this.IE)?!!(document.getElementById):false;this.version=14;this.accountid=7462;this.ishosted=true;this.domain="";this.rsvr="rs.instantservice.com";this.gsvr="gs.instantservice.com";this.vtscrname="";this.vtscrloc="";this.GSV_COOKIE="IS3_GSV";this.HIST_COOKIE="IS3_History";this.HIST_COOKIE_EXP=null;if(this.HIST_COOKIE_EXP!=null){this.HIST_COOKIE_EXP.setTime(this.HIST_COOKIE_EXP.getTime()+(0*60*1000))}this.run=true;this.runcnt=0;this.tmentpg=parseInt(new Date().getTime()/1000);this.trigru=0;this.trigrucnt=0;this.lastinvhid=0;this.invtoshow=0;this.referrer=document.referrer;this.evalidx=0;this.deptavail=[];this.evalru=[];this.deploy=0;this.jscalled=0;this.cachetimeout=300;this.geoinit=0;this.geoip=null;this.geoco=null;this.georg=null;this.geoct=null;this.geons=null;this.geodm=null;this.tmes=null;this.diag=[];this.publ=0;this.pct=0;this.pgvis=0;this.randid=0;this.phl=[];this.ihl=[];this.cpml=[];this.ppml=[];this.tokenizedexps={};this.abflag=9999;this.abshown=false;this.abmsg=null;this.abdeptcheck=0;this.abcheckstate=0;this.availImg=null;this.abavailImg=null;this.checkDeptID=0;this.checkState=0;if(navigator.appName.indexOf("Microsoft")!=-1&&navigator.platform.indexOf("Mac")!=-1){this.availImg=document.createElement("IMG");this.abavailImg=document.createElement("IMG")}else{this.availImg=new Image();this.abavailImg=new Image()}this.availImg.title="availimg";this.availImg.onload=availOnLoad;this.availImg.onerror=availOnError;this.abavailImg.title="abavailimg";this.abavailImg.onload=availOnLoad;this.abavailImg.onerror=availOnError}ii_Var=new ii_VarObj();ii_Var.domain+=ii_getDomain();if(navigator.cookieEnabled){if(ii_getCookie(ii_Var.HIST_COOKIE)==null){ii_resetHistCookie()}if(ii_getCookie(ii_Var.GSV_COOKIE)==null){ii_resetGSVCookie()}}document.write('<div id="invitelayer" style="position:absolute;left:10px;top:10px;visibility:hidden;z-index:1000;">');document.write('<div id="invitelayercontent" style="position:relative;left:0px;top:0px;z-index:100">&nbsp;</div>');document.write('<!--[if lte IE 6]><iframe id="divshim" src="javascript:\'&lt;html&gt;&lt;/html&gt;\'" scrolling="no" frameborder="0" style="position:absolute;top:0px;left:0px;display:none;"></iframe><![endif]--></div>');if(ii_Var.IE||ii_Var.MZ){ii_start()}var fancyBoxVideoAfterCloseCallbackList=new Array();var assetTitle="";function bindResponsiveImagesToResizeEvent(positionBannerTextHolderFlag){$(window).bind("resize",function(){common.positionBannerTextHolder();resizeBannerDivs();if(positionBannerTextHolderFlag=="0"){leftAlignBannerText()}})}function resizeBannerDivs(){var maxImgDivHeight=535;if(typeof(fixedMaxImgDivHeight)!="undefined"){if(fixedMaxImgDivHeight!=undefined&&fixedMaxImgDivHeight!=null&&fixedMaxImgDivHeight!=""&&fixedMaxImgDivHeight!=0){maxImgDivHeight=fixedMaxImgDivHeight}}var templateSetHeight="no";if(typeof(fixedTemplateSetHeight)!="undefined"){if(fixedTemplateSetHeight!=undefined&&fixedTemplateSetHeight!=null){templateSetHeight=fixedTemplateSetHeight}}if(getIEVersion()>10&&maxImgDivHeight>400&&maxImgDivHeight!=545&&templateSetHeight!="yes"){maxImgDivHeight=(maxImgDivHeight/2)}if(getIEVersion()>10&&maxImgDivHeight<250){maxImgDivHeight=(maxImgDivHeight*2)}$("#bannerSlide").width("100%");$("#bannerSlide").css("minWidth","100%");$("#bannerSlide").css("height","100%");$("#bannerSlide").css("min-height",maxImgDivHeight+"px");$("#bannerSlide .bannerImg>img").width("100%");$("#bannerSlide > div").css("maxWidth","100%");$("#bannerSlide > div").css("minWidth","100%");$("#bannerSlide > div").width("100%");$("#bannerSlide > div").css("height",maxImgDivHeight+"px");$("#bannerSlide > div").css("min-height",maxImgDivHeight+"px")}function leftAlignBannerText(){var logoPositionLeft=$("#logo").position().left;$("div.bannerTextHolder").each(function(){$(this).css("margin-left",logoPositionLeft+"px")})}function blockPlay(){var booleanBlockPlay=true;var allCookies=document.cookie.split(";");for(var i=0;i<allCookies.length;i++){if(allCookies[i].indexOf("ProfileForCustomForm")>-1){if(allCookies[i].indexOf("ProfileForCustomForm1=")<0){booleanBlockPlay=false;break}}}if(booleanBlockPlay){if(window.location.href.indexOf("stage=form_submitted")>0){booleanBlockPlay=false}}return booleanBlockPlay}function setCid(){var referrerUrl=document.referrer;var qString="";var requestUrl=document.URL;var tryCount=0;if(document.URL.indexOf("?")>-1){qString=document.URL.split("?")[1];requestUrl=document.URL.split("?")[0]}if(typeof cidMethod!="undefined"){getCidComputation(referrerUrl,qString,requestUrl,cidMethod,tryCount)}else{getCidComputation(referrerUrl,qString,requestUrl,"default",tryCount)}}function populateProgressiveFormFields(){var spopWebCookie=getSessionVar("com.silverpop.iMAWebCookie");var progressiveEmailAddress=getSessionVar("progressive_email");if(progressiveEmailAddress==null){progressiveEmailAddress="michael.hartford@infor.com"}if(progressiveEmailAddress!=""){getProgressiveFormFieldValues(progressiveEmailAddress)}}function getProgressiveFormFieldValues(emailAddress){$.ajax({url:"/ajaxwrapper",type:"GET",data:"progressive_email="+emailAddress,dataType:"json",timeout:60000,success:function(data,textStatus,xhr){Object.keys(data).forEach(function(k){$('input[name="'+k+'"]').each(function(){var value=data[k];$(this).val(value)})});displayProgressiveFormFields()},error:function(xhr,textstatus,errorThing){}})}function getHttpHeaders(){$.ajax({url:"/ajaxwrapper",type:"GET",data:"method=headers&time="+new Date().getTime(),dataType:"json",timeout:60000,success:function(data,textStatus,xhr){var ip="";for(i=0;i<data.length;i++){for(var key in data[i]){if(key==="True-Client-IP"){ip=data[i][key]}if(key==="X-Forwarded-For"){if(ip===""){ip=data[i][key];if(ip!==""){try{ip=ip.split(",")[0]}catch(exception){ip=""}}}}}}if(ip!==""){setTrueClientIP(ip)}},error:function(xhr,textstatus,errorThing){}})}function setTrueClientIP(ip){$("meta").each(function(){if($(this).attr("name")!==undefined){if($(this).attr("name")==="WT.z_IP"){$(this).remove();$("head").append("<meta name='WT.z_IP' content='"+ip+"'>")}}})}function displayProgressiveFormFields(){var strCurrentStage=$("input[name='formFilloutTracking']").val();if(strCurrentStage==null){strCurrentStage="0"}var currentStage=0;try{currentStage=Number(strCurrentStage)}catch(exception){currentStage=0}}function getCidComputation(refererUrl,queryString,requestUrl,cidMethod,tryCount){if(queryString.length>0){queryString="&"+queryString}$.ajax({url:"/ajaxwrapper",type:"GET",data:"referrer="+refererUrl+"&requestUrl="+requestUrl+"&cidMethod="+cidMethod+queryString,dataType:"json",timeout:60000,success:function(data,textStatus,xhr){if(data.cid.length>=10&&getSessionVar("sessionCid")==null){setSessionVar("sessionCid",data.cid)}$("head").append('<meta name="WT.mc_id" content="'+data.cid+'" />');try{setupWebTrends()}catch(err){}},error:function(xhr,textstatus,errorThing){tryCount++;if(tryCount<2){getCidComputation(refererUrl,queryString,requestUrl,cidMethod,tryCount)}else{try{console.log(errorThing)}catch(exception){}}}});try{}catch(exception){}}setCid();function getTextPropsValue(myVariable,myDefault){rc=myDefault;try{for(i=0;i<regionalSettingsKeys.length;i++){if(regionalSettingsKeys[i]==myVariable){rc=regionalSettingsValues[i]}}}catch(error){rc=myDefault}return rc}function getWebtrendsWtEsString(){var wtEs=location.href;if(wtEs.indexOf("http://")>-1){wtEs=wtEs.substring(7,wtEs.length)}if(wtEs.indexOf("?")>-1){wtEs=wtEs.substring(0,wtEs.indexOf("?"))}return wtEs}function getRecommendedLinkIds(){var strRecommendedLinkIds="";$("div.recommendedLink").children("a").each(function(){if(strRecommendedLinkIds!=""){strRecommendedLinkIds+=","}strRecommendedLinkIds+=$(this).attr("id")});var recommendedLinkIds=strRecommendedLinkIds.split(",");return recommendedLinkIds}function getSessionVar(varname){var wtVar=null;if(false){wtVar=sessionStorage.getItem(varname)}else{wtVar=$.cookie(varname)}return wtVar}function setSessionVar(varname,varvalue,vardomain){if(false){sessionStorage.setItem(varname,varvalue)}else{if(typeof vardomain!="undefined"&&vardomain!=null&&vardomain.length>0){$.cookie(varname,varvalue,{path:"/",domain:vardomain})}else{$.cookie(varname,varvalue,{path:"/"})}}}function removeSessionVar(varname){if(false){sessionStorage.removeItem(varname)}else{$.removeCookie(varname,{path:"/"})}}function globalNotifyWebTrends(documentCode,uriString,resourceType,title){var wtEs=getWebtrendsWtEsString();if(typeof dcsMultiTrack!="undefined"){if(getSessionVar("wt_conv")!=null){if(resourceType=="demo"){dcsMultiTrack("WT.conv",getSessionVar("wt_conv"),"WT.conv_type",getSessionVar("wt_convtype"),"WT.z_AssetID",documentCode,"WT.ti","Demo: "+title+" - "+uriString,"WT.clip_n",uriString,"WT.es",wtEs,"WT.dl","7","DCS.dcsuri",uriString,"WT.z_VideoID",uriString)}else{if(resourceType=="demo-video"){var wtVideoId="";if(typeof fancyVid!="undefined"&&typeof fancyVid[0]!="undefined"){wtVideoId=getWebtrendsMp4String(fancyVid[0].sources[0].file)}dcsMultiTrack("WT.conv",getSessionVar("wt_conv"),"WT.conv_type",getSessionVar("wt_convtype"),"WT.z_AssetID",documentCode,"WT.ti","Demo: "+title+" - "+wtVideoId,"WT.clip_n",wtVideoId,"WT.es",wtEs,"WT.dl","7","DCS.dcsuri",encodeURIComponent(fancyVid[0].sources[0].file),"WT.z_VideoID",wtVideoId)}else{if(resourceType=="video"){var wtVideoId="";if(typeof fancyVid!="undefined"&&typeof fancyVid[0]!="undefined"){wtVideoId=getWebtrendsMp4String(fancyVid[0].sources[0].file)}dcsMultiTrack("WT.ti","Video: "+title+" - "+wtVideoId,"WT.clip_n",wtVideoId,"WT.es",wtEs,"WT.dl","7","DCS.dcsuri",encodeURIComponent(fancyVid[0].sources[0].file),"WT.z_VideoID",wtVideoId)}else{}}}removeWebTrendsVars()}else{if(resourceType=="demo"){dcsMultiTrack("WT.ti","Demo: "+title+" - "+uriString,"WT.clip_n",uriString,"WT.es",wtEs,"WT.dl","7","DCS.dcsuri",uriString,"WT.z_VideoID",uriString)}else{if(resourceType=="demo-video"){var wtVideoId="";if(typeof fancyVid!="undefined"&&typeof fancyVid[0]!="undefined"){wtVideoId=getWebtrendsMp4String(fancyVid[0].sources[0].file)}dcsMultiTrack("WT.ti","Demo: "+title+" - "+wtVideoId,"WT.clip_n",wtVideoId,"WT.es",wtEs,"WT.dl","7","DCS.dcsuri",encodeURIComponent(fancyVid[0].sources[0].file),"WT.z_VideoID",wtVideoId)}else{if(resourceType=="video"){var wtVideoId="";if(typeof fancyVid!="undefined"&&typeof fancyVid[0]!="undefined"){wtVideoId=getWebtrendsMp4String(fancyVid[0].sources[0].file)}else{if(typeof videoLibrary!="undefined"){if(typeof videoLibrary.currentVideo.file!="undefinied"){wtVideoId=getWebtrendsMp4String(videoLibrary.currentVideo.file)}else{wtVideoId=getWebtrendsMp4String(videoLibrary.currentVideo.sources[0])}}}dcsMultiTrack("WT.ti","Video: "+title+" - "+wtVideoId,"WT.clip_n",wtVideoId,"WT.es",wtEs,"WT.dl","7","DCS.dcsuri",encodeURIComponent(fancyVid[0].sources[0].file),"WT.z_VideoID",wtVideoId)}else{}}}}}}function loadPlaylist(){try{jwplayer("fancyPlayer").load(fancyVid)}catch(e){alert(e)}}function checkAsset(assetLinkElement,callback){if(!$(assetLinkElement).hasClass("is_protected")&&!$(assetLinkElement).hasClass("not_protected")){var assetUrl=assetLinkElement.href;if(assetUrl.indexOf("http")<0){assetUrl=window.location.protocol+"//"+window.location.host+assetUrl}$.ajax({url:"/ajaxwrapper",type:"GET",data:"casset="+assetUrl,dataType:"json",timeout:60000,success:function(data,textStatus,xhr){callback("success",data.is_protected,assetLinkElement)},error:function(xhr,textstatus,errorThing){callback("error",textstatus,assetLinkElement)}})}else{var isProtected="No";if($(assetLinkElement).hasClass("is_protected")){isProtected="Yes"}setupFancyPDF("success",isProtected,assetLinkElement)}}function setupFancyPDF(status,dataStr,pdfLinkElement){var progressiveUrl=$(pdfLinkElement).attr("data-progressive-form-url");if(progressiveUrl===undefined||progressiveUrl===null||progressiveUrl===""){var pdfUrl=pdfLinkElement.href;if(status==="success"&&dataStr==="Yes"){showResourceorForm(pdfLinkElement)}else{pdfFancybox(screen.width*0.9,screen.height*0.9,pdfUrl)}}}function setupFancyDemo(status,dataStr,demoLinkElement){var demoUrl=demoLinkElement.href;if(status=="success"&&dataStr=="Yes"){showResourceorForm(demoLinkElement)}else{if(demoUrl.indexOf("?")<0){demoUrl+="?ok=yes"}else{if(demoUrl.indexOf("ok=yes")<0){demoUrl+="&ok=yes"}}$.fancybox({width:screen.width*0.9,height:screen.height*0.9,type:"iframe",href:demoUrl})}}function onFormSuccess(){if(inforDataApi.pendingType=="video"){$.fancybox.close();$(window).scrollTop();jwplayer("playerSmall").playlistItem(inforDataApi.pendingVideoIndex)}else{if(inforDataApi.pendingType=="resourcedemo-video"){setupFancyPlayer(inforDataApi.pendingResourceElement,inforDataApi.pendingWidth,inforDataApi.pendingHeight)}else{if(inforDataApi.pendingType=="resourcepdf"){pdfFancybox(inforDataApi.pendingWidth,inforDataApi.pendingHeight,inforDataApi.pendingSecureResourceLink)}else{$.fancybox({width:inforDataApi.pendingWidth,height:inforDataApi.pendingHeight,type:"iframe",href:inforDataApi.pendingSecureResourceLink});globalNotifyWebTrends(inforDataApi.pendingDocumentCode,inforDataApi.pendingDcsUri,inforDataApi.pendingType,inforDataApi.resourceTitle)}}}inforDataApi.pendingVideoIndex=-2;inforDataApi.pendingType="";inforDataApi.pendingSecureResourceLink="";inforDataApi.pendingWidth=0;inforDataApi.pendingHeight=0;inforDataApi.pendingDocumentCode="";inforDataApi.resourceTitle="";inforDataApi.pendingDcsUri="";inforDataApi.pendingResourceElement=null}function pdfFancybox(boxWidth,boxHeight,pdfUrl){if(typeof document.all!="undefined"){$.fancybox.open({href:"http://www.infor.com/pdfPreloader.html"},{type:"iframe",width:boxWidth,height:boxHeight,afterShow:function(){swapIframeSource(pdfUrl)}})}else{$.fancybox({width:boxWidth,height:boxHeight,type:"iframe",href:pdfUrl})}}function setPlayerSize(width,height){try{$("#fancyContainer").css({height:height,width:width});$("#fancyPlayer").css({height:height,width:width})}catch(e){alert(e)}}function setupPlayer(v_width,v_height,tmpPlaylist){try{jwplayer("fancyPlayer").setup({height:v_height,width:v_width,playlist:tmpPlaylist,skin:"/furniture/design2012/javascript/jwplayer/skins/bekle.xml",primary:"flash",modes:[{type:"flash",src:"/furniture/design2012/javascript/jwplayer/player.swf"}]})}catch(e){alert(e)}}function showResourceorForm(resourceElement){assetTitle=$(resourceElement).attr("title");var wt_uri=$(resourceElement).attr("href");var resourceLink=$(resourceElement).attr("href");var resourceType=$(resourceElement).attr("data-type");if(typeof resourceType=="undefined"){if(resourceLink.indexOf("pdf")>-1){resourceType="pdf"}if(resourceLink.indexOf("_dmo")>-1){resourceType="demo-link"}if(resourceLink.indexOf("solutiondemos")>-1){resourceType="demo-link"}}if(resourceType=="pdf"){if(resourceLink.indexOf("solutiondemos")>-1){resourceType="demo-link"}}var documentCode=$(resourceElement).attr("data-assetid");var resourceTitle=$(resourceElement).attr("title");var fboxWidth=screen.width*0.9;var fboxHeight=screen.height*0.9;if(resourceType=="demo"){fboxWidth=$(resourceElement).attr("data-width");fboxHeight=$(resourceElement).attr("data-height");wt_uri=$(resourceElement).attr("data-swfurl")}if(resourceType=="demo-video"){fboxWidth=$(resourceElement).attr("data-width");fboxHeight=$(resourceElement).attr("data-height");wt_uri=$(resourceElement).attr("data-swfurl")}if(resourceType=="pdf"||resourceType=="demo-link"){if(resourceLink.indexOf("ok=yes")<0){if(resourceLink.indexOf("?")<0){resourceLink+="?ok=yes"}else{resourceLink+="&ok=yes"}}}var checkBlockPlay=true;var booleanBlockPlay=true;if(!$(resourceElement).hasClass("is_protected")){checkBlockPlay=false;booleanBlockPlay=false}if(checkBlockPlay){booleanBlockPlay=blockPlay()}if(!booleanBlockPlay||hasGuidAccess()){if(hasGuidAccess()){if(resourceLink.indexOf("?")>-1){resourceLink+="&guid="+getSessionVar("guidAccess")}else{resourceLink+="?guid="+getSessionVar("guidAccess")}}if(resourceType=="demo-video"){setupFancyPlayer(resourceElement,fboxWidth,fboxHeight)}else{if(resourceType=="pdf"){pdfFancybox(screen.width*0.9,screen.height*0.9,resourceLink)}else{$.fancybox({width:fboxWidth,height:fboxHeight,type:"iframe",href:resourceLink});globalNotifyWebTrends(documentCode,wt_uri,resourceType,resourceTitle)}}}else{inforDataApi.pendingSecureResourceLink=resourceLink;inforDataApi.pendingType="resource"+resourceType;inforDataApi.pendingWidth=fboxWidth;inforDataApi.pendingHeight=fboxHeight;inforDataApi.pendingDocumentCode=documentCode;inforDataApi.pendingResourceTitle=resourceTitle;inforDataApi.pendingDcsUri=wt_uri;inforDataApi.pendingResourceElement=resourceElement;$("#showRegistrationDialog").trigger("click")}}function hasGuidAccess(){var hasGuidAccess=false;if(getSessionVar("guidAccess")!=null){hasGuidAccess=true}return hasGuidAccess}function startPlayer(){try{if(!navigator.userAgent.match(/(iPad|iPhone|iPod)/i)){jwplayer("fancyPlayer").play()}}catch(e){alert(e)}}function stopPlayer(){try{jwplayer("fancyPlayer").stop()}catch(e){alert(e)}}function swapIframeSource(pdfUrl){$("iframe[class='fancybox-iframe']").attr("src",pdfUrl)}function removeQuotes(dimension){try{dimension=dimension.replace('"',"");dimension=dimension.replace("&034;","");if(dimension.indexOf('"')>-1){dimension=dimension.replace('"',"")}if(dimension.indexOf("&034;")>-1){dimension=dimension.replace("&034;","")}}catch(exception){dimension=dimension}return dimension}function setupFancyPlayer(linkElement,boxWidth,boxHeight){boxWidth=removeQuotes(boxWidth);boxHeight=removeQuotes(boxHeight);var vidUrl=$(linkElement).attr("href");var msUrl=$(linkElement).attr("msUrl");var resourceType=$(linkElement).attr("data-type");var linkTxt=$.trim($(linkElement).text());var wtEs=getWebtrendsWtEsString();var fileUrl=vidUrl.substring(vidUrl.indexOf("2361")+5);var ipadVidUrl="http://media.uvault.com/play/2361/mp4:"+fileUrl+"/playlist.m3u8";var streamUrl="rtmp://media.uvault.com/play/2361/mp4:"+fileUrl;wtVideoID="mp4:"+fileUrl;fancyVid=[{sources:[{file:vidUrl,type:"mp4"},{file:streamUrl,type:"rtmp"},{file:ipadVidUrl,type:"hls"}]}];$("#fancyPlayer").html("");$.fancybox.open($("#fancyContainer"),{width:boxWidth,height:boxHeight,scrolling:"no",closeBtn:true,padding:10,beforeLoad:function(){setPlayerSize(boxWidth,boxHeight)},beforeShow:function(){setupPlayer(boxWidth,boxHeight,fancyVid)},afterShow:function(){startPlayer();var wtVideoId=getWebtrendsMp4String(fancyVid[0].sources[0].file);if(typeof resourceType=="undefined"){dcsMultiTrack("WT.ti","Video: "+linkTxt+" - "+wtVideoId,"WT.clip_n",wtVideoId,"WT.es",wtEs,"WT.dl","7","DCS.dcsuri",encodeURIComponent(wtVideoId),"WT.z_VideoID",wtVideoId)}else{if(resourceType=="demo-video"){globalNotifyWebTrends(inforDataApi.pendingDocumentCode,inforDataApi.pendingDcsUri,resourceType,inforDataApi.resourceTitle)}}if(typeof msUrl!="undefined"){if(msUrl.indexOf("?")>-1){if(msUrl.indexOf("ok=yes")<0){msUrl+="&ok=yes&ajax=true"}else{msUrl+="&ajax=true"}}else{msUrl+="?ok=yes&ajax=true"}$.get(msUrl)}},beforeClose:function(){stopPlayer()},afterClose:function(){processFancyBoxVideoAfterClose()}})}function processFancyBoxVideoAfterClose(){try{if(typeof(fancyBoxVideoAfterCloseCallbackList)!="undefined"){for(i=0;i<fancyBoxVideoAfterCloseCallbackList.length;i++){fancyBoxVideoAfterCloseCallbackList[i]()}}}catch(exception){}}function addFancyBoxVideoAfterCloseCallback(myFunction){try{if(typeof(fancyBoxVideoAfterCloseCallbackList)=="undefined"){fancyBoxVideoAfterCloseCallbackList=new Array()}if(typeof(fancyBoxVideoAfterCloseCallbackList!="undefined")){fancyBoxVideoAfterCloseCallbackList[fancyBoxVideoAfterCloseCallbackList.length]=myFunction}}catch(exception){}}function registerEmail(registrationSectionId){var email=$("#"+registrationSectionId+"-emailRegistrationField").val();var event=$("#"+registrationSectionId+"-emailRegistrationEvent").text();if(email!=null&&$.trim(email)!=""){var result="";$.ajax({url:"/ajaxwrapper",type:"GET",data:"method=emailRegistration&email="+email+"&event="+event,dataType:"json",timeout:120000,success:function(data,textStatus,xhr){var result="";if(data!=null&&data!=undefined){try{result=data.registration_status}catch(error){result="Error occurred registering "+email+": "+error}if(result==""){result="No result from email registration system"}}$("#"+registrationSectionId+"-emailRegistrationResult").text(result)},error:function(xhr,msg){$("#"+registrationSectionId+"-emailRegistrationResult").text(msg)}})}}$(function(){if(document.readyState!=null&&document.readyState!="complete"){setTimeout(arguments.callee,100);return}common.fixCrossBrowser();common.configureCycles();common.configureResponsiveImages();common.configureStickyFooter();$(window).resize(function(){common.configureResponsiveImages();common.configureStickyFooter()});common.configureBannerPagerWidth();common.configureTabsScrolling();common.configureSubTabsScrolling();common.configureFixedPanel();common.configureBreadcrumbLinks();setTimeout(common.configureMenus,200);var countryHovered=false;common.configureCountryDropDownEvents();common.configureTextboxEnterEvent();if(common.isiOS()){if($(".fixedPanel").length>0){document.addEventListener("touchmove",common.pageScrolling,false);document.addEventListener("touchend",common.pageScrolling,false);document.addEventListener("touchstart",common.pageScrolling,false)}common.configureHeaderElementEvents()}common.hideCountryLinkIfEmpty();if($(window).width()>610){common.setFirstFieldFocus()}common.hoverImage()});var common=new function(){this.fixCrossBrowser=function(){if($.browser.msie&&($.browser.version=="7.0"||$.browser.version=="6.0")){var zIndexCnt=1000;$(".logoPrimeNavHolder div").each(function(){$(this).css("zIndex",zIndexCnt);zIndexCnt-=1})}if(navigator.appVersion.indexOf("MSIE")!=-1){$(".dd-container, .dd-container *").on("selectstart",false)}};this.hoverImage=function(){$(document).ready(function(){$(".clickableImage").mouseover(function(){$(".hoverImage").attr("style","display:block");$(".clickableImage").attr("style","display:none")});$(".hoverImage").mouseout(function(){$(".hoverImage").attr("style","display:none");$(".clickableImage").attr("style","display:block")})})};this.configureMenus=function(){$(".mainMenu>li").hover(function(){$(".countryDropDown").hide();$(".subMenu").hide();$("a").removeClass("selected");var subMenuWidth=$(".subMenu",this).width();var rightEdge=$(this).offset().left+subMenuWidth;if(rightEdge>($(window).width()+20)){var leftAdjust=subMenuWidth-$(this).width();leftAdjust-=2;if(($(this).offset().left-leftAdjust)<0){$(".subMenu",this).css("left","0px")}else{$(".subMenu",this).css("left",(leftAdjust*-1)+"px")}}else{$(".subMenu",this).css("left","0px")}$(".subMenu",this).show();$(">a",this).addClass("selected")},function(){$(".subMenu",this).hide();$(">a",this).removeClass("selected")});$(".menuProminentBox").each(function(){var width=$(".imgMedia",this).getHiddenDimensions(true).width;if(width){$(".productText",this).css("margin-left",String(width+20)+"px")}});$(".subMenu").each(function(){var mainContent=$(".content",this);var contentWidth=50;$("ul",this).each(function(){var ulSize=$(this).getHiddenDimensions(true);contentWidth=40+contentWidth+ulSize.width});var finalWidth=Math.max(contentWidth,360);mainContent.width(finalWidth);var contentSize=mainContent.getHiddenDimensions(true);$(".rightShadow",this).height(contentSize.height);$(".bottomShadow",this).width(contentSize.width);if(contentSize.width>0){$(this).width(contentSize.width+6);$(this).height(contentSize.height+7)}})};this.configureCycles=function(){if($("#bannerSlide > div").size()>1){var cnt=String($("#bannerSlide > div").size());$("#bannerAnchorContainer").addClass("bannerAnchorContainerBg"+String(cnt));var defaultBannerDuration=6000;var bannerDuration=0;if(typeof(customBannerDuration)!="undefined"){if(isNaN(customBannerDuration)){bannerDuration=defaultBannerDuration}else{bannerDuration=customBannerDuration*1000}}else{bannerDuration=defaultBannerDuration}if(bannerDuration==0){bannerDuration=defaultBannerDuration}$("#bannerSlide").cycle({timeout:bannerDuration,fit:true,before:common.configureResponsiveImages,pager:"#bannerSlideAnchorBox",pagerAnchorBuilder:function(idx,slide){return'<div class="slideAnchor"></div>'}})}else{$("#bannerSlide > div").show();$("#bannerAnchorContainer").hide();$(".bannerSlideAnchorBoxOut").hide()}};this.configureResponsiveImages=function(){var imageSize="";var setBannerWidthOneHundredPct=false;if(typeof(onehundredPctBannerWidth)!="undefined"){if(onehundredPctBannerWidth=="1"){setBannerWidthOneHundredPct=true}}if(setBannerWidthOneHundredPct){$("#bannerSlide .bannerImg>img").width("100%");$("#bannerSlide > div").css("maxWidth","100%");$("#bannerSlide > div").css("minWidth","100%");$("#bannerSlide > div").width("100%")}else{$("#bannerSlide .bannerImg>img").width($(window).width());imageSize=$("#bannerSlide .bannerImg>img:visible").getHiddenDimensions(true);$("#bannerSlide > div").css("maxWidth",imageSize.width+"px");$("#bannerSlide > div").css("minWidth",imageSize.width+"px")}var maxImgDivHeight=0;if(!setBannerWidthOneHundredPct){$("#bannerSlide > div").each(function(){maxImgDivHeight=$(this).getHiddenDimensions(true).outerHeight>maxImgDivHeight?$(this).getHiddenDimensions(true).outerHeight:maxImgDivHeight})}if(typeof(fixedMaxImgDivHeight)!="undefined"){if(fixedMaxImgDivHeight!=undefined&&fixedMaxImgDivHeight!=null&&fixedMaxImgDivHeight!=""&&fixedMaxImgDivHeight!=0){maxImgDivHeight=fixedMaxImgDivHeight}}var templateSetHeight="no";if(typeof(fixedTemplateSetHeight)!="undefined"){if(fixedTemplateSetHeight!=undefined&&fixedTemplateSetHeight!=null){templateSetHeight=fixedTemplateSetHeight}}if(getIEVersion()>10&&maxImgDivHeight>400&&maxImgDivHeight!=545&&templateSetHeight!="yes"){maxImgDivHeight=(maxImgDivHeight/2)}if(getIEVersion()>10&&maxImgDivHeight<250){maxImgDivHeight=(maxImgDivHeight*2)}$("#bannerSlide").height(maxImgDivHeight);common.positionBannerTextHolder()};this.positionBannerTextHolder=function(){if(typeof(positionBannerTextHolderFlag)!="undefined"){if(positionBannerTextHolderFlag=="1"){var logoPositionLeft=$("#logo").position().left;$("div.bannerTextHolder").each(function(){$(this).css("margin-left",logoPositionLeft+"px");var bannerHeight=$("#banner").height();var bannerTextHolderHeight=$(this).find("div.accessory").height();var h1Height=$(this).find("h1").height();if(h1Height==0){h1Height=55}if(bannerHeight>0&&bannerTextHolderHeight>0&&h1Height>0){var center=(bannerHeight/2)-(bannerTextHolderHeight/2)-(h1Height*2);$(this).css("margin-top",center)}})}}};this.configureBannerPagerWidth=function(){var totalWidth=0;$("#bannerSlideAnchorBox > div").each(function(){var size=$(this).getHiddenDimensions(true);totalWidth+=size.outerWidth+2});$("#bannerSlideAnchorBox").width(totalWidth)};this.configureTabsScrolling=function(){var tabButton=$(".tabButton");var tabPanel=$(".tabPanel");var blockAnimation=false;$(".tabButton").click(function(){if(blockAnimation!=true){blockAnimation=true;var index=$(this).attr("index");if(index==null||index==undefined){index=$(this).parent("li").index()}var myTabPanel=$(".tabPanel").eq(index);if(myTabPanel!=null&&myTabPanel!=undefined){var top=$(myTabPanel).position().top;if(top==0){top=$(myTabPanel).offset().top}var scrollHeight=top-$(".fixedPanel").height();$("html, body").animate({scrollTop:scrollHeight},"slow",function(){if(common.isiOS()){common.iosScrollFix()}blockAnimation=false});if($(".tabButton").hasClass("selTab")){$(".tabButton").removeClass("selTab");$(this).addClass("selTab")}else{$(".tabButton").removeClass("sel");$(this).addClass("sel")}}var mySubPanel=$(".subPanel").eq(index);if(mySubPanel!=null&&mySubPanel!=undefined){$(".subPanel").removeClass("selTab");$(".subPanel").attr("style","display:none");$(".subPanel").eq(index).addClass("selTab");$(".subPanel").eq(index).attr("style","display:block");$(".subPanel li a .blueBorder").attr("style","display:none")}}})};this.configureSubTabsScrolling=function(){var blockAnimation=false;$(".subPanel ul li a").click(function(){var clickIndex=$(".subPanel ul li a").index(this);var resource_idx=$(this).attr("resourceIndex");var scrollHeight="";$(".subPanel li a .blueBorder").attr("style","display:none");$(".subPanel li a .blueBorder").eq(clickIndex).attr("style","display:block");try{if(resource_idx==undefined){scrollHeight=$(".subPanelOption").eq(clickIndex).offset().top-$(".subPanel").height()-80}else{scrollHeight=$(".subPanelOptionR").eq(resource_idx).offset().top-$(".subPanel").height()-60}$("html, body").animate({scrollTop:scrollHeight},"slow",function(){if(common.isiOS()){common.iosScrollFix()}blockAnimation=false})}catch(e){blockAnimation=false}})};this.configureFixedPanel=function(){if($(".fixedPanel").length>0){$(window).scroll(function(){common.pageScrolling()})}};this.configureBreadcrumbLinks=function(){$(".breadCrumb .current").click(function(e){$("html, body").animate({scrollTop:0},"slow",function(){})})};this.pageScrolling=function(){try{var windowScrolled=$(window).scrollTop();var scrollOffset=$(".fixedPanel").parent().offset().top;if(windowScrolled>=scrollOffset){if(!$(".fixedPanel").hasClass("fixed")){$(".fixedPanel").addClass("fixed")}}else{if($(".fixedPanel").hasClass("fixed")){$(".fixedPanel").removeClass("fixed")}}}catch(e){}};this.configureStickyFooter=function(){var footer=$("#footerWrapper");if(footer!=null&&footer!=undefined){if(footer.css("padding-top")!=undefined){if((($(document.body).height()+footer.height()+parseInt(footer.css("padding-top").replace("px","")))<$(window).height()&&footer.css("position")=="fixed")||($(document.body).height()<$(window).height()&&footer.css("position")!="fixed")){footer.css({position:"fixed",bottom:"0px"})}else{if(typeof(footerWrapperInline)!="undefined"){if(footerWrapperInline=="no"){footer.css({position:"static"})}}else{footer.css({position:"static"})}}}else{if((($(document.body).height()+footer.height()<$(window).height())&&footer.css("position")=="fixed")||($(document.body).height()<$(window).height()&&footer.css("position")!="fixed")){footer.css("position","fixed");footer.css("bottom","0px")}else{footer.css({position:"static"})}}}};this.setFirstFieldFocus=function(){$("#customForm:not(.filter) :input:visible:enabled:first").focus()};this.isiOS=function(){var returnValue=false;if(navigator&&navigator.userAgent&&navigator.userAgent!=null){var strUserAgent=navigator.userAgent.toLowerCase();var arrMatches=strUserAgent.match(/(iphone|ipod|ipad)/);if(arrMatches){returnValue=true}}return returnValue};this.iosScrollFix=function(){$("body").append($('<div class="iosfix" style="height:101%; overflow:hidden;">&nbsp;</div>'));setTimeout(function(){$(".iosfix").remove()},100)};this.configureHeaderElementEvents=function(){var elems=$("#banner, .contentWrapper, .contentWrapperSimple, .punchline, .punchlineStyle2");$(elems).css({"-webkit-tap-highlight-color":"transparent"});$(".mainMenu>li>a").css({"-webkit-tap-highlight-color":"transparent"});$(elems).hover(function(e){$(".dd-options").hide();$(".countryDropDown").hide();$(".subMenu").hide();$(".mainMenu>li>a").removeClass("selected")})};this.configureCountryDropDownEvents=function(){$("#countryLink").click(function(){if($.browser.msie){$(".countryDropDown").show()}else{$(".countryDropDown").fadeIn(100)}});$(".countryLink").hover(function(){},function(){$(".countryDropDown").delay(1000)});$(".countryDropDown").hover(function(){countryHovered=true},function(){countryHovered=false;if($.browser.msie){$(".countryDropDown").hide()}else{$(".countryDropDown").fadeOut(100)}});$(".countryDropDown a").click(function(){if($.browser.msie){$(".countryDropDown").hide()}else{$(".countryDropDown").fadeOut(100)}})};this.configureTextboxEnterEvent=function(){$("input").filter('[type = "text"]').each(function(){if($(this).attr("defaultButton")!=null&&$(this).attr("defaultButton")!="undefined"){$(this).keyup(function(event){if(event.keyCode==13){$("#"+$(this).attr("defaultButton")).click()}})}})};this.hideCountryLinkIfEmpty=function(){count=$("#states").find("tr").length;if(count==0){}else{}$("#countryLink").show()}};$.fn.cycle.updateActivePagerLink=function(pager,currSlideIndex){if(pager=="#bannerSlideAnchorBox"){$(pager).find("div.selectedSlideAnchor").removeClass("selectedSlideAnchor").addClass("slideAnchor");$(pager).find("div").filter("div:eq("+currSlideIndex+")").removeClass("slideAnchor").addClass("selectedSlideAnchor")}};$.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.height()};pager=function(){this.totalRecordCount=1000;this.currentPageIndex=1;this.pageSize=20;this.maxPagerLength=100;this.middlePagerIndex=6;this.pagerStartIndex=1;this.addPager=function(){this.middlePagerIndex=Math.ceil((this.maxPagerLength+1)/2);var pagerEndIndex,tempPagerLength,pagerLength;tempPagerLength=Math.ceil(this.totalRecordCount/this.pageSize);pagerLength=(tempPagerLength>this.maxPagerLength)?this.maxPagerLength:tempPagerLength;if(tempPagerLength>this.maxPagerLength){if(this.currentPageIndex>this.middlePagerIndex){this.pagerStartIndex=this.currentPageIndex-this.middlePagerIndex+1}}pagerEndIndex=((this.pagerStartIndex+pagerLength-1)>tempPagerLength)?tempPagerLength:(this.pagerStartIndex+pagerLength-1);this.pagerStartIndex=((pagerEndIndex-this.maxPagerLength+1)<1)?1:(pagerEndIndex-this.maxPagerLength+1);if(pagerLength<=1){$(".pagination").hide()}else{var items=[];var prevPagerClass=(this.currentPageIndex==this.pagerStartIndex)?"previous":"previous previousEnabled";var nextPagerClass=(this.currentPageIndex==pagerEndIndex)?"next":"next nextEnabled";items.push('<li><a href="javascript:void(0)" class="'+prevPagerClass+'"></a></li>');for(var i=this.pagerStartIndex;i<=pagerEndIndex;i++){items.push('<li><a href="javascript:void(0)">'+i+"</a></li>")}items.push('<li><a href="javascript:void(0)" class="'+nextPagerClass+'"></a></li>');$(".pagination").append(items.join(""));$(".pagination > li").eq(this.currentPageIndex-this.pagerStartIndex+1).children("a").addClass("selected");$(".pagination").show()}};this.addPagerForVideoLibrary=function(element){var pagerSize=parseInt(this.totalRecordCount/this.pageSize);var pageCount=parseInt(this.pageSize);if(parseInt(this.totalRecordCount%this.pageSize)>0){pagerSize++}var divContent=element.find('[class="videoPager"]');divContent.empty();var scrollType=divContent.attr("scrollType");if(pagerSize>1&&divContent.length>0){$("<div />").addClass("previous").click(function(){var prev_idx=parseInt($(this).parent().find(".selected").index())-2;if(prev_idx>-1){$(this).parent().find(".selected").removeClass("selected");$(this).parent().find(".slideAnchor").eq(prev_idx).addClass("selected");if(scrollType=="VER"){var scrollHeight=prev_idx*($(this).parent().parent().find(".videoMetaData").eq(0).getHiddenDimensions(true).outerHeight)*pageCount;$(this).parent().parent().find(".videoMetaData").parent().animate({top:-(scrollHeight-20)},1000)}else{var scrollWidth=prev_idx*($(this).parent().parent().find(".videoMetaData").eq(0).getHiddenDimensions(true).outerWidth)*pageCount;$(this).parent().parent().find(".videoMetaData").parent().animate({left:-(scrollWidth)},1000)}}if(prev_idx>0){$(this).parent().find(".previous").addClass("previousEnabled")}else{$(this).parent().find(".previous").removeClass("previousEnabled")}if(prev_idx<pagerSize-1){$(this).parent().find(".next").addClass("nextEnabled")}else{$(this).parent().find(".next").removeClass("nextEnabled")}}).appendTo(divContent);for(var count=0;count<pagerSize;count++){$("<div />").addClass("slideAnchor").attr({indexValue:count}).append(count+1).click(function(){$(this).parent().find(".selected").removeClass("selected");$(this).addClass("selected");var idx=parseInt($(this).index())-1;if(scrollType=="VER"){var scrollHeight=idx*($(this).parent().parent().find(".videoMetaData").eq(0).getHiddenDimensions(true).outerHeight)*pageCount;$(this).parent().parent().find(".videoMetaData").parent().animate({top:-(scrollHeight-20)},1000)}else{var scrollWidth=idx*($(this).parent().parent().find(".videoMetaData").eq(0).getHiddenDimensions(true).outerWidth)*pageCount;$(this).parent().parent().find(".videoMetaData").parent().animate({left:-(scrollWidth)},1000)}if(idx>0){$(this).parent().find(".previous").addClass("previousEnabled")}else{$(this).parent().find(".previous").removeClass("previousEnabled")}if(idx<pagerSize-1){$(this).parent().find(".next").addClass("nextEnabled")}else{$(this).parent().find(".next").removeClass("nextEnabled")}}).appendTo(divContent)}$("<div />").addClass("next nextEnabled").click(function(){var next_idx=parseInt($(this).parent().find(".selected").index());if(next_idx>0&&next_idx<pagerSize){$(this).parent().find(".selected").removeClass("selected");$(this).parent().find(".slideAnchor").eq(next_idx).addClass("selected");if(scrollType=="VER"){var scrollHeight=next_idx*($(this).parent().parent().find(".videoMetaData").eq(0).getHiddenDimensions(true).outerHeight)*pageCount;$(this).parent().parent().find(".videoMetaData").parent().animate({top:-(scrollHeight-20)},1000)}else{var scrollWidth=next_idx*($(this).parent().parent().find(".videoMetaData").eq(0).getHiddenDimensions(true).outerWidth)*pageCount;$(this).parent().parent().find(".videoMetaData").parent().animate({left:-(scrollWidth)},1000)}}if(next_idx<pagerSize-1){$(this).parent().find(".next").addClass("nextEnabled")}else{$(this).parent().find(".next").removeClass("nextEnabled")}if(next_idx>0){$(this).parent().find(".previous").addClass("previousEnabled")}else{$(this).parent().find(".previous").removeClass("previousEnabled")}}).appendTo(divContent);divContent.find(".slideAnchor").eq(this.currentPageIndex).addClass("selected")}if(this.currentPageIndex>0){if(this.currentPageIndex>=(divContent.find(".slideAnchor").length-1)){var scrollIndex=divContent.find(".slideAnchor").length==0?0:divContent.find(".slideAnchor").length-1;if(scrollType=="VER"){var scrollHeight=parseInt(scrollIndex)*($("#playListWrapper").find(".videoMetaData").eq(0).getHiddenDimensions(true).outerHeight)*pageCount;$("#playListWrapper").animate({top:-(scrollHeight)},1000)}else{var scrollWidth=parseInt(scrollIndex)*($("#playListWrapper").find(".videoMetaData").eq(0).getHiddenDimensions(true).outerWidth)*pageCount;$("#playListWrapper").animate({left:-(scrollWidth)},1000)}divContent.find(".slideAnchor").eq(scrollIndex).addClass("selected")}}};this.getPageIndexOnClick=function(clicked){var pageIndex=0;if(clicked.hasClass("previous")){if(clicked.hasClass("previousEnabled")){pageIndex=parseInt($(".pagination li a.selected").html())-1}}else{if(clicked.hasClass("next")){if(clicked.hasClass("nextEnabled")){pageIndex=parseInt($(".pagination li a.selected").html())+1}}else{pageIndex=parseInt(clicked.html())}}return pageIndex}};(function($){$.fn.wrapChildren=function(options){var options=$.extend({childElem:undefined,sets:1,wrapper:"div",className:null},options||{});if(options.childElem===undefined){return this}if($("."+options.className,this).length){$("."+options.className,this).contents().unwrap();$("."+options.className,this).remove()}return this.each(function(){var elems=$(this).children(options.childElem);var arr=[];elems.each(function(i,value){arr.push(value);if(((i+1)%options.sets===0)||(i===elems.length-1)){var set=$(arr);arr=[];set.wrapAll($("<"+options.wrapper+">").addClass(options.className))}})})}})(jQuery);(function($,window,document){$.fn.ddslick=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof method==="object"||!method){return methods.init.apply(this,arguments)}else{$.error("Method "+method+" does not exists.")}}};var methods={},defaults={data:[],keepJSONItemsOnTop:false,width:"99.5%",height:null,background:"",selectText:"",defaultSelectedIndex:null,truncateDescription:true,imagePosition:"left",showSelectedHTML:true,clickOffToClose:true,onSelected:function(){},multiSelectEnabled:false,isTouchScreenDevice:false},ddSelectHtml='<div class="dd-select"><input class="dd-selected-value" type="hidden" /><a class="dd-selected"></a><span class="dd-pointer dd-pointer-down"></span></div>',ddOptionsHtml='<ul class="dd-options"></ul>',ddslickCSS='<style id="css-ddslick" type="text/css">.dd-select{ border-radius:2px; border:solid 0 #ccc; position:relative; cursor:pointer;}.dd-desc { color:#aaa; display:block; overflow: hidden; font-weight:normal; line-height: 1.4em; }.dd-selected{ overflow:hidden; display:block; padding:8px 7px 3px 7px;}.dd-pointer{ width:0; height:0; position:absolute; right:10px; top:50%; margin-top:-3px;}.dd-pointer-down{ border:solid 5px transparent; border-top:solid 5px #000; }.dd-pointer-up{border:solid 5px transparent !important; border-bottom:solid 5px #000 !important; margin-top:-8px;}.dd-options{left:0; border:solid 1px #ccc; border-top:none; list-style:none; box-shadow:0px 1px 5px #ddd; display:none; position:absolute; z-index:2000; margin:0; padding:0;background:#fff; overflow:auto;}.dd-option{ padding:7px; display:block; border-bottom:solid 1px #ddd; overflow:hidden; text-decoration:none; color:#333; cursor:pointer;-webkit-transition: all 0.25s ease-in-out; -moz-transition: all 0.25s ease-in-out;-o-transition: all 0.25s ease-in-out;-ms-transition: all 0.25s ease-in-out; }.dd-options > li:last-child > .dd-option{ border-bottom:none;}.dd-option:hover{ background:#f0f0f0; color:#000;}.dd-selected-description-truncated { text-overflow: ellipsis; white-space:nowrap; }.dd-option-selected { background:#f0f0f0; }.dd-option-image, .dd-selected-image { vertical-align:middle; float:left; margin-right:5px; max-width:64px;}.dd-image-right { float:right; margin-right:15px; margin-left:5px;}.dd-container{ position:relative;} .dd-selected-text { font-weight:bold}</style>';if($("#css-ddslick").length<=0){$(ddslickCSS).appendTo("head")}methods.init=function(options){var options=$.extend({},defaults,options);return this.each(function(){var obj=$(this),data=obj.data("ddslick");if(!data){var ddSelect=[],ddJson=options.data;obj.find("option").each(function(){var $this=$(this),thisData=$this.data();ddSelect.push({text:$.trim($this.text()),value:$this.val(),selected:$this.is(":selected"),description:thisData.description,imageSrc:thisData.imagesrc})});if(options.keepJSONItemsOnTop){$.merge(options.data,ddSelect)}else{options.data=$.merge(ddSelect,options.data)}var original=obj,placeholder=$('<div id="'+obj.attr("id")+'" tabindex="0"></div>');obj.replaceWith(placeholder);obj=placeholder;obj.addClass("dd-container").append(ddSelectHtml).append(ddOptionsHtml);if($(original).hasClass("mandatory")){obj.addClass("mandatory")}var ddSelect=obj.find(".dd-select"),ddOptions=obj.find(".dd-options");ddOptions.css({width:options.width});ddSelect.css({width:options.width});obj.css({width:options.width});if(options.height!=null){ddOptions.css({height:options.height,overflow:"auto"})}$.each(options.data,function(index,item){if(item.selected){options.defaultSelectedIndex=index}ddOptions.append('<li><a class="dd-option">'+(item.value?' <input class="dd-option-value" type="hidden" value="'+item.value+'" />':"")+(item.imageSrc?' <img class="dd-option-image'+(options.imagePosition=="right"?" dd-image-right":"")+'" src="'+item.imageSrc+'" />':"")+(item.text?' <label class="dd-option-text">'+item.text+"</label>":"")+(item.description?' <small class="dd-option-description dd-desc">'+item.description+"</small>":"")+"</a></li>")});var pluginData={settings:options,original:original,selectedIndex:-1,selectedItem:null,selectedData:null};obj.data("ddslick",pluginData);if(options.selectText.length>0){obj.find(".dd-selected").html(options.selectText)}else{var index=(options.defaultSelectedIndex!=null&&options.defaultSelectedIndex>=0&&options.defaultSelectedIndex<options.data.length)?options.defaultSelectedIndex:0;selectIndex(obj,index)}obj.find(".dd-select").on("click.ddslick",function(){open(obj);$(".dd-container.dd-isfocused").removeClass("dd-isfocused");obj.addClass("dd-isfocused")});obj.find(".dd-option").on("click.ddslick",function(){selectIndex(obj,$(this).closest("li").index())});if(options.clickOffToClose){ddOptions.addClass("dd-click-off-close");obj.on("click.ddslick",function(e){e.stopPropagation()});$("body").on("click",function(){if(obj.data("ddslick").settings.multiSelectEnabled){$(".dd-container.dd-isfocused").removeClass("dd-isfocused")}else{var ddOptions=obj.find(".dd-click-off-close");if(ddOptions.is(":visible")){ddOptions.slideUp("fast",function(){ddOptions.siblings(".dd-select").find(".dd-pointer").removeClass("dd-pointer-up");ddOptions.removeClass("dd-open");obj.removeClass("dd-optionsOpen")})}}})}obj.bind("focus.dd-container",function(e){obj.addClass("dd-focus");obj.addClass("dd-isfocused")}).bind("blur.dd-container",function(e){obj.removeClass("dd-focus");obj.removeClass("dd-isfocused")})}})};methods.select=function(options){return this.each(function(){if(options.index){selectIndex($(this),options.index)}})};methods.open=function(){return this.each(function(){var $this=$(this),pluginData=$this.data("ddslick");if(pluginData){open($this)}})};methods.close=function(){return this.each(function(){var $this=$(this),pluginData=$this.data("ddslick");if(pluginData){close($this)}})};methods.destroy=function(){return this.each(function(){var $this=$(this),pluginData=$this.data("ddslick");if(pluginData){var originalElement=pluginData.original;$this.removeData("ddslick").unbind(".ddslick").replaceWith(originalElement)}})};function selectIndex(obj,index,shouldNotClose){var pluginData=obj.data("ddslick");var ddSelected=obj.find(".dd-selected"),ddSelectedValue=ddSelected.siblings(".dd-selected-value"),ddOptions=obj.find(".dd-options"),ddPointer=ddSelected.siblings(".dd-pointer"),selectedOption=obj.find(".dd-option").eq(index),selectedLiItem=selectedOption.closest("li"),settings=pluginData.settings,selectedData=pluginData.settings.data[index];if(obj.data("ddslick").settings.multiSelectEnabled){if(isCtrlPressed){if(selectedOption.hasClass("dd-option-selected")){selectedOption.removeClass("dd-option-selected")}else{selectedOption.addClass("dd-option-selected")}}else{if(isShiftPressed){var lastSelectedIndex=ddOptions.find(".dd-option").index(ddOptions.find(".dd-option-selected:last"));obj.find(".dd-option").each(function(thisIndex,thisItem){$(thisItem).removeClass("dd-option-selected");if(index>=lastSelectedIndex){if((thisIndex>=lastSelectedIndex)&&(thisIndex<=index)){$(thisItem).addClass("dd-option-selected")}}else{if(index<lastSelectedIndex){if(thisIndex<=lastSelectedIndex&&thisIndex>=index){$(thisItem).addClass("dd-option-selected")}}}})}else{if(obj.data("ddslick").settings.isTouchScreenDevice){if(selectedOption.hasClass("dd-option-selected")){selectedOption.removeClass("dd-option-selected")}else{selectedOption.addClass("dd-option-selected")}}else{obj.find(".dd-option").removeClass("dd-option-selected");selectedOption.addClass("dd-option-selected")}}}obj.find(".dd-option").removeClass("dd-option-focused");selectedOption.addClass("dd-option-focused")}else{obj.find(".dd-option").removeClass("dd-option-selected");selectedOption.addClass("dd-option-selected")}if(obj.data("ddslick").settings.multiSelectEnabled){var tempSelectedIndex=[],tempSelectedItem=[],tempSelectedData=[];obj.find(".dd-option").each(function(thisIndex,thisItem){if($(thisItem).hasClass("dd-option-selected")){tempSelectedIndex.push(thisIndex);tempSelectedItem.push($(thisItem).parent("li"));tempSelectedData.push(pluginData.settings.data[thisIndex])}});pluginData.selectedIndex=tempSelectedIndex;pluginData.selectedItem=tempSelectedItem;pluginData.selectedData=tempSelectedData;if(typeof settings.onSelected=="function"){settings.onSelected.call(this,pluginData)}}else{pluginData.selectedIndex=index;pluginData.selectedItem=selectedLiItem;pluginData.selectedData=selectedData;if(selectedData!=undefined){if(settings.showSelectedHTML){ddSelected.html((selectedData.imageSrc?'<img class="dd-selected-image'+(settings.imagePosition=="right"?" dd-image-right":"")+'" src="'+selectedData.imageSrc+'" />':"")+(selectedData.text?'<label title="'+selectedData.text+'" class="dd-selected-text">'+selectedData.text+"</label>":"")+(selectedData.description?'<small class="dd-selected-description dd-desc'+(settings.truncateDescription?" dd-selected-description-truncated":"")+'" >'+selectedData.description+"</small>":""))}else{ddSelected.html(selectedData.text)}ddSelectedValue.val(selectedData.value);pluginData.original.val(selectedData.value)}obj.data("ddslick",pluginData);if(!shouldNotClose){close(obj)}adjustSelectedHeight(obj);if(typeof settings.onSelected=="function"){settings.onSelected.call(this,pluginData)}}}function open(obj){var $this=obj.find(".dd-select"),ddOptions=$this.siblings(".dd-options"),ddPointer=$this.find(".dd-pointer"),wasOpen=ddOptions.is(":visible");obj.find(".dd-click-off-close").not(ddOptions).slideUp("fast");$(".dd-pointer").removeClass("dd-pointer-up");if(wasOpen){ddOptions.slideUp("fast",function(){ddOptions.siblings(".dd-select").find(".dd-pointer").removeClass("dd-pointer-up");ddOptions.removeClass("dd-open");obj.removeClass("dd-optionsOpen")})}else{ddOptions.slideDown("fast");ddPointer.addClass("dd-pointer-up");ddOptions.addClass("dd-open");obj.addClass("dd-optionsOpen")}if(obj.find(".dd-option").find(".dd-option-image").length>0){adjustOptionsHeight(obj)}_setScrollPos(obj,obj.find(".dd-option-selected").parent())}function close(obj){var $this=obj.find(".dd-select"),ddOptions=$this.siblings(".dd-options");ddOptions.slideUp("fast",function(){ddOptions.siblings(".dd-select").find(".dd-pointer").removeClass("dd-pointer-up");ddOptions.removeClass("dd-open");obj.removeClass("dd-optionsOpen")})}function adjustSelectedHeight(obj){var lSHeight=obj.find(".dd-select").css("height");var descriptionSelected=obj.find(".dd-selected-description");var imgSelected=obj.find(".dd-selected-image");if(descriptionSelected.length<=0&&imgSelected.length>0){obj.find(".dd-selected-text").css("lineHeight",lSHeight)}}function adjustOptionsHeight(obj){obj.find(".dd-option").each(function(){var $this=$(this);var lOHeight=$this.css("height");var descriptionOption=$this.find(".dd-option-description");var imgOption=obj.find(".dd-option-image");if(descriptionOption.length<=0&&imgOption.length>0){$this.find(".dd-option-text").css("lineHeight",lOHeight)}})}var keyMap={left:37,up:38,right:39,down:40,enter:13,tab:9},keysBound=false;function _handleKeyBoardNav(e,$dk){var code=e.keyCode,options=$dk,isOpen=$dk.hasClass("dd-open")||$dk.hasClass("dd-optionsOpen"),current=$dk.find(".dd-option-selected"),first=options.find("li").first(),last=options.find("li").last(),next,prev;if($dk.data("ddslick").settings.multiSelectEnabled){current=$dk.find(".dd-option-focused")}switch(code){case keyMap.enter:if(isOpen){if($dk.data("ddslick").settings.multiSelectEnabled){_updateFields(current.parents("li"),$dk,true)}else{_updateFields(current.parents("li"),$dk);close($dk)}e.preventDefault()}else{}break;case keyMap.up:if(!current.length){_setCurrent(last,$dk)}prev=current.parent().prev("li");if(isOpen){if(prev.length){if($dk.data("ddslick").settings.multiSelectEnabled&&isCtrlPressed){current.addClass("dd-option-selected");_setCurrent(prev,$dk)}else{_setCurrent(prev,$dk)}}else{}}else{}e.preventDefault();break;case keyMap.down:if(isOpen){if(!current.length){_setCurrent(first,$dk)}next=current.parent().next("li");if(next.length){if($dk.data("ddslick").settings.multiSelectEnabled&&isCtrlPressed){current.addClass("dd-option-selected");_setCurrent(next,$dk)}else{_setCurrent(next,$dk)}}else{}}else{open($dk)}e.preventDefault();break;case keyMap.tab:if(isOpen){if($dk.data("ddslick").settings.multiSelectEnabled){}else{close($dk)}}else{}break;default:break}}function _setCurrent($current,$dk){if($dk.data("ddslick").settings.multiSelectEnabled){$dk.find(".dd-option-focused").removeClass("dd-option-focused");$current.find(".dd-option").addClass("dd-option-focused");if(isCtrlPressed){var currentIndex=$dk.find(".dd-options li").index($current);selectIndex($dk,currentIndex)}}else{$dk.find(".dd-option-selected").removeClass("dd-option-selected");$current.find(".dd-option").addClass("dd-option-selected")}_setScrollPos($dk.parent(),$current)}function _updateFields($current,$dk){selectIndex($dk.parent(),$dk.children().index($current))}$(document).bind("keydown.dk_nav",function(e){var $open=$(".dd-container .dd-options:visible"),$focused=$(".dd-container.dd-focus"),$dk=null,$isfocused=$(".dd-container.dd-isfocused");if($isfocused.length){$dk=$isfocused}if($dk){_handleKeyBoardNav(e,$dk)}});function _setScrollPos($dk,anchor){var ddOptions=$dk.find(".dd-options");var height=ddOptions.scrollTop()+(anchor.position()!=null?anchor.position().top:0);ddOptions.animate({scrollTop:height+"px"},10)}})(jQuery,window,document);var checkboxHeight="20";var radioHeight="20";var selectWidth="20";var Custom={init:function(){var inputs=document.getElementsByTagName("input"),span=Array(),textnode,option,active;for(a=0;a<inputs.length;a++){if((inputs[a].type=="checkbox"||inputs[a].type=="radio")&&inputs[a].className.indexOf("styled")>-1){span[a]=document.createElement("span");span[a].className=inputs[a].type;if(inputs[a].checked==true){if(inputs[a].type=="checkbox"){position="0 -"+(checkboxHeight*2)+"px";span[a].style.backgroundPosition=position}else{position="0 -"+(radioHeight*2)+"px";span[a].style.backgroundPosition=position}}inputs[a].parentNode.insertBefore(span[a],inputs[a]);inputs[a].onchange=Custom.clear;if(!inputs[a].getAttribute("disabled")){span[a].onmousedown=Custom.pushed;span[a].onmouseup=Custom.check}else{span[a].className=span[a].className+=" disabled"}}}inputs=document.getElementsByTagName("select");for(a=0;a<inputs.length;a++){if(inputs[a].className.indexOf("styled")>-1){option=inputs[a].getElementsByTagName("option");active=option[0].childNodes[0].nodeValue;textnode=document.createTextNode(active);for(b=0;b<option.length;b++){if(option[b].selected==true){textnode=document.createTextNode(option[b].childNodes[0].nodeValue)}}span[a]=document.createElement("span");span[a].className="select";span[a].id="select"+inputs[a].name;span[a].appendChild(textnode);inputs[a].parentNode.insertBefore(span[a],inputs[a]);if(!inputs[a].getAttribute("disabled")){inputs[a].onchange=Custom.choose}else{inputs[a].previousSibling.className=inputs[a].previousSibling.className+=" disabled"}}}document.onmouseup=Custom.clear},pushed:function(){element=this.nextSibling;if(element.checked==true&&element.type=="checkbox"){this.style.backgroundPosition="0 -"+checkboxHeight*3+"px"}else{if(element.checked==true&&element.type=="radio"){this.style.backgroundPosition="0 -"+radioHeight*3+"px"}else{if(element.checked!=true&&element.type=="checkbox"){this.style.backgroundPosition="0 -"+checkboxHeight+"px"}else{this.style.backgroundPosition="0 -"+radioHeight+"px"}}}},check:function(){element=this.nextSibling;if(element.checked==true&&element.type=="checkbox"){this.style.backgroundPosition="0 0";element.checked=false}else{if(element.type=="checkbox"){this.style.backgroundPosition="0 -"+checkboxHeight*2+"px"}else{this.style.backgroundPosition="0 -"+radioHeight*2+"px";group=this.nextSibling.name;inputs=document.getElementsByTagName("input");for(a=0;a<inputs.length;a++){if(inputs[a].name==group&&inputs[a]!=this.nextSibling){inputs[a].previousSibling.style.backgroundPosition="0 0"}}}element.checked=true}},clear:function(){inputs=document.getElementsByTagName("input");for(var b=0;b<inputs.length;b++){if(inputs[b].type=="checkbox"&&inputs[b].checked==true&&inputs[b].className.indexOf("styled")>-1){inputs[b].previousSibling.style.backgroundPosition="0 -"+checkboxHeight*2+"px"}else{if(inputs[b].type=="checkbox"&&inputs[b].className.indexOf("styled")>-1){inputs[b].previousSibling.style.backgroundPosition="0 0"}else{if(inputs[b].type=="radio"&&inputs[b].checked==true&&inputs[b].className.indexOf("styled")>-1){inputs[b].previousSibling.style.backgroundPosition="0 -"+radioHeight*2+"px"}else{if(inputs[b].type=="radio"&&inputs[b].className.indexOf("styled")>-1){inputs[b].previousSibling.style.backgroundPosition="0 0"}}}}}},choose:function(){option=this.getElementsByTagName("option");for(d=0;d<option.length;d++){if(option[d].selected==true){document.getElementById("select"+this.name).childNodes[0].nodeValue=option[d].childNodes[0].nodeValue}}}};window.onload=Custom.init;(function($){$.fn.mask=function(label,delay){$(this).each(function(){if(delay!==undefined&&delay>0){var element=$(this);element.data("_mask_timeout",setTimeout(function(){$.maskElement(element,label)},delay))}else{$.maskElement($(this),label)}})};$.fn.unmask=function(){$(this).each(function(){$.unmaskElement($(this))})};$.fn.isMasked=function(){return this.hasClass("masked")};$.maskElement=function(element,label){if(element.data("_mask_timeout")!==undefined){clearTimeout(element.data("_mask_timeout"));element.removeData("_mask_timeout")}if(element.isMasked()){$.unmaskElement(element)}if(element.css("position")=="static"){element.addClass("masked-relative")}element.addClass("masked");var maskDiv=$('<div class="loadmask"></div>');if(navigator.userAgent.toLowerCase().indexOf("msie")>-1){maskDiv.height(element.height()+parseInt(element.css("padding-top"))+parseInt(element.css("padding-bottom")));maskDiv.width(element.width()+parseInt(element.css("padding-left"))+parseInt(element.css("padding-right")))}if(navigator.userAgent.toLowerCase().indexOf("msie 6")>-1){element.find("select").addClass("masked-hidden")}element.append(maskDiv);if(label!==undefined){var maskMsgDiv=$('<div class="loadmask-msg" style="display:none;"></div>');maskMsgDiv.append("<div>"+label+"</div>");element.append(maskMsgDiv);var topPosition=Math.round(element.height()/2-(maskMsgDiv.height()-parseInt(maskMsgDiv.css("padding-top"))-parseInt(maskMsgDiv.css("padding-bottom")))/2)+"px";var leftPosition=Math.round(element.width()/2-(maskMsgDiv.width()-parseInt(maskMsgDiv.css("padding-left"))-parseInt(maskMsgDiv.css("padding-right")))/2)+"px";topPosition=$(window).scrollTop()+($(window).height()/2);maskMsgDiv.css("top",topPosition);maskMsgDiv.css("left",leftPosition);maskMsgDiv.show()}if($(element).height()<$(window).height()){maskDiv.height($(window).height())}else{maskDiv.height($(element).height())}};$.unmaskElement=function(element){if(element.data("_mask_timeout")!==undefined){clearTimeout(element.data("_mask_timeout"));element.removeData("_mask_timeout")}element.find(".loadmask-msg,.loadmask").remove();element.removeClass("masked");element.removeClass("masked-relative");element.find("select").removeClass("masked-hidden")}})(jQuery);(function(){var root=this;var previousUnderscore=root._;var breaker={};var ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype;var push=ArrayProto.push,slice=ArrayProto.slice,concat=ArrayProto.concat,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty;var nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind;var _=function(obj){if(obj instanceof _){return obj}if(!(this instanceof _)){return new _(obj)}this._wrapped=obj};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=_}exports._=_}else{root._=_}_.VERSION="1.5.0";var each=_.each=_.forEach=function(obj,iterator,context){if(obj==null){return}if(nativeForEach&&obj.forEach===nativeForEach){obj.forEach(iterator,context)}else{if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++){if(iterator.call(context,obj[i],i,obj)===breaker){return}}}else{for(var key in obj){if(_.has(obj,key)){if(iterator.call(context,obj[key],key,obj)===breaker){return}}}}}};_.map=_.collect=function(obj,iterator,context){var results=[];if(obj==null){return results}if(nativeMap&&obj.map===nativeMap){return obj.map(iterator,context)}each(obj,function(value,index,list){results.push(iterator.call(context,value,index,list))});return results};var reduceError="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null){obj=[]}if(nativeReduce&&obj.reduce===nativeReduce){if(context){iterator=_.bind(iterator,context)}return initial?obj.reduce(iterator,memo):obj.reduce(iterator)}each(obj,function(value,index,list){if(!initial){memo=value;initial=true}else{memo=iterator.call(context,memo,value,index,list)}});if(!initial){throw new TypeError(reduceError)}return memo};_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null){obj=[]}if(nativeReduceRight&&obj.reduceRight===nativeReduceRight){if(context){iterator=_.bind(iterator,context)}return initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator)}var length=obj.length;if(length!==+length){var keys=_.keys(obj);length=keys.length}each(obj,function(value,index,list){index=keys?keys[--length]:--length;if(!initial){memo=obj[index];initial=true}else{memo=iterator.call(context,memo,obj[index],index,list)}});if(!initial){throw new TypeError(reduceError)}return memo};_.find=_.detect=function(obj,iterator,context){var result;any(obj,function(value,index,list){if(iterator.call(context,value,index,list)){result=value;return true}});return result};_.filter=_.select=function(obj,iterator,context){var results=[];if(obj==null){return results}if(nativeFilter&&obj.filter===nativeFilter){return obj.filter(iterator,context)}each(obj,function(value,index,list){if(iterator.call(context,value,index,list)){results.push(value)}});return results};_.reject=function(obj,iterator,context){return _.filter(obj,function(value,index,list){return !iterator.call(context,value,index,list)},context)};_.every=_.all=function(obj,iterator,context){iterator||(iterator=_.identity);var result=true;if(obj==null){return result}if(nativeEvery&&obj.every===nativeEvery){return obj.every(iterator,context)}each(obj,function(value,index,list){if(!(result=result&&iterator.call(context,value,index,list))){return breaker}});return !!result};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=false;if(obj==null){return result}if(nativeSome&&obj.some===nativeSome){return obj.some(iterator,context)}each(obj,function(value,index,list){if(result||(result=iterator.call(context,value,index,list))){return breaker}});return !!result};_.contains=_.include=function(obj,target){if(obj==null){return false}if(nativeIndexOf&&obj.indexOf===nativeIndexOf){return obj.indexOf(target)!=-1}return any(obj,function(value){return value===target})};_.invoke=function(obj,method){var args=slice.call(arguments,2);var isFunc=_.isFunction(method);return _.map(obj,function(value){return(isFunc?method:value[method]).apply(value,args)})};_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})};_.where=function(obj,attrs,first){if(_.isEmpty(attrs)){return first?void 0:[]}return _[first?"find":"filter"](obj,function(value){for(var key in attrs){if(attrs[key]!==value[key]){return false}}return true})};_.findWhere=function(obj,attrs){return _.where(obj,attrs,true)};_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535){return Math.max.apply(Math,obj)}if(!iterator&&_.isEmpty(obj)){return -Infinity}var result={computed:-Infinity,value:-Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>result.computed&&(result={value:value,computed:computed})});return result.value};_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&obj.length<65535){return Math.min.apply(Math,obj)}if(!iterator&&_.isEmpty(obj)){return Infinity}var result={computed:Infinity,value:Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed})});return result.value};_.shuffle=function(obj){var rand;var index=0;var shuffled=[];each(obj,function(value){rand=_.random(index++);shuffled[index-1]=shuffled[rand];shuffled[rand]=value});return shuffled};var lookupIterator=function(value){return _.isFunction(value)?value:function(obj){return obj[value]}};_.sortBy=function(obj,value,context){var iterator=lookupIterator(value);return _.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria;var b=right.criteria;if(a!==b){if(a>b||a===void 0){return 1}if(a<b||b===void 0){return -1}}return left.index<right.index?-1:1}),"value")};var group=function(obj,value,context,behavior){var result={};var iterator=lookupIterator(value==null?_.identity:value);each(obj,function(value,index){var key=iterator.call(context,value,index,obj);behavior(result,key,value)});return result};_.groupBy=function(obj,value,context){return group(obj,value,context,function(result,key,value){(_.has(result,key)?result[key]:(result[key]=[])).push(value)})};_.countBy=function(obj,value,context){return group(obj,value,context,function(result,key){if(!_.has(result,key)){result[key]=0}result[key]++})};_.sortedIndex=function(array,obj,iterator,context){iterator=iterator==null?_.identity:lookupIterator(iterator);var value=iterator.call(context,obj);var low=0,high=array.length;while(low<high){var mid=(low+high)>>>1;iterator.call(context,array[mid])<value?low=mid+1:high=mid}return low};_.toArray=function(obj){if(!obj){return[]}if(_.isArray(obj)){return slice.call(obj)}if(obj.length===+obj.length){return _.map(obj,_.identity)}return _.values(obj)};_.size=function(obj){if(obj==null){return 0}return(obj.length===+obj.length)?obj.length:_.keys(obj).length};_.first=_.head=_.take=function(array,n,guard){if(array==null){return void 0}return(n!=null)&&!guard?slice.call(array,0,n):array[0]};_.initial=function(array,n,guard){return slice.call(array,0,array.length-((n==null)||guard?1:n))};_.last=function(array,n,guard){if(array==null){return void 0}if((n!=null)&&!guard){return slice.call(array,Math.max(array.length-n,0))}else{return array[array.length-1]}};_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,(n==null)||guard?1:n)};_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,output){if(shallow&&_.every(input,_.isArray)){return concat.apply(output,input)}each(input,function(value){if(_.isArray(value)||_.isArguments(value)){shallow?push.apply(output,value):flatten(value,shallow,output)}else{output.push(value)}});return output};_.flatten=function(array,shallow){return flatten(array,shallow,[])};_.without=function(array){return _.difference(array,slice.call(arguments,1))};_.uniq=_.unique=function(array,isSorted,iterator,context){if(_.isFunction(isSorted)){context=iterator;iterator=isSorted;isSorted=false}var initial=iterator?_.map(array,iterator,context):array;var results=[];var seen=[];each(initial,function(value,index){if(isSorted?(!index||seen[seen.length-1]!==value):!_.contains(seen,value)){seen.push(value);results.push(array[index])}});return results};_.union=function(){return _.uniq(_.flatten(arguments,true))};_.intersection=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})};_.difference=function(array){var rest=concat.apply(ArrayProto,slice.call(arguments,1));return _.filter(array,function(value){return !_.contains(rest,value)})};_.zip=function(){return _.unzip.apply(_,slice.call(arguments))};_.unzip=function(){var length=_.max(_.pluck(arguments,"length").concat(0));var results=new Array(length);for(var i=0;i<length;i++){results[i]=_.pluck(arguments,""+i)}return results};_.object=function(list,values){if(list==null){return{}}var result={};for(var i=0,l=list.length;i<l;i++){if(values){result[list[i]]=values[i]}else{result[list[i][0]]=list[i][1]}}return result};_.indexOf=function(array,item,isSorted){if(array==null){return -1}var i=0,l=array.length;if(isSorted){if(typeof isSorted=="number"){i=(isSorted<0?Math.max(0,l+isSorted):isSorted)}else{i=_.sortedIndex(array,item);return array[i]===item?i:-1}}if(nativeIndexOf&&array.indexOf===nativeIndexOf){return array.indexOf(item,isSorted)}for(;i<l;i++){if(array[i]===item){return i}}return -1};_.lastIndexOf=function(array,item,from){if(array==null){return -1}var hasIndex=from!=null;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf){return hasIndex?array.lastIndexOf(item,from):array.lastIndexOf(item)}var i=(hasIndex?from:array.length);while(i--){if(array[i]===item){return i}}return -1};_.range=function(start,stop,step){if(arguments.length<=1){stop=start||0;start=0}step=arguments[2]||1;var len=Math.max(Math.ceil((stop-start)/step),0);var idx=0;var range=new Array(len);while(idx<len){range[idx++]=start;start+=step}return range};var ctor=function(){};_.bind=function(func,context){var args,bound;if(nativeBind&&func.bind===nativeBind){return nativeBind.apply(func,slice.call(arguments,1))}if(!_.isFunction(func)){throw new TypeError}args=slice.call(arguments,2);return bound=function(){if(!(this instanceof bound)){return func.apply(context,args.concat(slice.call(arguments)))}ctor.prototype=func.prototype;var self=new ctor;ctor.prototype=null;var result=func.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result){return result}return self}};_.partial=function(func){var args=slice.call(arguments,1);return function(){return func.apply(this,args.concat(slice.call(arguments)))}};_.bindAll=function(obj){var funcs=slice.call(arguments,1);if(funcs.length===0){throw new Error("bindAll must be passed function names")}each(funcs,function(f){obj[f]=_.bind(obj[f],obj)});return obj};_.memoize=function(func,hasher){var memo={};hasher||(hasher=_.identity);return function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:(memo[key]=func.apply(this,arguments))}};_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)};_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))};_.throttle=function(func,wait,options){var context,args,result;var timeout=null;var previous=0;options||(options={});var later=function(){previous=new Date;timeout=null;result=func.apply(context,args)};return function(){var now=new Date;if(!previous&&options.leading===false){previous=now}var remaining=wait-(now-previous);context=this;args=arguments;if(remaining<=0){clearTimeout(timeout);timeout=null;previous=now;result=func.apply(context,args)}else{if(!timeout&&options.trailing!==false){timeout=setTimeout(later,remaining)}}return result}};_.debounce=function(func,wait,immediate){var result;var timeout=null;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate){result=func.apply(context,args)}};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){result=func.apply(context,args)}return result}};_.once=function(func){var ran=false,memo;return function(){if(ran){return memo}ran=true;memo=func.apply(this,arguments);func=null;return memo}};_.wrap=function(func,wrapper){return function(){var args=[func];push.apply(args,arguments);return wrapper.apply(this,args)}};_.compose=function(){var funcs=arguments;return function(){var args=arguments;for(var i=funcs.length-1;i>=0;i--){args=[funcs[i].apply(this,args)]}return args[0]}};_.after=function(times,func){return function(){if(--times<1){return func.apply(this,arguments)}}};_.keys=nativeKeys||function(obj){if(obj!==Object(obj)){throw new TypeError("Invalid object")}var keys=[];for(var key in obj){if(_.has(obj,key)){keys.push(key)}}return keys};_.values=function(obj){var values=[];for(var key in obj){if(_.has(obj,key)){values.push(obj[key])}}return values};_.pairs=function(obj){var pairs=[];for(var key in obj){if(_.has(obj,key)){pairs.push([key,obj[key]])}}return pairs};_.invert=function(obj){var result={};for(var key in obj){if(_.has(obj,key)){result[obj[key]]=key}}return result};_.functions=_.methods=function(obj){var names=[];for(var key in obj){if(_.isFunction(obj[key])){names.push(key)}}return names.sort()};_.extend=function(obj){each(slice.call(arguments,1),function(source){if(source){for(var prop in source){obj[prop]=source[prop]}}});return obj};_.pick=function(obj){var copy={};var keys=concat.apply(ArrayProto,slice.call(arguments,1));each(keys,function(key){if(key in obj){copy[key]=obj[key]}});return copy};_.omit=function(obj){var copy={};var keys=concat.apply(ArrayProto,slice.call(arguments,1));for(var key in obj){if(!_.contains(keys,key)){copy[key]=obj[key]}}return copy};_.defaults=function(obj){each(slice.call(arguments,1),function(source){if(source){for(var prop in source){if(obj[prop]===void 0){obj[prop]=source[prop]}}}});return obj};_.clone=function(obj){if(!_.isObject(obj)){return obj}return _.isArray(obj)?obj.slice():_.extend({},obj)};_.tap=function(obj,interceptor){interceptor(obj);return obj};var eq=function(a,b,aStack,bStack){if(a===b){return a!==0||1/a==1/b}if(a==null||b==null){return a===b}if(a instanceof _){a=a._wrapped}if(b instanceof _){b=b._wrapped}var className=toString.call(a);if(className!=toString.call(b)){return false}switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:(a==0?1/a==1/b:a==+b);case"[object Date]":case"[object Boolean]":return +a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object"){return false}var length=aStack.length;while(length--){if(aStack[length]==a){return bStack[length]==b}}var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&(aCtor instanceof aCtor)&&_.isFunction(bCtor)&&(bCtor instanceof bCtor))){return false}aStack.push(a);bStack.push(b);var size=0,result=true;if(className=="[object Array]"){size=a.length;result=size==b.length;if(result){while(size--){if(!(result=eq(a[size],b[size],aStack,bStack))){break}}}}else{for(var key in a){if(_.has(a,key)){size++;if(!(result=_.has(b,key)&&eq(a[key],b[key],aStack,bStack))){break}}}if(result){for(key in b){if(_.has(b,key)&&!(size--)){break}}result=!size}}aStack.pop();bStack.pop();return result};_.isEqual=function(a,b){return eq(a,b,[],[])};_.isEmpty=function(obj){if(obj==null){return true}if(_.isArray(obj)||_.isString(obj)){return obj.length===0}for(var key in obj){if(_.has(obj,key)){return false}}return true};_.isElement=function(obj){return !!(obj&&obj.nodeType===1)};_.isArray=nativeIsArray||function(obj){return toString.call(obj)=="[object Array]"};_.isObject=function(obj){return obj===Object(obj)};each(["Arguments","Function","String","Number","Date","RegExp"],function(name){_["is"+name]=function(obj){return toString.call(obj)=="[object "+name+"]"}});if(!_.isArguments(arguments)){_.isArguments=function(obj){return !!(obj&&_.has(obj,"callee"))}}if(typeof(/./)!=="function"){_.isFunction=function(obj){return typeof obj==="function"}}_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))};_.isNaN=function(obj){return _.isNumber(obj)&&obj!=+obj};_.isBoolean=function(obj){return obj===true||obj===false||toString.call(obj)=="[object Boolean]"};_.isNull=function(obj){return obj===null};_.isUndefined=function(obj){return obj===void 0};_.has=function(obj,key){return hasOwnProperty.call(obj,key)};_.noConflict=function(){root._=previousUnderscore;return this};_.identity=function(value){return value};_.times=function(n,iterator,context){var accum=Array(Math.max(0,n));for(var i=0;i<n;i++){accum[i]=iterator.call(context,i)}return accum};_.random=function(min,max){if(max==null){max=min;min=0}return min+Math.floor(Math.random()*(max-min+1))};var entityMap={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};entityMap.unescape=_.invert(entityMap.escape);var entityRegexes={escape:new RegExp("["+_.keys(entityMap.escape).join("")+"]","g"),unescape:new RegExp("("+_.keys(entityMap.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(method){_[method]=function(string){if(string==null){return""}return(""+string).replace(entityRegexes[method],function(match){return entityMap[method][match]})}});_.result=function(object,property){if(object==null){return void 0}var value=object[property];return _.isFunction(value)?value.call(object):value};_.mixin=function(obj){each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];push.apply(args,arguments);return result.call(this,func.apply(_,args))}})};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id};_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/;var escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"};var escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;_.template=function(text,data,settings){var render;settings=_.defaults({},settings,_.templateSettings);var matcher=new RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g");var index=0;var source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){source+=text.slice(index,offset).replace(escaper,function(match){return"\\"+escapes[match]});if(escape){source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'"}if(interpolate){source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'"}if(evaluate){source+="';\n"+evaluate+"\n__p+='"}index=offset+match.length;return match});source+="';\n";if(!settings.variable){source="with(obj||{}){\n"+source+"}\n"}source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{render=new Function(settings.variable||"obj","_",source)}catch(e){e.source=source;throw e}if(data){return render(data,_)}var template=function(data){return render.call(this,data,_)};template.source="function("+(settings.variable||"obj")+"){\n"+source+"}";return template};_.chain=function(obj){return _(obj).chain()};var result=function(obj){return this._chain?_(obj).chain():obj};_.mixin(_);each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;method.apply(obj,arguments);if((name=="shift"||name=="splice")&&obj.length===0){delete obj[0]}return result.call(this,obj)}});each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result.call(this,method.apply(this._wrapped,arguments))}});_.extend(_.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this);
/*!
 * jQuery.floatThead
 * Copyright (c) 2012 - 2013 Misha Koryak
 * Licensed under Attribution-ShareAlike 4.0 International - http://creativecommons.org/licenses/by-sa/4.0/
 * Date: 12/12/13
 *
 * @author Misha Koryak
 * @version 1.2.0
 * @projectDescription lock a table header in place while scrolling - without breaking styles or events bound to the header
 *
 * Dependencies:
 * jquery 1.9.0 + [required] OR jquery 1.7.0 + jquery UI core
 * underscore.js 1.3.0 + [required]
 *
 * http://mkoryak.github.io/floatThead/
 *
 * Tested on FF13+, Chrome 21+, IE8, IE9, IE10
 *
 */
(function($){$.floatThead={defaults:{cellTag:"th",zIndex:1001,debounceResizeMs:1,useAbsolutePositioning:true,scrollingTop:0,scrollingBottom:0,scrollContainer:function($table){return $([])},getSizingRow:function($table,$cols,$fthCells){return $table.find("tbody tr:visible:first>td")},floatTableClass:"floatThead-table",debug:false}};var ieVersion=function(){for(var a=3,b=document.createElement("b"),c=b.all||[];b.innerHTML="<!--[if gt IE "+ ++a+"]><i><![endif]-->",c[0];){}return 4<a?a:document.documentMode}();var isChrome=null;var isChromeCheck=function(){if(ieVersion){return false}var $table=$("<table><colgroup><col></colgroup><tbody><tr><td style='width:10px'></td></tbody></table>");$("body").append($table);var width=$table.find("col").width();$table.remove();return width==0};var $window=$(window);var floatTheadCreated=0;function windowResize(debounceMs,cb){var winWidth=$window.width();var debouncedCb=_.debounce(function(){var winWidthNew=$window.width();if(winWidth!=winWidthNew){winWidth=winWidthNew;cb()}},debounceMs);$window.bind("resize.floatTHead",debouncedCb)}function debug(str){window.console&&window.console&&window.console.log&&window.console.log(str)}function scrollbarWidth(){var $div=$('<div style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%"></div>');$("body").append($div);var w1=$div.innerWidth();var w2=$("div",$div).innerWidth();$div.remove();return w1-w2}function isDatatable($table){if($table.dataTableSettings){for(var i=0;i<$table.dataTableSettings.length;i++){var table=$table.dataTableSettings[i].nTable;if($table[0]==table){return true}}}return false}$.fn.floatThead=function(map){if(ieVersion<8){return this}if(isChrome==null){isChrome=isChromeCheck();if(isChrome){document.createElement("fthtr");document.createElement("fthtd");document.createElement("fthfoot")}}if(_.isString(map)){var command=map;var ret=this;this.filter("table").each(function(){var obj=$(this).data("floatThead-attached");if(obj&&_.isFunction(obj[command])){var r=obj[command]();if(typeof r!=="undefined"){ret=r}}});return ret}var opts=$.extend({},$.floatThead.defaults,map);_.each(map,function(val,key){if((!(key in $.floatThead.defaults))&&opts.debug){debug("jQuery.floatThead: used ["+key+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+(_.keys($.floatThead.defaults)).join(", "))}});this.filter(":not(."+opts.floatTableClass+")").each(function(){var $table=$(this);if($table.data("floatThead-attached")){return true}if(!$table.is("table")){throw new Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();')}var $header=$table.find("thead:first");var $tbody=$table.find("tbody:first");if($header.length==0){throw new Error("jQuery.floatThead must be run on a table that contains a <thead> element")}var headerFloated=true;var scrollingTop,scrollingBottom;var scrollbarOffset={vertical:0,horizontal:0};var scWidth=scrollbarWidth();var lastColumnCount=0;var $scrollContainer=opts.scrollContainer($table)||$([]);var useAbsolutePositioning=opts.useAbsolutePositioning;if(useAbsolutePositioning==null){useAbsolutePositioning=opts.scrollContainer($table).length}var $caption=$table.find("caption");var haveCaption=$caption.length==1;if(haveCaption){var captionAlignTop=($caption.css("caption-side")||$caption.attr("align")||"top")==="top"}var $fthGrp=$('<fthfoot style="display:table-footer-group;"/>');var locked=$scrollContainer.length>0;var wrappedContainer=false;var absoluteToFixedOnScroll=ieVersion<=9&&!locked&&useAbsolutePositioning;var $floatTable=$("<table/>");var $floatColGroup=$("<colgroup/>");var $tableColGroup=$("<colgroup/>");var $fthRow=$('<fthrow style="display:table-row;height:0;"/>');var $floatContainer=$('<div style="overflow: hidden;"></div>');var $newHeader=$("<thead/>");var $sizerRow=$('<tr class="size-row"/>');var $sizerCells=$([]);var $tableCells=$([]);var $headerCells=$([]);var $fthCells=$([]);$newHeader.append($sizerRow);$header.detach();$table.prepend($newHeader);$table.prepend($tableColGroup);if(isChrome){$fthGrp.append($fthRow);$table.append($fthGrp)}$floatTable.append($floatColGroup);$floatContainer.append($floatTable);$floatTable.attr("class",$table.attr("class"));$floatTable.addClass(opts.floatTableClass).css("margin",0);if(useAbsolutePositioning){var makeRelative=function($container,alwaysWrap){var positionCss=$container.css("position");var relativeToScrollContainer=(positionCss=="relative"||positionCss=="absolute");if(!relativeToScrollContainer||alwaysWrap){var css={paddingLeft:$container.css("paddingLeft"),paddingRight:$container.css("paddingRight")};$floatContainer.css(css);$container=$container.wrap("<div style='position: relative; clear:both;'></div>").parent();wrappedContainer=true}return $container};if(locked){var $relative=makeRelative($scrollContainer,true);$relative.append($floatContainer)}else{makeRelative($table);$table.after($floatContainer)}}else{$table.after($floatContainer)}$floatContainer.css({position:useAbsolutePositioning?"absolute":"fixed",marginTop:0,top:useAbsolutePositioning?0:"auto",zIndex:opts.zIndex});updateScrollingOffsets();var layoutFixed={"table-layout":"fixed"};var layoutAuto={"table-layout":$table.css("tableLayout")||"auto"};function setHeaderHeight(){var headerHeight=$header.outerHeight(true);$sizerRow.outerHeight(headerHeight);$sizerCells.outerHeight(headerHeight)}function setFloatWidth(){var tableWidth=$table.outerWidth();var width=$scrollContainer.width()||tableWidth;$floatContainer.width(width-scrollbarOffset.vertical);if(locked){var percent=100*tableWidth/(width-scrollbarOffset.vertical);$floatTable.css("width",percent+"%")}else{$floatTable.outerWidth(tableWidth)}}function updateScrollingOffsets(){scrollingTop=(_.isFunction(opts.scrollingTop)?opts.scrollingTop($table):opts.scrollingTop)||0;scrollingBottom=(_.isFunction(opts.scrollingBottom)?opts.scrollingBottom($table):opts.scrollingBottom)||0}function columnNum(){var $headerColumns=$header.find("tr:first>"+opts.cellTag);var count=_.reduce($headerColumns,function(sum,cell){var colspan=parseInt(($(cell).attr("colspan")||1),10);return sum+colspan},0);if(count!=lastColumnCount){lastColumnCount=count;var cells=[],cols=[],psuedo=[];for(var x=0;x<count;x++){cells.push("<"+opts.cellTag+' class="floatThead-col-'+x+'"/>');cols.push("<col/>");psuedo.push("<fthtd style='display:table-cell;height:0;width:auto;'/>")}cols=cols.join("");cells=cells.join("");if(isChrome){psuedo=psuedo.join("");$fthRow.html(psuedo);$fthCells=$fthRow.find("fthtd")}$sizerRow.html(cells);$tableColGroup.html(cols);$tableCells=$tableColGroup.find("col");$floatColGroup.html(cols);$headerCells=$floatColGroup.find("col")}return count}function refloat(){if(!headerFloated){headerFloated=true;$table.css(layoutFixed);$floatTable.css(layoutFixed);$floatTable.append($header);$tbody.before($newHeader);setHeaderHeight()}}function unfloat(){if(headerFloated){headerFloated=false;$newHeader.detach();$table.prepend($header);$table.css(layoutAuto);$floatTable.css(layoutAuto)}}function changePositioning(isAbsolute){if(useAbsolutePositioning!=isAbsolute){useAbsolutePositioning=isAbsolute;$floatContainer.css({position:useAbsolutePositioning?"absolute":"fixed"})}}function getSizingRow($table,$cols,$fthCells,ieVersion){if(isChrome){return $fthCells}else{if(ieVersion){return opts.getSizingRow($table,$cols,$fthCells)}else{return $cols}}}function reflow(){var i;var numCols=columnNum();return function(){var $rowCells=getSizingRow($table,$tableCells,$fthCells,ieVersion);if($rowCells.length==numCols&&numCols>0){unfloat();for(i=0;i<numCols;i++){var _rowcell=$rowCells.get(i);var rowWidth=_rowcell.offsetWidth;$headerCells.eq(i).width(rowWidth);$tableCells.eq(i).width(rowWidth)}refloat()}else{$floatTable.append($header);$table.css(layoutAuto);$floatTable.css(layoutAuto);setHeaderHeight()}}}function calculateFloatContainerPosFn(){var scrollingContainerTop=$scrollContainer.scrollTop();var floatEnd;var tableContainerGap=0;var captionHeight=haveCaption?$caption.outerHeight(true):0;var floatContainerHeight=$floatContainer.height();var tableOffset=$table.offset();if(locked){var containerOffset=$scrollContainer.offset();tableContainerGap=tableOffset.top-containerOffset.top+scrollingContainerTop;if(haveCaption&&captionAlignTop){tableContainerGap+=captionHeight}}else{floatEnd=tableOffset.top-scrollingTop-floatContainerHeight+scrollingBottom+scrollbarOffset.horizontal}var windowTop=$window.scrollTop();var windowLeft=$window.scrollLeft();var scrollContainerLeft=$scrollContainer.scrollLeft();scrollingContainerTop=$scrollContainer.scrollTop();return function(eventType){if(eventType=="windowScroll"){windowTop=$window.scrollTop();windowLeft=$window.scrollLeft()}else{if(eventType=="containerScroll"){scrollingContainerTop=$scrollContainer.scrollTop();scrollContainerLeft=$scrollContainer.scrollLeft()}else{if(eventType!="init"){windowTop=$window.scrollTop();windowLeft=$window.scrollLeft();scrollingContainerTop=$scrollContainer.scrollTop();scrollContainerLeft=$scrollContainer.scrollLeft()}}}if(isChrome&&(windowTop<0||windowLeft<0)){return}if(absoluteToFixedOnScroll){if(eventType=="windowScrollDone"){changePositioning(true)}else{changePositioning(false)}}else{if(eventType=="windowScrollDone"){return null}}tableOffset=$table.offset();if(haveCaption&&captionAlignTop){tableOffset.top+=captionHeight}var top,left,tableHeight;if(locked&&useAbsolutePositioning){if(tableContainerGap>=scrollingContainerTop){var gap=tableContainerGap-scrollingContainerTop;gap=gap>0?gap:0;top=gap}else{top=wrappedContainer?0:scrollingContainerTop}left=0}else{if(!locked&&useAbsolutePositioning){tableHeight=$table.outerHeight();if(windowTop>floatEnd+tableHeight+captionHeight){top=tableHeight-floatContainerHeight+captionHeight}else{if(tableOffset.top>windowTop+scrollingTop){top=0;unfloat()}else{top=scrollingTop+windowTop-tableOffset.top+tableContainerGap+captionHeight;refloat()}}left=0}else{if(locked&&!useAbsolutePositioning){if(tableContainerGap>scrollingContainerTop){top=tableOffset.top-windowTop;unfloat()}else{top=tableOffset.top+scrollingContainerTop-windowTop-tableContainerGap;refloat()}left=tableOffset.left+scrollContainerLeft-windowLeft}else{if(!locked&&!useAbsolutePositioning){tableHeight=$table.outerHeight();if(windowTop>floatEnd+tableHeight+captionHeight){top=tableHeight+scrollingTop-windowTop+floatEnd+captionHeight}else{if(tableOffset.top>windowTop+scrollingTop){top=tableOffset.top-windowTop;refloat()}else{top=scrollingTop}}left=tableOffset.left-windowLeft}}}}return{top:top,left:left}}}function repositionFloatContainerFn(){var oldTop=null;var oldLeft=null;var oldScrollLeft=null;return function(pos,setWidth,setHeight){if(pos!=null&&(oldTop!=pos.top||oldLeft!=pos.left)){$floatContainer.css({top:pos.top,left:pos.left});oldTop=pos.top;oldLeft=pos.left}if(setWidth){setFloatWidth()}if(setHeight){setHeaderHeight()}var scrollLeft=$scrollContainer.scrollLeft();if(oldScrollLeft!=scrollLeft){$floatContainer.scrollLeft(scrollLeft);oldScrollLeft=scrollLeft}}}function calculateScrollBarSize(){if($scrollContainer.length){scrollbarOffset.horizontal=$scrollContainer.width()<$table.width()?scWidth:0;scrollbarOffset.vertical=$scrollContainer.height()<$table.height()?scWidth:0}}calculateScrollBarSize();var flow=reflow();flow();var calculateFloatContainerPos=calculateFloatContainerPosFn();var repositionFloatContainer=repositionFloatContainerFn();repositionFloatContainer(calculateFloatContainerPos("init"),true);var windowScrollDoneEvent=_.debounce(function(){repositionFloatContainer(calculateFloatContainerPos("windowScrollDone"),false)},300);var windowScrollEvent=function(){repositionFloatContainer(calculateFloatContainerPos("windowScroll"),false);windowScrollDoneEvent()};var containerScrollEvent=function(){repositionFloatContainer(calculateFloatContainerPos("containerScroll"),false)};var ensureReflow=function(){flow=reflow();flow()};var windowResizeEvent=function(){updateScrollingOffsets();calculateScrollBarSize();ensureReflow();calculateFloatContainerPos=calculateFloatContainerPosFn();repositionFloatContainer=repositionFloatContainerFn();repositionFloatContainer(calculateFloatContainerPos("resize"),true,true)};var reflowEvent=_.debounce(function(){calculateScrollBarSize();updateScrollingOffsets();ensureReflow();calculateFloatContainerPos=calculateFloatContainerPosFn();repositionFloatContainer(calculateFloatContainerPos("reflow"),true)},1);if(locked){if(useAbsolutePositioning){$scrollContainer.bind("scroll.floatTHead",containerScrollEvent)}else{$scrollContainer.bind("scroll.floatTHead",containerScrollEvent);$window.bind("scroll.floatTHead",windowScrollEvent)}}else{$window.bind("scroll.floatTHead",windowScrollEvent)}$window.bind("load.floatTHead",reflowEvent);windowResize(opts.debounceResizeMs,windowResizeEvent);$table.bind("reflow",reflowEvent);if(isDatatable($table)){$table.bind("filter",reflowEvent).bind("sort",reflowEvent).bind("page",reflowEvent)}$table.data("floatThead-attached",{destroy:function(){$table.css(layoutAuto);$tableColGroup.remove();isChrome&&$fthGrp.remove();if($newHeader.parent().length){$newHeader.replaceWith($header)}$table.unbind("reflow");reflowEvent=windowResizeEvent=containerScrollEvent=windowScrollEvent=function(){};$scrollContainer.unbind("scroll.floatTHead");$floatContainer.remove();$table.data("floatThead-attached",false);floatTheadCreated--;if(floatTheadCreated==0){$window.unbind("scroll.floatTHead");$window.unbind("resize.floatTHead");$window.unbind("load.floatTHead")}},reflow:function(){reflowEvent()},setHeaderHeight:function(){setHeaderHeight()},getFloatContainer:function(){return $floatContainer}});floatTheadCreated++});return this}})(jQuery);(function($,undef){if($.fn.dotdotdot){return}$.fn.dotdotdot=function(o){if(this.length==0){$.fn.dotdotdot.debug('No element found for "'+this.selector+'".');return this}if(this.length>1){return this.each(function(){$(this).dotdotdot(o)})}var $dot=this;if($dot.data("dotdotdot")){$dot.trigger("destroy.dot")}$dot.data("dotdotdot-style",$dot.attr("style")||"");$dot.css("word-wrap","break-word");if($dot.css("white-space")==="nowrap"){$dot.css("white-space","normal")}$dot.bind_events=function(){$dot.bind("update.dot",function(e,c){e.preventDefault();e.stopPropagation();opts.maxHeight=(typeof opts.height=="number")?opts.height:getTrueInnerHeight($dot);opts.maxHeight+=opts.tolerance;if(typeof c!="undefined"){if(typeof c=="string"||("nodeType" in c&&c.nodeType===1)){c=$("<div />").append(c).contents()}if(c instanceof $){orgContent=c}}$inr=$dot.wrapInner('<div class="dotdotdot" />').children();$inr.contents().detach().end().append(orgContent.clone(true)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var after=false,trunc=false;if(conf.afterElement){after=conf.afterElement.clone(true);after.show();conf.afterElement.detach()}if(test($inr,opts)){if(opts.wrap=="children"){trunc=children($inr,opts,after)}else{trunc=ellipsis($inr,$dot,$inr,opts,after)}}$inr.replaceWith($inr.contents());$inr=null;if($.isFunction(opts.callback)){opts.callback.call($dot[0],trunc,orgContent)}conf.isTruncated=trunc;return trunc}).bind("isTruncated.dot",function(e,fn){e.preventDefault();e.stopPropagation();if(typeof fn=="function"){fn.call($dot[0],conf.isTruncated)}return conf.isTruncated}).bind("originalContent.dot",function(e,fn){e.preventDefault();e.stopPropagation();if(typeof fn=="function"){fn.call($dot[0],orgContent)}return orgContent}).bind("destroy.dot",function(e){e.preventDefault();e.stopPropagation();$dot.unwatch().unbind_events().contents().detach().end().append(orgContent).attr("style",$dot.data("dotdotdot-style")||"").data("dotdotdot",false)});return $dot};$dot.unbind_events=function(){$dot.unbind(".dot");return $dot};$dot.watch=function(){$dot.unwatch();if(opts.watch=="window"){var $window=$(window),_wWidth=$window.width(),_wHeight=$window.height();$window.bind("resize.dot"+conf.dotId,function(){if(_wWidth!=$window.width()||_wHeight!=$window.height()||!opts.windowResizeFix){_wWidth=$window.width();_wHeight=$window.height();if(watchInt){clearInterval(watchInt)}watchInt=setTimeout(function(){$dot.trigger("update.dot")},100)}})}else{watchOrg=getSizes($dot);watchInt=setInterval(function(){if($dot.is(":visible")){var watchNew=getSizes($dot);if(watchOrg.width!=watchNew.width||watchOrg.height!=watchNew.height){$dot.trigger("update.dot");watchOrg=watchNew}}},500)}return $dot};$dot.unwatch=function(){$(window).unbind("resize.dot"+conf.dotId);if(watchInt){clearInterval(watchInt)}return $dot};var orgContent=$dot.contents(),opts=$.extend(true,{},$.fn.dotdotdot.defaults,o),conf={},watchOrg={},watchInt=null,$inr=null;if(!(opts.lastCharacter.remove instanceof Array)){opts.lastCharacter.remove=$.fn.dotdotdot.defaultArrays.lastCharacter.remove}if(!(opts.lastCharacter.noEllipsis instanceof Array)){opts.lastCharacter.noEllipsis=$.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis}conf.afterElement=getElement(opts.after,$dot);conf.isTruncated=false;conf.dotId=dotId++;$dot.data("dotdotdot",true).bind_events().trigger("update.dot");if(opts.watch){$dot.watch()}return $dot};$.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:true,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:false,windowResizeFix:true};$.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","\u3000",",",";",".","!","?"],noEllipsis:[]}};$.fn.dotdotdot.debug=function(msg){};var dotId=1;function children($elem,o,after){var $elements=$elem.children(),isTruncated=false;$elem.empty();for(var a=0,l=$elements.length;a<l;a++){var $e=$elements.eq(a);$elem.append($e);if(after){$elem.append(after)}if(test($elem,o)){$e.remove();isTruncated=true;break}else{if(after){after.detach()}}}return isTruncated}function ellipsis($elem,$d,$i,o,after){var isTruncated=false;var notx="a table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style";var noty="script, .dotdotdot-keep";$elem.contents().detach().each(function(){var e=this,$e=$(e);if(typeof e=="undefined"||(e.nodeType==3&&$.trim(e.data).length==0)){return true}else{if($e.is(noty)){$elem.append($e)}else{if(isTruncated){return true}else{$elem.append($e);if(after&&!$e.is(o.after)&&!$e.find(o.after).length){$elem[$elem.is(notx)?"after":"append"](after)}if(test($i,o)){if(e.nodeType==3){isTruncated=ellipsisElement($e,$d,$i,o,after)}else{isTruncated=ellipsis($e,$d,$i,o,after)}if(!isTruncated){$e.detach();isTruncated=true}}if(!isTruncated){if(after){after.detach()}}}}}});return isTruncated}function ellipsisElement($e,$d,$i,o,after){var e=$e[0];if(!e){return false}var txt=getTextContent(e),space=(txt.indexOf(" ")!==-1)?" ":"\u3000",separator=(o.wrap=="letter")?"":space,textArr=txt.split(separator),position=-1,midPos=-1,startPos=0,endPos=textArr.length-1;if(o.fallbackToLetter&&startPos==0&&endPos==0){separator="";textArr=txt.split(separator);endPos=textArr.length-1}while(startPos<=endPos&&!(startPos==0&&endPos==0)){var m=Math.floor((startPos+endPos)/2);if(m==midPos){break}midPos=m;setTextContent(e,textArr.slice(0,midPos+1).join(separator)+o.ellipsis);if(!test($i,o)){position=midPos;startPos=midPos}else{endPos=midPos;if(o.fallbackToLetter&&startPos==0&&endPos==0){separator="";textArr=textArr[0].split(separator);position=-1;midPos=-1;startPos=0;endPos=textArr.length-1}}}if(position!=-1&&!(textArr.length==1&&textArr[0].length==0)){txt=addEllipsis(textArr.slice(0,position+1).join(separator),o);setTextContent(e,txt)}else{var $w=$e.parent();$e.detach();var afterLength=(after&&after.closest($w).length)?after.length:0;if($w.contents().length>afterLength){e=findLastTextNode($w.contents().eq(-1-afterLength),$d)}else{e=findLastTextNode($w,$d,true);if(!afterLength){$w.detach()}}if(e){txt=addEllipsis(getTextContent(e),o);setTextContent(e,txt);if(afterLength&&after){$(e).parent().append(after)}}}return true}function test($i,o){return $i.innerHeight()>o.maxHeight}function addEllipsis(txt,o){while($.inArray(txt.slice(-1),o.lastCharacter.remove)>-1){txt=txt.slice(0,-1)}if($.inArray(txt.slice(-1),o.lastCharacter.noEllipsis)<0){txt+=o.ellipsis}return txt}function getSizes($d){return{width:$d.innerWidth(),height:$d.innerHeight()}}function setTextContent(e,content){if(e.innerText){e.innerText=content}else{if(e.nodeValue){e.nodeValue=content}else{if(e.textContent){e.textContent=content}}}}function getTextContent(e){if(e.innerText){return e.innerText}else{if(e.nodeValue){return e.nodeValue}else{if(e.textContent){return e.textContent}else{return""}}}}function getPrevNode(n){do{n=n.previousSibling}while(n&&n.nodeType!==1&&n.nodeType!==3);return n}function findLastTextNode($el,$top,excludeCurrent){var e=$el&&$el[0],p;if(e){if(!excludeCurrent){if(e.nodeType===3){return e}if($.trim($el.text())){return findLastTextNode($el.contents().last(),$top)}}p=getPrevNode(e);while(!p){$el=$el.parent();if($el.is($top)||!$el.length){return false}p=getPrevNode($el[0])}if(p){return findLastTextNode($(p),$top)}}return false}function getElement(e,$i){if(!e){return false}if(typeof e==="string"){e=$(e,$i);return(e.length)?e:false}return !e.jquery?false:e}function getTrueInnerHeight($el){var h=$el.innerHeight(),a=["paddingTop","paddingBottom"];for(var z=0,l=a.length;z<l;z++){var m=parseInt($el.css(a[z]),10);if(isNaN(m)){m=0}h-=m}return h}var _orgHtml=$.fn.html;$.fn.html=function(str){if(str!=undef&&!$.isFunction(str)&&this.data("dotdotdot")){return this.trigger("update",[str])}return _orgHtml.apply(this,arguments)};var _orgText=$.fn.text;$.fn.text=function(str){if(str!=undef&&!$.isFunction(str)&&this.data("dotdotdot")){str=$("<div />").text(str).html();return this.trigger("update",[str])}return _orgText.apply(this,arguments)}})(jQuery);if(typeof chatEnabled!="undefined"){if(chatEnabled!="no"){}}var chatForm='<fmt:message bundle="${myBundle}" key="c2c.chatfile" />';var emailForm="/InstantService/design2012/ISemail.jsp";var curURL=location.href;var chatURL=chatForm+"&cURL="+getWebtrendsWtEsString();var emailURL=emailForm+"&cURL="+getWebtrendsWtEsString();var url;var falcon=1;function agents_available(){url=chatForm;return true}function agents_not_available(){url=emailForm;return true}function newwindow(){var wtEs=getWebtrendsWtEsString();var windowURL="/InstantService/design2012/ISchat.jsp?d=47453&cURL="+wtEs;window.open(windowURL,"jav","width=500,height=700,resizable=yes")}if(!com){var com={};com.infor={}}else{if(!com.infor){com.infor={}}}com.infor.form={};if(typeof inquiryTypeFieldName=="undefined"){var inquiryTypeFieldName="Inquiry Type"}com.infor.form.Validation=function(){return{msg:"",empty_fields:"",errors:"",secondMsg:"",cookieMsg:"",thirdMsg:"",inquiryErrmsg:"",emailValid:"false",formValid:"false",verify:function(formElement){try{var emailField=$(formElement).find("input[name='pemail']");if(emailField.length==0){emailField=$("input").filter(function(){return $(this).is(":visible")&&$(this).attr("name").toLowerCase().indexOf("email")>-1})}var strikeIron=$(formElement).find("input[name='ev']");var formType=$(formElement).find("input[name='formType']");var emailVal=$(emailField).val();$("body").mask("&nbsp;");if(emailField==null||emailVal==""||$(strikeIron).val()=="false"){if(emailField!=null&&emailVal!=""){com.infor.form.Validation.emailValid="true"}com.infor.form.Validation.verifyOtherFields(formElement);if(com.infor.form.Validation.formValid=="true"){com.infor.form.Validation.setBrowserField(formElement);if(getSessionVar("wt_conv")!=null){if(typeof formType=="undefined"||typeof $(formType).val()=="undefined"||$(formType).val()!="contact"){Webtrends.multiTrack({args:{"WT.conv":getSessionVar("wt_conv"),"WT.conv_type":getSessionVar("wt_convtype")},callback:function(a){removeWebTrendsVars();if($("#formpopup").length==0){formElement.submit()}else{com.infor.form.Validation.ajaxSubmit(formElement)}setSessionVar("formSubmitted","true")}})}else{if($("#formpopup").length==0){formElement.submit()}else{com.infor.form.Validation.ajaxSubmit(formElement)}setSessionVar("formSubmitted","true")}}else{if($("#formpopup").length==0){formElement.submit()}else{com.infor.form.Validation.ajaxSubmit(formElement)}setSessionVar("formSubmitted","true")}}return false}else{$.ajax({url:"/ajaxwrapper",type:"GET",data:"vemail="+emailVal,dataType:"xml",timeout:60000,success:function(data,textStatus,xhr){if(com.infor.form.Validation.parseStatus(data)){com.infor.form.Validation.verifyOtherFields(formElement)}else{if(typeof suppressErrorPrompt!="undefined"){if(suppressErrorPrompt=="true"){com.infor.form.Validation.verifyOtherFields(formElement)}}}if(com.infor.form.Validation.formValid=="true"){com.infor.form.Validation.setBrowserField(formElement);if(getSessionVar("wt_conv")!=null){if((typeof formType=="undefined"||typeof $(formType).val()=="undefined"||$(formType).val()!="contact")){var conv=getSessionVar("wt_conv");var convType=getSessionVar("wt_convtype");try{Webtrends.multiTrack({args:{"WT.conv":conv,"WT.conv_type":convType},callback:function(a){removeWebTrendsVars();if($("#formpopup").length==0){if($("#isExternalSubmit").val()=="true"){var d=new Date();d.setTime(d.getTime()+2592000000);var customForm=$(formElement).find("input[name='cf']");document.cookie="ProfileForCustomForm"+customForm.val()+"="+emailVal+";expires="+d.toUTCString()}formElement.submit()}else{com.infor.form.Validation.ajaxSubmit(formElement)}setSessionVar("formSubmitted","true")}})}catch(multitrackError){if($("#formpopup").length==0){formElement.submit()}else{com.infor.form.Validation.ajaxSubmit(formElement)}setSessionVar("formSubmitted","true")}}else{if($("#formpopup").length==0){formElement.submit()}else{com.infor.form.Validation.ajaxSubmit(formElement)}setSessionVar("formSubmitted","true")}}else{if($("#formpopup").length==0){formElement.submit()}else{com.infor.form.Validation.ajaxSubmit(formElement)}setSessionVar("formSubmitted","true")}}},error:function(xhr,textstatus,errorThing){return com.infor.form.Validation.emailCheckError(xhr,textstatus)}})}}catch(error){alert("error="+error)}return false},ajaxSubmit:function(f){var dataString=$(f).serialize()+"&ajax=true";$.ajax({url:"/customformprocessor",type:"POST",data:dataString,dataType:"json",timeout:120000,success:function(data,textStatus,xhr){$("body").unmask();onFormSuccess()},error:function(xhr,msg){$("body").unmask();alert("error "+msg)}})},isblank:function(s){for(var i=0;i<s.length;i++){var c=s.charAt(i);if((c!=" ")&&(c!="\n")&&(c!="\t")){return false}}return true},parseStatus:function(xml){var status_num=$(xml).find("status_num").text();if(status_num=="true"){com.infor.form.Validation.emailValid="true"}return true},emailCheckError:function(xhr,msg,errorThing){return false},getSiblingName:function(fieldName){if(fieldName==null){return"undefined"}if(fieldName=="pWebexMeeting"){return"webexIntro"}if(fieldName.substr(0,1)!="q"){return"p##localized##"+fieldName.substr(1,fieldName.length)}else{return"p##localized##"+fieldName}},verifyOtherFields:function(f){var inlineErrors=false;if(typeof suppressErrorPrompt!="undefined"){if(suppressErrorPrompt=="true"){inlineErrors=true}}if(inlineErrors){$(f).find($("div.validation-notice")).hide()}var selectOne=$(f).find("input[name='selectOneValue']").val();var cookiesDisabled=are_cookies_enabled();var selectErrorMsg=$(f).find("input[name='selectErrorMessage']").val();var mandatoryFields=$(f).find(".mandatory");var sibling;var siblingName="";var ddslickDataInvalid=false;var checkedRadioButtons="";$(mandatoryFields).each(function(i){if(inlineErrors){$("label[for="+$(this).attr("name")+"]").removeClass("error");if($(this).is(":checkbox")&&$(this).parents("div.field")){$(this).parents("div.field").removeClass("error")}else{$(this).parent().removeClass("error")}}var currentVal=$(this).val();var ddslickDataInvalid=false;if($(this).is("select")){currentVal=$(this).children(":selected").text()}if($(this).attr("type")=="checkbox"){currentVal=$("input[name='"+$(this).attr("name")+"']:checked").val()}if($(this).attr("type")=="radio"&&checkedRadioButtons.indexOf($(this).attr("name"))==-1){currentVal=$("input[name='"+$(this).attr("name")+"']:checked").val();if(checkedRadioButtons!=""){checkedRadioButtons=checkedRadioButtons+","}checkedRadioButtons=checkedRadioButtons+$(this).attr("name")}if($(this).is("div")){if($(this).data("ddslick").selectedData==null){ddslickDataInvalid=true}else{currentVal=$(this).data("ddslick").selectedData.value;com.infor.form.Validation.addFormData($(this).attr("id"),currentVal,f)}}if($(this).is("div")){siblingName=com.infor.form.Validation.getSiblingName($(this).attr("id"))}else{siblingName=com.infor.form.Validation.getSiblingName($(this).attr("name"))}sibling=$(f).find("[name='"+siblingName+"']");if((currentVal==null||currentVal==""||com.infor.form.Validation.isblank(currentVal)||currentVal==selectOne||currentVal=="selectOne"||ddslickDataInvalid)&&siblingName!="undefined"){if($(sibling).val()){if(com.infor.form.Validation.empty_fields.indexOf($(sibling).val())==-1){com.infor.form.Validation.empty_fields+="\n          - "+$(sibling).val()}}else{if($(sibling).text()){if(com.infor.form.Validation.empty_fields.indexOf($(sibling).text())==-1){com.infor.form.Validation.empty_fields+="\n          - "+$(sibling).text()}}else{if($(this).attr("name")=="inquirytype"){com.infor.form.Validation.empty_fields+="\n          - "+inquiryTypeFieldName}else{com.infor.form.Validation.empty_fields+="\n          - Field"}}}if($(this).is("select")||$(this).is("div")){com.infor.form.Validation.empty_fields+=" ("+selectErrorMsg+")"}if(inlineErrors){$("label[for="+$(this).attr("name")+"]").addClass("error");if($(this).is(":checkbox")&&$(this).parents("div.field")){$(this).parents("div.field").addClass("error")}else{$(this).parent().addClass("error")}}}});if(com.infor.form.Validation.emailValid=="false"){com.infor.form.Validation.secondMsg="- "+$(f).find("input[name='emptyEmailMessage']").val();if(inlineErrors){$("label[for=p##localized##email]").addClass("error");$("label[for=p##localized##email]").parent().addClass("error")}}if(cookiesDisabled==false){com.infor.form.Validation.cookieMsg="- "+$(f).find("input[name='disabledCookiesMessage']").val()}if(!com.infor.form.Validation.empty_fields&&!com.infor.form.Validation.errors&&com.infor.form.Validation.cookieMsg==""&&com.infor.form.Validation.secondMsg==""&&com.infor.form.Validation.thirdMsg==""&&com.infor.form.Validation.inquiryErrmsg==""){com.infor.form.Validation.formValid="true"}else{com.infor.form.Validation.msg=$(f).find("input[name='formNotSubmittedMessage']").val()+"\n";if(com.infor.form.Validation.secondMsg!=""){com.infor.form.Validation.msg+="\n"+com.infor.form.Validation.secondMsg+"\n"}if(com.infor.form.Validation.cookieMsg!=""){com.infor.form.Validation.msg+="\n"+com.infor.form.Validation.cookieMsg+"\n"}if(com.infor.form.Validation.inquiryErrmsg!=""){com.infor.form.Validation.msg+="\n"+com.infor.form.Validation.inquiryErrmsg+"\n"}if(com.infor.form.Validation.thirdMsg!=""){com.infor.form.Validation.msg+="\n"+com.infor.form.Validation.thirdMsg+"\n"}if(com.infor.form.Validation.empty_fields){com.infor.form.Validation.msg+="\n- "+$(f).find("input[name='emptyFieldsFollowingMessage']").val()+com.infor.form.Validation.empty_fields+"\n"}if(com.infor.form.Validation.errors){com.infor.form.Validation.msg+="\n"}com.infor.form.Validation.msg+=com.infor.form.Validation.errors;$("body").unmask();if(!inlineErrors){alert(com.infor.form.Validation.msg)}else{$(f).find("div.validation-notice").text($(f).find("input[name='formNotSubmittedMessage']").val());$(f).find($("div.validation-notice")).show()}com.infor.form.Validation.clearMsg()}return false},clearMsg:function(){com.infor.form.Validation.msg="";com.infor.form.Validation.secondMsg="";com.infor.form.Validation.inquiryErrmsg="";com.infor.form.Validation.thirdMsg="";com.infor.form.Validation.empty_fields="";com.infor.form.Validation.errors="";com.infor.form.Validation.cookieMsg=""},setBrowserField:function(formElement){var browserFieldNameField=$(formElement).find("input[name='browserField']");if(typeof browserFieldNameField!="undefined"&&$(browserFieldNameField).val()!=""){var browserFieldName=$(browserFieldNameField).val();var browserField=$(formElement).find("input[name='"+browserFieldName+"']");if(typeof browserField!="undefined"){var browserFieldValueField=$(formElement).find("input[name='browserFieldValue']");if(typeof browserFieldValueField!="undefined"){var browserFieldValue=$(browserFieldValueField).val();if(browserFieldValue!=""){$(browserField).val(browserFieldValue)}}}}},addFormData:function(fieldName,fieldValue,formElement){$(formElement).append('<input type="hidden" name="'+fieldName+'" value="'+fieldValue+'" />')}}}();function are_cookies_enabled(){var cookieEnabled=(navigator.cookieEnabled)?true:false;if(typeof navigator.cookieEnabled=="undefined"&&!cookieEnabled){document.cookie="testcookie";cookieEnabled=(document.cookie.indexOf("testcookie")!=-1)?true:false}return(cookieEnabled)}var openedWin=null;var wpercent=100;function launch(){var args=launch.arguments;var url=args[0];var width=args[1];var height=args[2];if(!url||!width||!height){alert("Error")}else{var scr_w=screen.availWidth;var scr_h=screen.availHeight;var target_w=0;var target_h=0;wpercent=100;if(width>=scr_w||height>=scr_h){if((width+8)>=(height+27)){target_w=scr_w-8;wpercent=Math.floor((target_w*100)/width);target_h=Math.floor((height*wpercent)/100)-27;wpercent=Math.floor((target_h*100)/height);target_w=Math.floor((width*wpercent)/100);width=target_w;height=target_h}else{if((height+27)>(width+8)){target_h=scr_h-27;wpercent=Math.floor((target_h*100)/height);target_w=Math.floor((width*wpercent)/100)-8;wpercent=Math.floor((target_w*100)/width);target_h=Math.floor((height*wpercent)/100);width=target_w;height=target_h}}}_launch(url,width,height,args[3],args[4],args[5],args[6],args[7],args[8],args[9])}}function _launch(){closeChild();var args=_launch.arguments;var url=args[0];var width=args[1];var height=args[2];var resizable=args[3]?"yes":"no";var scrollbars=args[4]?"yes":"no";var toolbar=args[5]?"yes":"no";var menubar=args[6]?"yes":"no";var status=args[7]?"yes":"no";var address=args[8]?"yes":"no";var directories=args[9]?"yes":"no";var NewX=Math.max(0,Math.floor((screen.availWidth-(width+8))/2));var NewY=Math.max(0,Math.floor((screen.availHeight-(height+27))/2));var params="";params+="width="+width;params+=",height="+height;params+=",screenx="+NewX;params+=",screeny="+NewY;params+=",left="+NewX;params+=",top="+NewY;params+=",resizable="+resizable;params+=",scrollbars="+scrollbars;params+=",toolbar="+toolbar;params+=",menubar="+menubar;params+=",status="+status;params+=",location="+address;params+=",directories="+directories;openedWin=window.open(url,"demodashboard",params)}function closeChild(){if(openedWin!=null){if(!openedWin.closed){openedWin.close()}}}onunload=closeChild;